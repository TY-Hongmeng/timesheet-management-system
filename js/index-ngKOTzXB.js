const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/Dashboard-B4dThV6H.js","js/react-BhmEO67a.js","js/dnd-CdC2KKJE.js","js/react-dom-BHsP-6Eo.js","js/vendor-CYH3FzT5.js","js/router-DPJaSBR_.js","js/supabase-yHu17Xhi.js","js/TimesheetRecord-CxswlWow.js","js/TimesheetHistory-B_m_Q9gg.js","js/CompanyManagement-C8Ll5Zod.js","js/UserManagement-Bz_hs8Tr.js","js/ProcessManagement-Wl6q4HH6.js","js/excel-ChPHbVhZ.js","js/RoleList-CHq_47fk.js","js/RoleEdit-DNqzvbne.js","js/RoleCreate-Ctui-1x8.js","js/SupervisorApproval-yFz7CM7u.js","js/SectionChiefApproval-B5mgdjlH.js","js/Reports-B9BrrJZt.js","js/History-DLKqYclY.js","js/ToastTest-LvrHR2-W.js"])))=>i.map(i=>d[i]);
import{r as e,j as t,P as s,L as m,E as n,b as r,X as a,U as i,C as o,d as l,e as c,A as u,S as h,f as g,h as d,i as N,B as b,k as x}from"./react-BhmEO67a.js";import{c as p}from"./react-dom-BHsP-6Eo.js";import{c as y,_ as f}from"./supabase-yHu17Xhi.js";import{u as w,N as v,a as E,L as k,B as D,R as j,b as V}from"./router-DPJaSBR_.js";import{T as R}from"./vendor-CYH3FzT5.js";const _=y("https://agesdprmugyybtqrvqks.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFnZXNkcHJtdWd5eWJ0cXJ2cWtzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxNDY0OTIsImV4cCI6MjA3MDcyMjQ5Mn0.bfo_xb818yMd7-u6cJhDoJrqmDwcGY1nBDJIesFSfWk",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"supabase-js-web-mobile-safari-optimized"},fetch:async(e,t)=>{try{const s=new AbortController,m=setTimeout(()=>s.abort(),1e4),n=await fetch(e,{...t,signal:s.signal});return clearTimeout(m),n}catch(s){throw s}}},db:{schema:"public"},realtime:{params:{eventsPerSecond:3}}});const S={USER_READ:"user:read",USER_MANAGE:"user:manage",USER_CREATE:"user:create",USER_DELETE:"user:delete",COMPANY_READ:"company:read",COMPANY_MANAGE:"company:manage",COMPANY_CREATE:"company:create",COMPANY_DELETE:"company:delete",PROCESS_READ:"process:read",PROCESS_MANAGE:"process:manage",PROCESS_CREATE:"process:create",PROCESS_DELETE:"process:delete",ROLE_MANAGE:"role:manage",SYSTEM_CONFIG:"system:config",TIME_RECORD:"time_record",REPORTS:"reports",HISTORY:"history",PROCESS_MANAGEMENT:"process_management",USER_MANAGEMENT:"user_management",COMPANY_MANAGEMENT:"company_management",SUPERVISOR_REVIEW:"supervisor_review",MANAGER_REVIEW:"manager_review",PERMISSION_MANAGEMENT:"permission_management"},A="超级管理员",P=[{id:"time_record",name:"记录工时",description:"记录和管理工作时间",icon:"Clock",path:"/timesheet-record",permission:S.TIME_RECORD,color:"from-green-400 to-green-600"},{id:"reports",name:"查看报表",description:"查看工时统计和分析报表",icon:"BarChart3",path:"/reports",permission:S.REPORTS,color:"from-blue-400 to-blue-600"},{id:"history",name:"历史记录",description:"查看个人工时历史记录",icon:"Activity",path:"/history",permission:S.HISTORY,color:"from-cyan-400 to-cyan-600"},{id:"process_management",name:"工序管理",description:"管理生产工序和流程",icon:"Settings",path:"/process-management",permission:S.PROCESS_MANAGEMENT,color:"from-purple-400 to-purple-600"},{id:"user_management",name:"用户管理",description:"管理系统用户和权限",icon:"Users",path:"/user-management",permission:S.USER_MANAGEMENT,color:"from-orange-400 to-orange-600"},{id:"company_management",name:"公司管理",description:"管理公司信息和部门",icon:"Building2",path:"/company-management",permission:S.COMPANY_MANAGEMENT,color:"from-teal-400 to-teal-600"},{id:"supervisor_review",name:"班长审核",description:"班长审核工时记录",icon:"CheckCircle",path:"/supervisor-approval",permission:S.SUPERVISOR_REVIEW,color:"from-indigo-400 to-indigo-600"},{id:"section_chief_review",name:"段长审核",description:"段长审核工时记录",icon:"Shield",path:"/section-chief-approval",permission:S.MANAGER_REVIEW,color:"from-pink-400 to-pink-600"},{id:"permission_management",name:"权限管理",description:"管理用户角色和权限",icon:"Key",path:"/role-permissions",permission:S.PERMISSION_MANAGEMENT,color:"from-red-400 to-red-600"}];async function L(e,t){try{return(await T(e)).includes(t)}catch(s){return!1}}let I=null;const C=6e5;async function T(e){try{if(I&&I.userId===e&&Date.now()-I.timestamp<C)return I.permissions;const{data:t,error:s}=await async function(e){try{return await async function(e,t=3,s=1e3){let m;for(let r=1;r<=t;r++)try{return await e()}catch(n){if(m=n,r===t)break;const e=s*Math.pow(2,r-1);await new Promise(t=>setTimeout(t,e))}throw m}(e,2,500)}catch(t){return{data:null,error:{message:"网络连接异常，请检查网络设置或稍后重试",code:"NETWORK_ERROR",details:t}}}}(async()=>await _.from("users").select("\n          id,\n          role_id,\n          user_roles (\n            id,\n            name,\n            permissions\n          )\n        ").eq("id",e).single());if(s||!t)return[];let m=[];return t.user_roles&&M(t.user_roles.name)?m=z():t.user_roles&&t.user_roles.permissions&&(m=t.user_roles.permissions),I={permissions:m,timestamp:Date.now(),userId:e},m}catch(t){return[]}}function O(e){return P.filter(t=>e.includes(t.permission))}function M(e){return"object"==typeof e&&null!==e?"超级管理员"===e.name:"超级管理员"===e}function J(){return P}const U=(e,t)=>{if(!e)return!1;if(M(e.role||e.user_roles))return!0;const s=e.role||e.user_roles;return!(!s||!s.permissions)&&s.permissions.includes(t)},z=()=>Object.values(S),G=e.createContext(void 0);function q({children:s}){const[m,n]=e.useState(null),[r,a]=e.useState(!0);e.useEffect(()=>{(async()=>{try{const t=localStorage.getItem("auth_user"),s=localStorage.getItem("last_login_time");if(t&&s){const m=JSON.parse(t),r=parseInt(s),i=Date.now();if(i-r>864e5)return localStorage.removeItem("auth_user"),localStorage.removeItem("last_login_time"),n(null),void a(!1);if(!navigator.onLine)return n(m),void a(!1);try{const{data:e,error:t}=await Promise.race([_.from("users").select("\n                  *,\n                  company:companies(*),\n                  role:user_roles(*)\n                ").eq("id",m.id).eq("is_active",!0).single(),new Promise((e,t)=>setTimeout(()=>t(new Error("验证超时")),8e3))]);if(e&&!t){const t=await T(e.id),s={id:e.id,phone:e.phone,name:e.name,id_card:e.id_card,company:e.company,role:e.role,department_id:e.department_id,is_active:e.is_active,permissions:t};n(s),localStorage.setItem("auth_user",JSON.stringify(s)),localStorage.setItem("last_login_time",i.toString())}else localStorage.removeItem("auth_user"),localStorage.removeItem("last_login_time"),n(null)}catch(e){n(m)}}else n(null)}catch(t){localStorage.removeItem("auth_user"),localStorage.removeItem("last_login_time"),n(null)}finally{a(!1)}})();const e=setInterval(()=>{const e=localStorage.getItem("last_login_time");if(e){const t=parseInt(e);Date.now()-t>864e5&&(localStorage.removeItem("auth_user"),localStorage.removeItem("last_login_time"),n(null),window.location.href="/login")}},6e4),{data:{subscription:t}}=_.auth.onAuthStateChange(async(e,t)=>{"SIGNED_OUT"===e&&(n(null),localStorage.removeItem("auth_user"),localStorage.removeItem("last_login_time"))});return()=>{t.unsubscribe(),clearInterval(e)}},[]);const i=async(e,t,s=0)=>{var m,r,a,o,l,c,u,h;try{if(!navigator.onLine)return{success:!1,error:"网络连接已断开，请检查网络后重试"};const{data:s,error:m}=await Promise.race([_.from("users").select("\n            *,\n            company:companies(*),\n            role:user_roles(*)\n          ").eq("phone",e).eq("is_active",!0).single(),new Promise((e,t)=>setTimeout(()=>t(new Error("请求超时")),1e4))]);if(m){if("PGRST116"===m.code)return{success:!1,error:"用户不存在或已被禁用"};throw m}if(!s)return{success:!1,error:"用户不存在或已被禁用"};if(s.password_hash!==t)return{success:!1,error:"密码错误"};let r=[];s.role&&"超级管理员"===s.role.name?r=Object.values(S):setTimeout(async()=>{try{const e=await T(s.id),t=JSON.parse(localStorage.getItem("auth_user")||"{}");t.id===s.id&&(t.permissions=e,localStorage.setItem("auth_user",JSON.stringify(t)),n(t))}catch(e){}},100);const a={id:s.id,phone:s.phone,name:s.name,id_card:s.id_card,company:s.company,role:s.role,department_id:s.department_id,is_active:s.is_active,permissions:r};return n(a),localStorage.setItem("auth_user",JSON.stringify(a)),localStorage.setItem("last_login_time",Date.now().toString()),{success:!0}}catch(g){const n=(null==(m=g.message)?void 0:m.includes("fetch"))||(null==(r=g.message)?void 0:r.includes("network"))||(null==(a=g.message)?void 0:a.includes("CONNECTION_CLOSED"))||(null==(o=g.message)?void 0:o.includes("ERR_NETWORK_CHANGED"))||(null==(l=g.message)?void 0:l.includes("ERR_ABORTED"))||(null==(c=g.message)?void 0:c.includes("ERR_CONNECTION_CLOSED"))||(null==(u=g.message)?void 0:u.includes("请求超时"))||(null==(h=g.message)?void 0:h.includes("Failed to fetch"))||"NETWORK_ERROR"===g.code||"TypeError"===g.name||!navigator.onLine;return s<5&&n?(await new Promise(e=>setTimeout(e,1e3*Math.pow(2,s))),i(e,t,s+1)):n?{success:!1,error:"网络连接不稳定，已重试".concat(s,"次，请检查网络后重试")}:{success:!1,error:g.message||"登录失败，请稍后重试"}}},o={user:m,loading:r,login:i,register:async e=>{try{const{data:t,error:s}=await _.from("users").select("id").eq("id_card",e.id_card).maybeSingle();if(s&&"PGRST116"!==s.code)return{success:!1,error:"系统错误，请稍后重试"};const{data:m,error:n}=await _.from("users").select("id").eq("phone",e.phone).maybeSingle();if(n&&"PGRST116"!==n.code)return{success:!1,error:"系统错误，请稍后重试"};if(t||m){if(t)return{success:!1,error:"该身份证号已被注册"};if(m)return{success:!1,error:"该手机号已被注册"}}const r=crypto.randomUUID(),{error:a}=await _.from("users").insert({id:r,phone:e.phone,id_card:e.id_card,name:e.name,company_id:e.company_id,role_id:e.role_id,password_hash:e.password,production_line:e.production_line,is_active:!1});if(a)return{success:!1,error:"用户信息创建失败"};const{data:i}=await _.from("users").select("\n          *,\n          company:companies(*),\n          role:user_roles(*)\n        ").eq("id",r).single();return{success:!0}}catch(t){return{success:!1,error:t.message||"注册失败，请重试"}}},logout:async()=>{try{n(null),localStorage.removeItem("auth_user"),localStorage.removeItem("last_login_time")}catch(e){n(null),localStorage.removeItem("auth_user"),localStorage.removeItem("last_login_time")}},resetPassword:async(e,t)=>{var s;try{const{data:s,error:m}=await Promise.race([_.from("users").select("id, phone, name").eq("id_card",e).eq("is_active",!0).single(),new Promise((e,t)=>setTimeout(()=>t(new Error("查询超时")),8e3))]);if(m)return"PGRST116"===m.code?{success:!1,error:"未找到该身份证号对应的用户"}:{success:!1,error:"查询用户失败，请重试"};if(!s)return{success:!1,error:"未找到该身份证号对应的用户"};if(!t)return{success:!0,user:{id:s.id,phone:s.phone,name:s.name}};const{error:n}=await Promise.race([_.from("users").update({password_hash:t}).eq("id",s.id),new Promise((e,t)=>setTimeout(()=>t(new Error("更新超时")),8e3))]);return n?{success:!1,error:"密码重置失败，请重试"}:{success:!0}}catch(m){return(null==(s=m.message)?void 0:s.includes("超时"))?{success:!1,error:"网络超时，请检查网络连接后重试"}:{success:!1,error:m.message||"密码重置失败"}}},refreshUser:async()=>{if(null==m?void 0:m.id)try{const{data:e,error:t}=await _.from("users").select("\n          *,\n          company:companies(*),\n          role:user_roles(*)\n        ").eq("id",m.id).eq("is_active",!0).single();if(e&&!t){const t=await T(e.id),s={id:e.id,phone:e.phone,name:e.name,id_card:e.id_card,company:e.company,role:e.role,department_id:e.department_id,is_active:e.is_active,permissions:t};n(s),localStorage.setItem("auth_user",JSON.stringify(s))}}catch(e){}},isAuthenticated:()=>!!(m&&m.id&&m.is_active)};return t.jsxDEV(G.Provider,{value:o,children:s},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/contexts/AuthContext.tsx",lineNumber:498,columnNumber:10},this)}function Y(){const t=e.useContext(G);if(void 0===t)throw new Error("useAuth must be used within an AuthProvider");return t}function F({children:e,requireAuth:s=!0}){const{user:m,loading:n,isAuthenticated:r}=Y(),a=w();return n?t.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:t.jsxDEV("div",{className:"text-green-400 text-xl animate-pulse font-mono",children:"加载中..."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProtectedRoute.tsx",lineNumber:17,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProtectedRoute.tsx",lineNumber:16,columnNumber:7},this):s&&!r()?t.jsxDEV(v,{to:"/login",state:{from:a},replace:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProtectedRoute.tsx",lineNumber:26,columnNumber:12},this):!s&&r()?t.jsxDEV(v,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProtectedRoute.tsx",lineNumber:31,columnNumber:12},this):t.jsxDEV(t.Fragment,{children:e},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProtectedRoute.tsx",lineNumber:34,columnNumber:10},this)}function W({children:e,allowedRoles:s,fallbackPath:m="/dashboard"}){var n;const{user:r,loading:a}=Y(),i=w();if(a)return t.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:t.jsxDEV("div",{className:"text-green-400 text-xl animate-pulse font-mono",children:"加载中..."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:22,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:21,columnNumber:7},this);if(!r)return t.jsxDEV(v,{to:"/login",state:{from:i},replace:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:31,columnNumber:12},this);const o=null==(n=r.role)?void 0:n.name;return s.some(e=>o===e||(null==o?void 0:o.toLowerCase())===e.toLowerCase())?t.jsxDEV(t.Fragment,{children:e},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:70,columnNumber:10},this):t.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-red-400 text-6xl mb-4",children:"🚫"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:54,columnNumber:11},this),t.jsxDEV("h1",{className:"text-2xl font-bold text-red-400 mb-2 font-mono",children:"访问被拒绝"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:55,columnNumber:11},this),t.jsxDEV("p",{className:"text-green-300 mb-6 font-mono",children:["您没有权限访问此页面。需要角色: ",s.join(", ")]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:56,columnNumber:11},this),t.jsxDEV("button",{onClick:()=>window.history.back(),className:"px-6 py-2 bg-green-600 hover:bg-green-500 text-black font-bold rounded font-mono transition-colors",children:"返回上一页"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:59,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:53,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:52,columnNumber:7},this)}function B(){var o,l;const[c,u]=e.useState({phone:"",password:""}),[h,g]=e.useState(!1),[d,N]=e.useState(!1),[b,x]=e.useState(""),[p,y]=e.useState(!1),[f,v]=e.useState(!1),[D,j]=e.useState([]),{login:V}=Y(),R=E(),_=(null==(l=null==(o=w().state)?void 0:o.from)?void 0:l.pathname)||"/dashboard",S=e=>{try{return atob(e)}catch(t){return""}};e.useEffect(()=>{const e=localStorage.getItem("savedUsers"),t=localStorage.getItem("savedCredentials");if(e){const t=JSON.parse(e);j(t),t.length>0&&(u(e=>({...e,phone:t[0].phone})),y(!0))}if(t)try{const e=JSON.parse(t);e.phone&&e.password&&(u({phone:e.phone,password:S(e.password)}),v(!0),y(!0))}catch(s){}},[]);const A=e=>{u({...c,[e.target.name]:e.target.value})};return t.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:t.jsxDEV("div",{className:"max-w-md w-full space-y-8",children:[t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"flex items-center justify-center mb-2",children:[t.jsxDEV("svg",{className:"w-16 h-16 mr-4",viewBox:"0 0 80 80",xmlns:"http://www.w3.org/2000/svg",children:[t.jsxDEV("ellipse",{cx:"40",cy:"40",rx:"38",ry:"30",fill:"black",stroke:"#22c55e",strokeWidth:"3"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:163,columnNumber:15},this),t.jsxDEV("text",{x:"40",y:"50",textAnchor:"middle",fill:"#22c55e",fontSize:"28",fontWeight:"bold",fontFamily:"Arial, sans-serif",children:"JT"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:164,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:162,columnNumber:13},this),t.jsxDEV("h1",{className:"text-4xl font-bold text-green-400 font-mono",children:"工时管理系统"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:166,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:161,columnNumber:11},this),t.jsxDEV("div",{className:"mt-4 h-1 bg-gradient-to-r from-transparent via-green-400 to-transparent"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:170,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:160,columnNumber:9},this),t.jsxDEV("div",{className:"bg-gray-900 border border-green-400 rounded-lg p-8 shadow-lg shadow-green-400/20",children:[t.jsxDEV("h2",{className:"text-2xl font-bold text-green-400 mb-6 text-center font-mono",children:"用户登录"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:175,columnNumber:11},this),b&&t.jsxDEV("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-400 rounded text-red-300 text-sm",children:b},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:180,columnNumber:13},this),t.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),N(!0),x(""),!c.phone||!c.password)return x("请填写所有必填字段"),void N(!1);const t=await V(c.phone,c.password);if(t.success){if(p){const e=JSON.parse(localStorage.getItem("savedUsers")||"[]");if(e.find(e=>e.phone===c.phone)){const t=e.filter(e=>e.phone!==c.phone),s=[{phone:c.phone},...t];localStorage.setItem("savedUsers",JSON.stringify(s))}else{const t=[{phone:c.phone},...e.slice(0,4)];localStorage.setItem("savedUsers",JSON.stringify(t))}}if(f){const e={phone:c.phone,password:(s=c.password,btoa(s))};localStorage.setItem("savedCredentials",JSON.stringify(e))}else localStorage.removeItem("savedCredentials");R(_,{replace:!0})}else x(t.error||"登录失败");var s;N(!1)},className:"space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"手机号码"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:188,columnNumber:15},this),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:192,columnNumber:17},this),t.jsxDEV("input",{type:"tel",name:"phone",value:c.phone,onChange:A,className:"w-full pl-12 pr-4 py-3 bg-black border border-green-400 rounded-lg text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono",placeholder:"请输入手机号码",maxLength:11},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:193,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:191,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:187,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"登录密码"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:207,columnNumber:15},this),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:211,columnNumber:17},this),t.jsxDEV("input",{type:h?"text":"password",name:"password",value:c.password,onChange:A,className:"w-full pl-12 pr-12 py-3 bg-black border border-green-400 rounded-lg text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono",placeholder:"请输入密码"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:212,columnNumber:17},this),t.jsxDEV("button",{type:"button",onClick:()=>g(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 hover:text-green-300",children:h?t.jsxDEV(n,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:225,columnNumber:35},this):t.jsxDEV(r,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:225,columnNumber:68},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:220,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:210,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:206,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex items-center",children:[t.jsxDEV("input",{type:"checkbox",id:"rememberMe",checked:p,onChange:e=>y(e.target.checked),className:"w-4 h-4 text-green-600 bg-black border-green-400 rounded focus:ring-green-500 focus:ring-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:233,columnNumber:17},this),t.jsxDEV("label",{htmlFor:"rememberMe",className:"ml-2 text-sm text-green-300 font-mono",children:"记住账号"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:240,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:232,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center",children:[t.jsxDEV("input",{type:"checkbox",id:"rememberPassword",checked:f,onChange:e=>v(e.target.checked),className:"w-4 h-4 text-green-600 bg-black border-green-400 rounded focus:ring-green-500 focus:ring-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:246,columnNumber:17},this),t.jsxDEV("label",{htmlFor:"rememberPassword",className:"ml-2 text-sm text-green-300 font-mono",children:"记住密码"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:253,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:245,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:231,columnNumber:13},this),t.jsxDEV("button",{type:"submit",disabled:d,className:"w-full py-3 bg-green-600 hover:bg-green-500 disabled:bg-green-800 text-black font-bold rounded-lg transition-colors duration-200 font-mono text-lg",children:d?"登录中...":"登录"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:260,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:185,columnNumber:11},this),D.length>0&&t.jsxDEV("div",{className:"mt-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[t.jsxDEV("h3",{className:"text-green-300 text-sm font-mono",children:"快速登录"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:273,columnNumber:17},this),t.jsxDEV("button",{type:"button",onClick:()=>{localStorage.removeItem("savedUsers"),localStorage.removeItem("savedCredentials"),j([]),u({phone:"",password:""}),y(!1),v(!1)},className:"text-red-400 hover:text-red-300 text-xs font-mono flex items-center",title:"清除所有保存的登录信息",children:[t.jsxDEV(a,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:280,columnNumber:19},this),"清除"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:274,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:272,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:D.slice(0,3).map((e,s)=>t.jsxDEV("button",{type:"button",onClick:()=>(e=>{u(t=>({...t,phone:e}));const t=localStorage.getItem("savedCredentials");if(t)try{const s=JSON.parse(t);s.phone===e&&s.password&&(u({phone:e,password:S(s.password)}),v(!0))}catch(s){}})(e.phone),className:"w-full flex items-center p-2 bg-gray-800 hover:bg-gray-700 border border-green-400/30 rounded-lg transition-colors duration-200",children:[t.jsxDEV(i,{className:"w-4 h-4 text-green-400 mr-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:292,columnNumber:21},this),t.jsxDEV("span",{className:"text-green-300 font-mono text-sm",children:e.phone},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:293,columnNumber:21},this),c.phone===e.phone&&t.jsxDEV("span",{className:"ml-auto text-green-400 text-xs font-mono",children:"当前"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:295,columnNumber:23},this)]},e.phone,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:286,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:284,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:271,columnNumber:13},this),t.jsxDEV("div",{className:"mt-6 text-center space-y-2",children:[t.jsxDEV(k,{to:"/register",className:"block text-green-400 hover:text-green-300 text-sm font-mono transition-colors",children:"还没有账号？立即注册"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:305,columnNumber:13},this),t.jsxDEV(k,{to:"/reset-password",className:"block text-green-400 hover:text-green-300 text-sm font-mono transition-colors",children:"忘记密码？重置密码"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:311,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:304,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:174,columnNumber:9},this),t.jsxDEV("div",{className:"text-center text-green-600 text-xs font-mono",children:[t.jsxDEV("p",{children:"© 吉林省通用机械（集团）有限责任公司."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:322,columnNumber:11},this),t.jsxDEV("div",{className:"mt-2 flex justify-center space-x-2",children:[t.jsxDEV("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:324,columnNumber:13},this),t.jsxDEV("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:325,columnNumber:13},this),t.jsxDEV("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:326,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:323,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:321,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:158,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:157,columnNumber:5},this)}function H({isOpen:e,onClose:s,userName:m,userPhone:n}){return e?t.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:t.jsxDEV("div",{className:"bg-gray-900 border border-green-400 rounded-lg shadow-2xl shadow-green-400/30 max-w-md w-full",children:[t.jsxDEV("div",{className:"bg-gradient-to-r from-green-900/50 to-green-800/50 border-b border-green-400/30 p-6 rounded-t-lg",children:[t.jsxDEV("div",{className:"flex items-center justify-center mb-4",children:t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(o,{className:"w-16 h-16 text-green-400"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:26,columnNumber:15},this),t.jsxDEV("div",{className:"absolute inset-0 animate-ping",children:t.jsxDEV(o,{className:"w-16 h-16 text-green-400 opacity-30"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:28,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:27,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:25,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:24,columnNumber:11},this),t.jsxDEV("h2",{className:"text-2xl font-bold text-green-400 text-center font-mono",children:"注册申请提交成功"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:32,columnNumber:11},this),t.jsxDEV("p",{className:"text-green-300 text-center text-sm font-mono mt-2",children:"REGISTRATION SUBMITTED SUCCESSFULLY"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:35,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:23,columnNumber:9},this),t.jsxDEV("div",{className:"p-6 space-y-6",children:[t.jsxDEV("div",{className:"bg-black/50 border border-green-400/30 rounded-lg p-4",children:[t.jsxDEV("h3",{className:"text-green-400 font-mono text-sm mb-3 flex items-center",children:[t.jsxDEV(l,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:45,columnNumber:15},this),"申请人信息"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:44,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2 text-sm",children:[t.jsxDEV("div",{className:"flex justify-between",children:[t.jsxDEV("span",{className:"text-green-300",children:"姓名："},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:50,columnNumber:17},this),t.jsxDEV("span",{className:"text-green-100 font-mono",children:m},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:51,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:49,columnNumber:15},this),t.jsxDEV("div",{className:"flex justify-between",children:[t.jsxDEV("span",{className:"text-green-300",children:"手机号："},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:54,columnNumber:17},this),t.jsxDEV("span",{className:"text-green-100 font-mono",children:n},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:55,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:53,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:48,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:43,columnNumber:11},this),t.jsxDEV("div",{className:"bg-yellow-900/20 border border-yellow-400/30 rounded-lg p-4",children:[t.jsxDEV("h3",{className:"text-yellow-400 font-mono text-sm mb-3 flex items-center",children:[t.jsxDEV(c,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:63,columnNumber:15},this),"当前状态"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:62,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex items-center",children:[t.jsxDEV("div",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-3 animate-pulse"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:68,columnNumber:17},this),t.jsxDEV("span",{className:"text-yellow-100 text-sm",children:"账号状态：待激活"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:69,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:67,columnNumber:15},this),t.jsxDEV("p",{className:"text-yellow-200 text-xs leading-relaxed",children:'您的账号已成功创建，但当前处于"待激活"状态。系统管理员将在1-2个工作日内审核您的申请。'},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:71,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:66,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:61,columnNumber:11},this),t.jsxDEV("div",{className:"bg-blue-900/20 border border-blue-400/30 rounded-lg p-4",children:[t.jsxDEV("h3",{className:"text-blue-400 font-mono text-sm mb-3",children:"后续步骤"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:79,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2 text-xs text-blue-200",children:[t.jsxDEV("div",{className:"flex items-start",children:[t.jsxDEV(u,{className:"w-3 h-3 mr-2 mt-0.5 text-blue-400 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:82,columnNumber:17},this),t.jsxDEV("span",{children:"请耐心等待系统管理员审核激活您的账号"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:83,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:81,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-start",children:[t.jsxDEV(u,{className:"w-3 h-3 mr-2 mt-0.5 text-blue-400 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:86,columnNumber:17},this),t.jsxDEV("span",{children:"账号激活后，您将可以使用注册的手机号和密码登录系统"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:87,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:85,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-start",children:[t.jsxDEV(u,{className:"w-3 h-3 mr-2 mt-0.5 text-blue-400 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:90,columnNumber:17},this),t.jsxDEV("span",{children:"如有疑问，请联系系统管理员或IT支持部门"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:91,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:89,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:80,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:78,columnNumber:11},this),t.jsxDEV("div",{className:"pt-4",children:t.jsxDEV("button",{onClick:s,className:"w-full bg-green-600 hover:bg-green-500 text-white font-mono py-3 px-4 rounded-lg transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-opacity-50",children:"前往登录页面"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:98,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:97,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:41,columnNumber:9},this),t.jsxDEV("div",{className:"bg-gray-800/50 border-t border-green-400/30 p-4 rounded-b-lg",children:t.jsxDEV("p",{className:"text-green-300 text-xs text-center font-mono",children:"工时管理系统 · TIMETRACK SYSTEM"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:109,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:108,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:21,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:20,columnNumber:5},this):null}function K({productionLines:s,value:m,onChange:n,placeholder:r="请选择生产线",disabled:a=!1,className:i="",showSearch:o=!0,maxHeight:l="max-h-48"}){const[c,u]=e.useState(!1),[N,b]=e.useState(""),[x,p]=e.useState(m),y=e.useRef(null),f=e.useRef(null),w=s.filter(e=>e.toLowerCase().includes(N.toLowerCase())),v=e=>{n(e),p(e),b(""),u(!1)};return e.useEffect(()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&(u(!1),s.includes(x)||(p(m),b("")))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[x,m,s]),e.useEffect(()=>{p(m),b("")},[m]),t.jsxDEV("div",{ref:y,className:"relative ".concat(i),children:[t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4 z-10"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:98,columnNumber:9},this),o?t.jsxDEV("input",{ref:f,type:"text",value:x,onChange:e=>{const t=e.target.value;b(t),p(t);const m=s.find(e=>e.toLowerCase()===t.toLowerCase());m?n(m):""===t&&n("")},onFocus:()=>u(!0),onKeyDown:e=>{"Enter"===e.key&&1===w.length?v(w[0]):"Escape"===e.key&&(u(!1),p(m),b(""))},disabled:a,placeholder:r,className:"w-full pl-10 pr-10 py-2 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:101,columnNumber:11},this):t.jsxDEV("div",{onClick:()=>!a&&u(!c),className:"w-full pl-10 pr-10 py-2 bg-black border border-green-400 rounded text-green-300 font-mono text-sm cursor-pointer flex items-center justify-between ".concat(a?"opacity-50 cursor-not-allowed":"hover:border-green-300"),children:t.jsxDEV("span",{className:m?"text-green-300":"text-green-600",children:m||r},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:119,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:113,columnNumber:11},this),t.jsxDEV(g,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4 transition-transform ".concat(c?"rotate-180":"")},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:125,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:97,columnNumber:7},this),c&&!a&&t.jsxDEV("div",{className:"absolute z-50 w-full mt-1 bg-gray-800 border border-green-400 rounded-md shadow-lg ".concat(l," overflow-y-auto"),children:[o&&N&&t.jsxDEV("div",{className:"px-3 py-2 text-green-400 text-xs border-b border-gray-700 bg-gray-900",children:[t.jsxDEV(d,{className:"inline w-3 h-3 mr-1"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:137,columnNumber:15},this),'搜索: "',N,'"']},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:136,columnNumber:13},this),w.length>0?w.map((e,s)=>t.jsxDEV("div",{onClick:()=>v(e),className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-green-300 text-sm border-b border-gray-700 last:border-b-0 ".concat(e===m?"bg-gray-700 text-green-400":""),children:e},"".concat(e,"-").concat(s),!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:144,columnNumber:15},this)):t.jsxDEV("div",{className:"px-3 py-2 text-gray-400 text-sm",children:N?"没有找到匹配的生产线":"暂无可用生产线"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:155,columnNumber:13},this),w.length>0&&t.jsxDEV("div",{className:"px-3 py-1 text-green-600 text-xs border-t border-gray-700 bg-gray-900",children:["共 ",w.length," 条生产线",N&&" (从 ".concat(s.length," 条中筛选)")]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:162,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:134,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:96,columnNumber:5},this)}function X(){const[a,o]=e.useState({phone:"",password:"",confirmPassword:"",id_card:"",name:"",company_id:"",role_id:"",production_line:""}),[c,u]=e.useState(!1),[h,g]=e.useState(!1),[d,x]=e.useState(!1),[p,y]=e.useState(""),[f,w]=e.useState([]),[v,D]=e.useState([]),[j,V]=e.useState(""),[R,S]=e.useState(!0),[A,P]=e.useState([]),[L,I]=e.useState(!1),[C,T]=e.useState(null),[O,M]=e.useState(!1),{register:J}=Y(),U=E();e.useEffect(()=>{(async()=>{try{const{data:e,error:t}=await _.from("companies").select("*").order("name");if(t)throw t;const{data:s,error:m}=await _.from("user_roles").select("*").neq("name","超级管理员").order("name");if(m)throw m;w(e||[]),D(s||[])}catch(e){y("获取数据失败，请重试")}finally{S(!1)}})()},[]);const z=async e=>{try{const{data:t,error:s}=await _.from("processes").select("production_line").eq("company_id",e).eq("is_active",!0);if(s)throw s;const m=[...new Set((null==t?void 0:t.map(e=>e.production_line))||[])];P(m)}catch(t){P([])}},G=async e=>{const{name:t,value:s}=e.target;if(o(e=>({...e,[t]:s})),"role_id"===t){const e=v.find(e=>e.id===s);T(e||null);const t=e&&("班长"===e.name||"段长"===e.name);I(t||!1),t&&a.company_id&&await z(a.company_id),t||o(e=>({...e,production_line:""}))}if("company_id"===t&&L&&(await z(s),o(e=>({...e,production_line:""}))),"confirmPassword"===t||"password"===t){const e="password"===t?s:a.password,m="confirmPassword"===t?s:a.confirmPassword;V(m&&e!==m?"两次输入的密码不一致":"")}};return R?t.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:t.jsxDEV("div",{className:"text-green-400 text-xl animate-pulse font-mono",children:"加载中..."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:210,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:209,columnNumber:7},this):t.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center px-4 py-8",children:[t.jsxDEV("div",{className:"max-w-md w-full space-y-8",children:[t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("h1",{className:"text-4xl font-bold text-green-400 mb-2 font-mono",children:"工时管理系统"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:222,columnNumber:11},this),t.jsxDEV("p",{className:"text-green-300 text-lg font-mono",children:"TIMETRACK SYSTEM"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:225,columnNumber:11},this),t.jsxDEV("div",{className:"mt-4 h-1 bg-gradient-to-r from-transparent via-green-400 to-transparent"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:228,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:221,columnNumber:9},this),t.jsxDEV("div",{className:"bg-gray-900 border border-green-400 rounded-lg p-8 shadow-lg shadow-green-400/20",children:[t.jsxDEV("h2",{className:"text-2xl font-bold text-green-400 mb-6 text-center font-mono",children:"用户注册"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:233,columnNumber:11},this),p&&t.jsxDEV("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-400 rounded text-red-300 text-sm",children:p},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:238,columnNumber:13},this),t.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),x(!0),y(""),!(a.phone&&a.password&&a.id_card&&a.name&&a.company_id&&a.role_id))return y("请填写所有必填字段"),void x(!1);if(L&&!a.production_line)return y("请选择生产线"),void x(!1);if(a.password!==a.confirmPassword)return y("两次输入的密码不一致"),V("两次输入的密码不一致"),void x(!1);if(a.password.length<6)return y("密码长度至少6位"),void x(!1);if(!/^1[3-9]\d{9}$/.test(a.phone))return y("请输入正确的手机号码"),void x(!1);if(!/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(a.id_card))return y("请输入正确的身份证号码"),void x(!1);const t=await J({phone:a.phone,password:a.password,id_card:a.id_card,name:a.name,company_id:a.company_id,role_id:a.role_id,production_line:L?a.production_line:null});t.success?(y(""),M(!0)):y(t.error||"注册失败"),x(!1)},className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"手机号码 *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:246,columnNumber:15},this),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:250,columnNumber:17},this),t.jsxDEV("input",{type:"tel",name:"phone",value:a.phone,onChange:G,className:"w-full pl-10 pr-4 py-2 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",placeholder:"请输入手机号码",maxLength:11},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:251,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:249,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:245,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"身份证号 *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:265,columnNumber:15},this),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:269,columnNumber:17},this),t.jsxDEV("input",{type:"text",name:"id_card",value:a.id_card,onChange:G,className:"w-full pl-10 pr-4 py-2 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",placeholder:"请输入身份证号码",maxLength:18},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:270,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:268,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:264,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"姓名 *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:284,columnNumber:15},this),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:288,columnNumber:17},this),t.jsxDEV("input",{type:"text",name:"name",value:a.name,onChange:G,className:"w-full pl-10 pr-4 py-2 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",placeholder:"请输入真实姓名"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:289,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:287,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:283,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"所属公司 *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:304,columnNumber:15},this),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(b,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:308,columnNumber:17},this),t.jsxDEV("select",{name:"company_id",value:a.company_id,onChange:G,className:"w-full pl-10 pr-4 py-2 bg-black border border-green-400 rounded text-green-300 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",children:[t.jsxDEV("option",{value:"",children:"请选择公司"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:315,columnNumber:19},this),f.map(e=>t.jsxDEV("option",{value:e.id,children:e.name},e.id,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:317,columnNumber:21},this))]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:309,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:307,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:303,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"用户角色 *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:327,columnNumber:15},this),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:331,columnNumber:17},this),t.jsxDEV("select",{name:"role_id",value:a.role_id,onChange:G,className:"w-full pl-10 pr-4 py-2 bg-black border border-green-400 rounded text-green-300 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",children:[t.jsxDEV("option",{value:"",children:"请选择角色"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:338,columnNumber:19},this),v.map(e=>t.jsxDEV("option",{value:e.id,children:e.name},e.id,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:340,columnNumber:21},this))]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:332,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:330,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:326,columnNumber:13},this),L&&t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"生产线 *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:351,columnNumber:17},this),t.jsxDEV(K,{productionLines:A,value:a.production_line,onChange:e=>o(t=>({...t,production_line:e})),placeholder:"请选择生产线",showSearch:A.length>5,maxHeight:"max-h-60"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:354,columnNumber:17},this),0===A.length&&a.company_id&&t.jsxDEV("div",{className:"mt-1 text-yellow-400 text-xs font-mono",children:"该公司暂无可用生产线"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:363,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:350,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"登录密码 *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:372,columnNumber:15},this),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:376,columnNumber:17},this),t.jsxDEV("input",{type:c?"text":"password",name:"password",value:a.password,onChange:G,className:"w-full pl-10 pr-10 py-2 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",placeholder:"请输入密码（至少6位）"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:377,columnNumber:17},this),t.jsxDEV("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 hover:text-green-300",children:c?t.jsxDEV(n,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:390,columnNumber:35},this):t.jsxDEV(r,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:390,columnNumber:68},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:385,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:375,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:371,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"确认密码 *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:397,columnNumber:15},this),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:401,columnNumber:17},this),t.jsxDEV("input",{type:h?"text":"password",name:"confirmPassword",value:a.confirmPassword,onChange:G,className:"w-full pl-10 pr-10 py-2 bg-black border rounded text-green-300 placeholder-green-600 focus:outline-none focus:ring-1 font-mono text-sm ".concat(j?"border-red-400 focus:border-red-300 focus:ring-red-300":"border-green-400 focus:border-green-300 focus:ring-green-300"),placeholder:"请再次输入密码"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:402,columnNumber:17},this),t.jsxDEV("button",{type:"button",onClick:()=>g(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 hover:text-green-300",children:h?t.jsxDEV(n,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:417,columnNumber:42},this):t.jsxDEV(r,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:417,columnNumber:75},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:412,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:400,columnNumber:15},this),j&&t.jsxDEV("div",{className:"mt-1 text-red-400 text-xs font-mono",children:j},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:421,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:396,columnNumber:13},this),t.jsxDEV("button",{type:"submit",disabled:d,className:"w-full py-3 bg-green-600 hover:bg-green-500 disabled:bg-green-800 text-black font-bold rounded-lg transition-colors duration-200 font-mono text-lg mt-6",children:d?"注册中...":"注册"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:428,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:243,columnNumber:11},this),t.jsxDEV("div",{className:"mt-6 text-center",children:t.jsxDEV(k,{to:"/login",className:"text-green-400 hover:text-green-300 text-sm font-mono transition-colors",children:"已有账号？立即登录"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:439,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:438,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:232,columnNumber:9},this),t.jsxDEV("div",{className:"text-center text-green-600 text-xs font-mono",children:t.jsxDEV("p",{children:"© 2024 工时管理系统. All rights reserved."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:450,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:449,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:219,columnNumber:7},this),t.jsxDEV(H,{isOpen:O,onClose:()=>{M(!1),U("/login")},userName:a.name,userPhone:a.phone},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:455,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:218,columnNumber:5},this)}function Z(){const[s,a]=e.useState("verify"),[i,o]=e.useState({id_card:"",newPassword:"",confirmPassword:""}),[l,c]=e.useState(!1),[u,h]=e.useState(!1),[g,d]=e.useState(!1),[b,p]=e.useState(""),[y,f]=e.useState(""),[w,v]=e.useState(null),{resetPassword:D}=Y(),j=E(),V=e=>{const{name:t,value:s}=e.target;if(o(e=>({...e,[t]:s})),"confirmPassword"===t||"newPassword"===t){const e="newPassword"===t?s:i.newPassword,m="confirmPassword"===t?s:i.confirmPassword;f(m&&e!==m?"两次输入的密码不一致":"")}};return t.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:t.jsxDEV("div",{className:"max-w-md w-full space-y-8",children:[t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("h1",{className:"text-4xl font-bold text-green-400 mb-2 font-mono",children:"工时管理系统"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:124,columnNumber:11},this),t.jsxDEV("p",{className:"text-green-300 text-lg font-mono",children:"TIMETRACK SYSTEM"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:127,columnNumber:11},this),t.jsxDEV("div",{className:"mt-4 h-1 bg-gradient-to-r from-transparent via-green-400 to-transparent"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:130,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:123,columnNumber:9},this),t.jsxDEV("div",{className:"bg-gray-900 border border-green-400 rounded-lg p-8 shadow-lg shadow-green-400/20",children:[t.jsxDEV("div",{className:"flex items-center mb-6",children:[t.jsxDEV("button",{onClick:()=>{"reset"===s?(a("verify"),v(null),p("")):j("/login")},className:"text-green-400 hover:text-green-300 mr-3 transition-colors",children:t.jsxDEV(x,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:140,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:136,columnNumber:13},this),t.jsxDEV("h2",{className:"text-2xl font-bold text-green-400 font-mono",children:"verify"===s?"身份验证":"重置密码"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:142,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:135,columnNumber:11},this),b&&t.jsxDEV("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-400 rounded text-red-300 text-sm",children:b},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:148,columnNumber:13},this),"verify"===s?t.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),d(!0),p(""),!i.id_card)return p("请输入身份证号码"),void d(!1);if(!/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(i.id_card))return p("请输入正确的身份证号码"),void d(!1);const t=await D(i.id_card);t.success&&t.user?(v(t.user),a("reset"),p("")):p(t.error||"身份证号码验证失败，请检查后重试"),d(!1)},className:"space-y-6",children:[t.jsxDEV("div",{className:"text-center mb-6",children:t.jsxDEV("p",{className:"text-green-300 text-sm font-mono",children:"请输入您的身份证号码进行身份验证"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:156,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:155,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"身份证号码"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:163,columnNumber:17},this),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:167,columnNumber:19},this),t.jsxDEV("input",{type:"text",name:"id_card",value:i.id_card,onChange:V,className:"w-full pl-12 pr-4 py-3 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono",placeholder:"请输入身份证号码",maxLength:18},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:168,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:166,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:162,columnNumber:15},this),t.jsxDEV("button",{type:"submit",disabled:g,className:"w-full py-3 bg-green-600 hover:bg-green-500 disabled:bg-green-800 text-black font-bold rounded-lg transition-colors duration-200 font-mono text-lg",children:g?"验证中...":"验证身份"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:181,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:154,columnNumber:13},this):t.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),d(!0),p(""),!i.newPassword||!i.confirmPassword)return p("请填写新密码和确认密码"),void d(!1);if(i.newPassword!==i.confirmPassword)return p("两次输入的密码不一致"),f("两次输入的密码不一致"),void d(!1);if(i.newPassword.length<6)return p("密码长度至少6位"),void d(!1);const t=await D(i.id_card,i.newPassword);t.success?(alert("密码重置成功，请使用新密码登录"),j("/login")):p(t.error||"密码重置失败"),d(!1)},className:"space-y-6",children:[w&&t.jsxDEV("div",{className:"bg-green-900/30 border border-green-400 rounded p-4 mb-6",children:[t.jsxDEV("p",{className:"text-green-300 text-sm font-mono",children:["验证成功！正在为用户 ",t.jsxDEV("span",{className:"text-green-400 font-bold",children:w.name},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:194,columnNumber:32},this)," 重置密码"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:193,columnNumber:19},this),t.jsxDEV("p",{className:"text-green-400 text-xs font-mono mt-1",children:["手机号: ",w.phone]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:196,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:192,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"新密码"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:204,columnNumber:17},this),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:208,columnNumber:19},this),t.jsxDEV("input",{type:l?"text":"password",name:"newPassword",value:i.newPassword,onChange:V,className:"w-full pl-12 pr-12 py-3 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono",placeholder:"请输入新密码（至少6位）"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:209,columnNumber:19},this),t.jsxDEV("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 hover:text-green-300",children:l?t.jsxDEV(n,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:222,columnNumber:37},this):t.jsxDEV(r,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:222,columnNumber:70},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:217,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:207,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:203,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"确认新密码"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:229,columnNumber:17},this),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:233,columnNumber:19},this),t.jsxDEV("input",{type:u?"text":"password",name:"confirmPassword",value:i.confirmPassword,onChange:V,className:"w-full pl-12 pr-12 py-3 bg-black border rounded text-green-300 placeholder-green-600 focus:outline-none focus:ring-1 font-mono ".concat(y?"border-red-400 focus:border-red-300 focus:ring-red-300":"border-green-400 focus:border-green-300 focus:ring-green-300"),placeholder:"请再次输入新密码"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:234,columnNumber:19},this),t.jsxDEV("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 hover:text-green-300",children:u?t.jsxDEV(n,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:249,columnNumber:44},this):t.jsxDEV(r,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:249,columnNumber:77},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:244,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:232,columnNumber:17},this),y&&t.jsxDEV("div",{className:"mt-1 text-red-400 text-xs font-mono",children:y},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:253,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:228,columnNumber:15},this),t.jsxDEV("button",{type:"submit",disabled:g,className:"w-full py-3 bg-green-600 hover:bg-green-500 disabled:bg-green-800 text-black font-bold rounded-lg transition-colors duration-200 font-mono text-lg",children:g?"重置中...":"重置密码"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:260,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:190,columnNumber:13},this),t.jsxDEV("div",{className:"mt-6 text-center",children:t.jsxDEV(k,{to:"/login",className:"text-green-400 hover:text-green-300 text-sm font-mono transition-colors",children:"返回登录"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:272,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:271,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:134,columnNumber:9},this),t.jsxDEV("div",{className:"text-center text-green-600 text-xs font-mono",children:t.jsxDEV("p",{children:"© 2024 工时管理系统. All rights reserved."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:283,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:282,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:121,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:120,columnNumber:5},this)}const $=e.lazy(()=>f(()=>import("./Dashboard-B4dThV6H.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Q=e.lazy(()=>f(()=>import("./TimesheetRecord-CxswlWow.js"),__vite__mapDeps([7,1,4,3,5,6]))),ee=e.lazy(()=>f(()=>import("./TimesheetHistory-B_m_Q9gg.js"),__vite__mapDeps([8,1,4,3,6,5]))),te=e.lazy(()=>f(()=>import("./CompanyManagement-C8Ll5Zod.js"),__vite__mapDeps([9,1,2,3,4,5,6]))),se=e.lazy(()=>f(()=>import("./UserManagement-Bz_hs8Tr.js"),__vite__mapDeps([10,1,4,3,5,6]))),me=e.lazy(()=>f(()=>import("./ProcessManagement-Wl6q4HH6.js"),__vite__mapDeps([11,1,4,3,12,5,6]))),ne=e.lazy(()=>f(()=>import("./RoleList-CHq_47fk.js"),__vite__mapDeps([13,1,5,3,4,6]))),re=e.lazy(()=>f(()=>import("./RoleEdit-DNqzvbne.js"),__vite__mapDeps([14,1,5,3,4,6]))),ae=e.lazy(()=>f(()=>import("./RoleCreate-Ctui-1x8.js"),__vite__mapDeps([15,1,5,3,4,6]))),ie=e.lazy(()=>f(()=>import("./SupervisorApproval-yFz7CM7u.js"),__vite__mapDeps([16,1,4,3,5,6]))),oe=e.lazy(()=>f(()=>import("./SectionChiefApproval-B5mgdjlH.js"),__vite__mapDeps([17,1,4,3,5,6]))),le=e.lazy(()=>f(()=>import("./Reports-B9BrrJZt.js"),__vite__mapDeps([18,6,1,4,3,5]))),ce=e.lazy(()=>f(()=>import("./History-DLKqYclY.js"),__vite__mapDeps([19,1,4,3,5,6]))),ue=e.lazy(()=>f(()=>import("./ToastTest-LvrHR2-W.js"),__vite__mapDeps([20,1,4,3]))),he=()=>t.jsxDEV("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mb-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:44,columnNumber:7},void 0),t.jsxDEV("p",{className:"text-gray-600",children:"正在加载..."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:45,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:43,columnNumber:5},void 0);class ge extends e.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){var e;return this.state.hasError?t.jsxDEV("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:t.jsxDEV("div",{className:"max-w-md text-center",children:[t.jsxDEV("div",{className:"mb-6",children:[t.jsxDEV("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsxDEV("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:83,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:82,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:81,columnNumber:15},this),t.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"应用出现错误"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:86,columnNumber:15},this),t.jsxDEV("p",{className:"text-gray-600 mb-6",children:"抱歉，应用遇到了一个意外错误。请尝试刷新页面或稍后再试。"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:87,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:80,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"刷新页面"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:93,columnNumber:15},this),t.jsxDEV("button",{onClick:()=>this.setState({hasError:!1}),className:"w-full px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"重试"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:99,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:92,columnNumber:13},this),this.state.error&&t.jsxDEV("details",{className:"mt-6 text-left",children:[t.jsxDEV("summary",{className:"cursor-pointer text-sm text-gray-500 hover:text-gray-700",children:"查看错误详情"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:110,columnNumber:17},this),t.jsxDEV("pre",{className:"mt-2 p-3 bg-gray-100 rounded text-xs overflow-auto max-h-40",children:[this.state.error.toString(),null==(e=this.state.errorInfo)?void 0:e.componentStack]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:113,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:109,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:79,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:78,columnNumber:9},this):this.props.children}}const de=({children:s})=>t.jsxDEV(e.Suspense,{fallback:t.jsxDEV(he,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:147,columnNumber:25},void 0),children:t.jsxDEV(ge,{children:s},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:148,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:147,columnNumber:5},void 0);function Ne(){return e.useEffect(()=>{"requestIdleCallback"in window?requestIdleCallback(()=>{var e,t;null==(e=$.preload)||e.call($),null==(t=Q.preload)||t.call(Q)}):setTimeout(()=>{var e,t;null==(e=$.preload)||e.call($),null==(t=Q.preload)||t.call(Q)},2e3)},[]),t.jsxDEV(ge,{children:t.jsxDEV(q,{children:t.jsxDEV(D,{basename:"",children:[t.jsxDEV(R,{position:"top-right",richColors:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:168,columnNumber:11},this),t.jsxDEV(j,{children:[t.jsxDEV(V,{path:"/login",element:t.jsxDEV(B,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:171,columnNumber:41},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:171,columnNumber:11},this),t.jsxDEV(V,{path:"/register",element:t.jsxDEV(X,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:172,columnNumber:44},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:172,columnNumber:11},this),t.jsxDEV(V,{path:"/reset-password",element:t.jsxDEV(Z,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:173,columnNumber:50},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:173,columnNumber:11},this),t.jsxDEV(V,{path:"/",element:t.jsxDEV(F,{children:t.jsxDEV(v,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:178,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:177,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:176,columnNumber:11},this),t.jsxDEV(V,{path:"/dashboard",element:t.jsxDEV(F,{children:t.jsxDEV(de,{children:t.jsxDEV($,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:183,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:183,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:182,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:181,columnNumber:11},this),t.jsxDEV(V,{path:"/company-management",element:t.jsxDEV(F,{children:t.jsxDEV(de,{children:t.jsxDEV(te,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:188,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:188,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:187,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:186,columnNumber:11},this),t.jsxDEV(V,{path:"/user-management",element:t.jsxDEV(F,{children:t.jsxDEV(de,{children:t.jsxDEV(se,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:193,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:193,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:192,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:191,columnNumber:11},this),t.jsxDEV(V,{path:"/role-permissions",element:t.jsxDEV(F,{children:t.jsxDEV(de,{children:t.jsxDEV(ne,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:198,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:198,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:197,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:196,columnNumber:11},this),t.jsxDEV(V,{path:"/role-permissions/edit/:id",element:t.jsxDEV(F,{children:t.jsxDEV(de,{children:t.jsxDEV(re,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:204,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:204,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:203,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:202,columnNumber:11},this),t.jsxDEV(V,{path:"/role-permissions/create",element:t.jsxDEV(F,{children:t.jsxDEV(de,{children:t.jsxDEV(ae,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:209,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:209,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:208,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:207,columnNumber:11},this),t.jsxDEV(V,{path:"/process-management",element:t.jsxDEV(F,{children:t.jsxDEV(de,{children:t.jsxDEV(me,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:214,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:214,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:213,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:212,columnNumber:11},this),t.jsxDEV(V,{path:"/timesheet-record",element:t.jsxDEV(F,{children:t.jsxDEV(de,{children:t.jsxDEV(Q,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:219,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:219,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:218,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:217,columnNumber:11},this),t.jsxDEV(V,{path:"/timesheet-history",element:t.jsxDEV(F,{children:t.jsxDEV(de,{children:t.jsxDEV(ee,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:224,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:224,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:223,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:222,columnNumber:11},this),t.jsxDEV(V,{path:"/supervisor-approval",element:t.jsxDEV(W,{allowedRoles:["班长","supervisor","超级管理员","super_admin"],children:t.jsxDEV(de,{children:t.jsxDEV(ie,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:229,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:229,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:228,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:227,columnNumber:11},this),t.jsxDEV(V,{path:"/section-chief-approval",element:t.jsxDEV(W,{allowedRoles:["段长","section_chief","超级管理员","super_admin"],children:t.jsxDEV(de,{children:t.jsxDEV(oe,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:234,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:234,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:233,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:232,columnNumber:11},this),t.jsxDEV(V,{path:"/reports",element:t.jsxDEV(F,{children:t.jsxDEV(de,{children:t.jsxDEV(le,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:239,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:239,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:238,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:237,columnNumber:11},this),t.jsxDEV(V,{path:"/history",element:t.jsxDEV(F,{children:t.jsxDEV(de,{children:t.jsxDEV(ce,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:244,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:244,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:243,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:242,columnNumber:11},this),t.jsxDEV(V,{path:"/toast-test",element:t.jsxDEV(F,{children:t.jsxDEV(de,{children:t.jsxDEV(ue,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:249,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:249,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:248,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:247,columnNumber:11},this),t.jsxDEV(V,{path:"*",element:t.jsxDEV(v,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:256,columnNumber:36},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:256,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:169,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:167,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:166,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:165,columnNumber:5},this)}!function(){try{const s=document.getElementById("root");if(!s)throw new Error("找不到根容器元素");p(s).render(t.jsxDEV(e.StrictMode,{children:t.jsxDEV(Ne,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/main.tsx",lineNumber:18,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/main.tsx",lineNumber:17,columnNumber:7},this))}catch(s){const e=document.getElementById("root");e&&(e.innerHTML='\n        <div style="\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          height: 100vh;\n          padding: 20px;\n          text-align: center;\n          font-family: Arial, sans-serif;\n        ">\n          <h2 style="color: #dc2626; margin-bottom: 16px;">应用启动失败</h2>\n          <p style="color: #6b7280; margin-bottom: 24px;">'.concat(s.message||"未知错误",'</p>\n          <button \n            onclick="window.location.reload()" \n            style="\n              background: #3b82f6;\n              color: white;\n              border: none;\n              padding: 12px 24px;\n              border-radius: 6px;\n              cursor: pointer;\n              font-size: 16px;\n            "\n          >\n            刷新页面\n          </button>\n        </div>\n      '))}}();export{P as D,S as P,A as S,L as c,O as f,J as g,U as h,M as i,_ as s,Y as u};
