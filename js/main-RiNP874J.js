const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/Dashboard-BCx7xXuE.js","js/libs/lib-react-CmVvENop.js","js/libs/lib-dnd-kit-NakZffAn.js","js/libs/lib-react-dom-xIK_1wjR.js","js/vendor-BPcnth7H.js","js/pages/page-reports-BuKKTJso.js","js/pages/page-admin-DIiCL3HX.js","js/libs/lib-supabase-CwH9oqoL.js","js/libs/lib-toast-BLtamXt4.js","js/components/components-shared-zNXwIS8Z.js","js/libs/lib-excel-ChPHbVhZ.js","js/pages/page-timesheet-yfy0SdtJ.js","js/pages/page-process-C66QNRrI.js","js/pages/page-roles-CRI_T0Ef.js","js/pages/page-approval-D6Tp2Mgj.js","js/History-BrBCkiXu.js","js/ToastTest-HdeLWSkM.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,s,n)=>((t,s,n)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n)(t,"symbol"!=typeof s?s+"":s,n);import{j as s,r as n,i as m,L as r,N as i,I as a,X as o,h as l,k as c,B as h,U as u,s as d,c as g}from"./libs/lib-react-CmVvENop.js";import{c as b}from"./libs/lib-react-dom-xIK_1wjR.js";import{_ as p}from"./pages/page-reports-BuKKTJso.js";import{u as N,s as y,A as x}from"./pages/page-admin-DIiCL3HX.js";import{b as f,N as w,u as v,L as k,B as E,c as j,d as D}from"./vendor-BPcnth7H.js";import{T as V}from"./libs/lib-toast-BLtamXt4.js";import{R as A}from"./components/components-shared-zNXwIS8Z.js";import"./libs/lib-dnd-kit-NakZffAn.js";import"./libs/lib-supabase-CwH9oqoL.js";import"./libs/lib-excel-ChPHbVhZ.js";function R({children:e,requireAuth:t=!0}){const{user:n,loading:m,isAuthenticated:r}=N(),i=f();return m?s.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsxDEV("div",{className:"text-green-400 text-xl animate-pulse font-mono",children:"åŠ è½½ä¸­..."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProtectedRoute.tsx",lineNumber:17,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProtectedRoute.tsx",lineNumber:16,columnNumber:7},this):t&&!r()?s.jsxDEV(w,{to:"/login",state:{from:i},replace:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProtectedRoute.tsx",lineNumber:26,columnNumber:12},this):!t&&r()?s.jsxDEV(w,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProtectedRoute.tsx",lineNumber:31,columnNumber:12},this):s.jsxDEV(s.Fragment,{children:e},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProtectedRoute.tsx",lineNumber:34,columnNumber:10},this)}function L({children:e,allowedRoles:t,fallbackPath:n="/dashboard"}){var m;const{user:r,loading:i}=N(),a=f();if(i)return s.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsxDEV("div",{className:"text-green-400 text-xl animate-pulse font-mono",children:"åŠ è½½ä¸­..."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:22,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:21,columnNumber:7},this);if(!r)return s.jsxDEV(w,{to:"/login",state:{from:a},replace:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:31,columnNumber:12},this);const o=null==(m=r.role)?void 0:m.name;return t.some(e=>o===e||(null==o?void 0:o.toLowerCase())===e.toLowerCase())?s.jsxDEV(s.Fragment,{children:e},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:70,columnNumber:10},this):s.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV("div",{className:"text-red-400 text-6xl mb-4",children:"ğŸš«"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:54,columnNumber:11},this),s.jsxDEV("h1",{className:"text-2xl font-bold text-red-400 mb-2 font-mono",children:"è®¿é—®è¢«æ‹’ç»"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:55,columnNumber:11},this),s.jsxDEV("p",{className:"text-green-300 mb-6 font-mono",children:["æ‚¨æ²¡æœ‰æƒé™è®¿é—®æ­¤é¡µé¢ã€‚éœ€è¦è§’è‰²: ",t.join(", ")]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:56,columnNumber:11},this),s.jsxDEV("button",{onClick:()=>window.history.back(),className:"px-6 py-2 bg-green-600 hover:bg-green-500 text-black font-bold rounded font-mono transition-colors",children:"è¿”å›ä¸Šä¸€é¡µ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:59,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:53,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:52,columnNumber:7},this)}function S(){var e,t;const[c,h]=n.useState({phone:"",password:""}),[u,d]=n.useState(!1),[g,b]=n.useState(!1),[p,y]=n.useState(""),[x,w]=n.useState(!1),[E,j]=n.useState(!1),[D,V]=n.useState([]),{login:A}=N(),R=v(),L=(null==(t=null==(e=f().state)?void 0:e.from)?void 0:t.pathname)||"/dashboard",S=e=>{try{return atob(e)}catch(t){return""}};n.useEffect(()=>{const e=localStorage.getItem("savedUsers"),t=localStorage.getItem("savedCredentials");if(e){const t=JSON.parse(e);V(t),t.length>0&&(h(e=>({...e,phone:t[0].phone})),w(!0))}if(t)try{const e=JSON.parse(t);e.phone&&e.password&&(h({phone:e.phone,password:S(e.password)}),j(!0),w(!0))}catch(s){}},[]);const P=e=>{h({...c,[e.target.name]:e.target.value})};return s.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:s.jsxDEV("div",{className:"max-w-md w-full space-y-8",children:[s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV("div",{className:"flex items-center justify-center mb-2",children:[s.jsxDEV("svg",{className:"w-16 h-16 mr-4",viewBox:"0 0 80 80",xmlns:"http://www.w3.org/2000/svg",children:[s.jsxDEV("ellipse",{cx:"40",cy:"40",rx:"38",ry:"30",fill:"black",stroke:"#22c55e",strokeWidth:"3"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:163,columnNumber:15},this),s.jsxDEV("text",{x:"40",y:"50",textAnchor:"middle",fill:"#22c55e",fontSize:"28",fontWeight:"bold",fontFamily:"Arial, sans-serif",children:"JT"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:164,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:162,columnNumber:13},this),s.jsxDEV("h1",{className:"text-4xl font-bold text-green-400 font-mono",children:"å·¥æ—¶ç®¡ç†ç³»ç»Ÿ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:166,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:161,columnNumber:11},this),s.jsxDEV("div",{className:"mt-4 h-1 bg-gradient-to-r from-transparent via-green-400 to-transparent"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:170,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:160,columnNumber:9},this),s.jsxDEV("div",{className:"bg-gray-900 border border-green-400 rounded-lg p-8 shadow-lg shadow-green-400/20",children:[s.jsxDEV("h2",{className:"text-2xl font-bold text-green-400 mb-6 text-center font-mono",children:"ç”¨æˆ·ç™»å½•"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:175,columnNumber:11},this),p&&s.jsxDEV("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-400 rounded text-red-300 text-sm",children:p},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:180,columnNumber:13},this),s.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),b(!0),y(""),!c.phone||!c.password)return y("è¯·å¡«å†™æ‰€æœ‰å¿…å¡«å­—æ®µ"),void b(!1);const t=await A(c.phone,c.password);if(t.success){if(x){const e=JSON.parse(localStorage.getItem("savedUsers")||"[]");if(e.find(e=>e.phone===c.phone)){const t=e.filter(e=>e.phone!==c.phone),s=[{phone:c.phone},...t];localStorage.setItem("savedUsers",JSON.stringify(s))}else{const t=[{phone:c.phone},...e.slice(0,4)];localStorage.setItem("savedUsers",JSON.stringify(t))}}if(E){const e={phone:c.phone,password:(s=c.password,btoa(s))};localStorage.setItem("savedCredentials",JSON.stringify(e))}else localStorage.removeItem("savedCredentials");R(L,{replace:!0})}else y(t.error||"ç™»å½•å¤±è´¥");var s;b(!1)},className:"space-y-6",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"æ‰‹æœºå·ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:188,columnNumber:15},this),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:192,columnNumber:17},this),s.jsxDEV("input",{type:"tel",name:"phone",value:c.phone,onChange:P,className:"w-full pl-12 pr-4 py-3 bg-black border border-green-400 rounded-lg text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono",placeholder:"è¯·è¾“å…¥æ‰‹æœºå·ç ",maxLength:11},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:193,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:191,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:187,columnNumber:13},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"ç™»å½•å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:207,columnNumber:15},this),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:211,columnNumber:17},this),s.jsxDEV("input",{type:u?"text":"password",name:"password",value:c.password,onChange:P,className:"w-full pl-12 pr-12 py-3 bg-black border border-green-400 rounded-lg text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono",placeholder:"è¯·è¾“å…¥å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:212,columnNumber:17},this),s.jsxDEV("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 hover:text-green-300",children:u?s.jsxDEV(i,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:225,columnNumber:35},this):s.jsxDEV(a,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:225,columnNumber:68},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:220,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:210,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:206,columnNumber:13},this),s.jsxDEV("div",{className:"space-y-3",children:[s.jsxDEV("div",{className:"flex items-center",children:[s.jsxDEV("input",{type:"checkbox",id:"rememberMe",checked:x,onChange:e=>w(e.target.checked),className:"w-4 h-4 text-green-600 bg-black border-green-400 rounded focus:ring-green-500 focus:ring-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:233,columnNumber:17},this),s.jsxDEV("label",{htmlFor:"rememberMe",className:"ml-2 text-sm text-green-300 font-mono",children:"è®°ä½è´¦å·"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:240,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:232,columnNumber:15},this),s.jsxDEV("div",{className:"flex items-center",children:[s.jsxDEV("input",{type:"checkbox",id:"rememberPassword",checked:E,onChange:e=>j(e.target.checked),className:"w-4 h-4 text-green-600 bg-black border-green-400 rounded focus:ring-green-500 focus:ring-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:246,columnNumber:17},this),s.jsxDEV("label",{htmlFor:"rememberPassword",className:"ml-2 text-sm text-green-300 font-mono",children:"è®°ä½å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:253,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:245,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:231,columnNumber:13},this),s.jsxDEV("button",{type:"submit",disabled:g,className:"w-full py-3 bg-green-600 hover:bg-green-500 disabled:bg-green-800 text-black font-bold rounded-lg transition-colors duration-200 font-mono text-lg",children:g?"ç™»å½•ä¸­...":"ç™»å½•"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:260,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:185,columnNumber:11},this),D.length>0&&s.jsxDEV("div",{className:"mt-6",children:[s.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[s.jsxDEV("h3",{className:"text-green-300 text-sm font-mono",children:"å¿«é€Ÿç™»å½•"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:273,columnNumber:17},this),s.jsxDEV("button",{type:"button",onClick:()=>{localStorage.removeItem("savedUsers"),localStorage.removeItem("savedCredentials"),V([]),h({phone:"",password:""}),w(!1),j(!1)},className:"text-red-400 hover:text-red-300 text-xs font-mono flex items-center",title:"æ¸…é™¤æ‰€æœ‰ä¿å­˜çš„ç™»å½•ä¿¡æ¯",children:[s.jsxDEV(o,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:280,columnNumber:19},this),"æ¸…é™¤"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:274,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:272,columnNumber:15},this),s.jsxDEV("div",{className:"space-y-2",children:D.slice(0,3).map((e,t)=>s.jsxDEV("button",{type:"button",onClick:()=>(e=>{h(t=>({...t,phone:e}));const t=localStorage.getItem("savedCredentials");if(t)try{const s=JSON.parse(t);s.phone===e&&s.password&&(h({phone:e,password:S(s.password)}),j(!0))}catch(s){}})(e.phone),className:"w-full flex items-center p-2 bg-gray-800 hover:bg-gray-700 border border-green-400/30 rounded-lg transition-colors duration-200",children:[s.jsxDEV(l,{className:"w-4 h-4 text-green-400 mr-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:292,columnNumber:21},this),s.jsxDEV("span",{className:"text-green-300 font-mono text-sm",children:e.phone},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:293,columnNumber:21},this),c.phone===e.phone&&s.jsxDEV("span",{className:"ml-auto text-green-400 text-xs font-mono",children:"å½“å‰"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:295,columnNumber:23},this)]},e.phone,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:286,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:284,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:271,columnNumber:13},this),s.jsxDEV("div",{className:"mt-6 text-center space-y-2",children:[s.jsxDEV(k,{to:"/register",className:"block text-green-400 hover:text-green-300 text-sm font-mono transition-colors",children:"è¿˜æ²¡æœ‰è´¦å·ï¼Ÿç«‹å³æ³¨å†Œ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:305,columnNumber:13},this),s.jsxDEV(k,{to:"/reset-password",className:"block text-green-400 hover:text-green-300 text-sm font-mono transition-colors",children:"å¿˜è®°å¯†ç ï¼Ÿé‡ç½®å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:311,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:304,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:174,columnNumber:9},this),s.jsxDEV("div",{className:"text-center text-green-600 text-xs font-mono",children:[s.jsxDEV("p",{children:"Â© å‰æ—çœé€šç”¨æœºæ¢°ï¼ˆé›†å›¢ï¼‰æœ‰é™è´£ä»»å…¬å¸."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:322,columnNumber:11},this),s.jsxDEV("div",{className:"mt-2 flex justify-center space-x-2",children:[s.jsxDEV("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:324,columnNumber:13},this),s.jsxDEV("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:325,columnNumber:13},this),s.jsxDEV("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:326,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:323,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:321,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:158,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:157,columnNumber:5},this)}function P(){const[e,t]=n.useState({phone:"",password:"",confirmPassword:"",id_card:"",name:"",company_id:"",role_id:"",production_line:""}),[o,g]=n.useState(!1),[b,p]=n.useState(!1),[x,f]=n.useState(!1),[w,E]=n.useState(""),[j,D]=n.useState([]),[V,R]=n.useState([]),[L,S]=n.useState(""),[P,C]=n.useState(!0),[T,_]=n.useState([]),[O,z]=n.useState(!1),[I,M]=n.useState(null),[F,q]=n.useState(!1),[B,W]=n.useState(""),[H,J]=n.useState(!1),{register:U}=N(),K=v();n.useEffect(()=>{const e=e=>{e.target.closest(".production-line-dropdown")||J(!1)};return H&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[H]),n.useEffect(()=>{(async()=>{try{const{data:e,error:t}=await y.from("companies").select("*").order("name");if(t)throw t;const{data:s,error:n}=await y.from("user_roles").select("*").neq("name","è¶…çº§ç®¡ç†å‘˜").order("name");if(n)throw n;D(e||[]),R(s||[])}catch(e){E("è·å–æ•°æ®å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{C(!1)}})()},[]);const X=async e=>{try{const{data:t,error:s}=await y.from("processes").select("production_line").eq("company_id",e).eq("is_active",!0);if(s)throw s;const n=[...new Set((null==t?void 0:t.map(e=>e.production_line))||[])];_(n)}catch(t){_([])}},Z=async s=>{const{name:n,value:m}=s.target;if(t(e=>({...e,[n]:m})),"role_id"===n){const s=V.find(e=>e.id===m);M(s||null);const n=s&&("ç­é•¿"===s.name||"æ®µé•¿"===s.name);z(n||!1),n&&e.company_id&&await X(e.company_id),n||t(e=>({...e,production_line:""}))}if("company_id"===n&&O&&(await X(m),t(e=>({...e,production_line:""}))),"confirmPassword"===n||"password"===n){const t="password"===n?m:e.password,s="confirmPassword"===n?m:e.confirmPassword;S(s&&t!==s?"ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´":"")}};return P?s.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsxDEV("div",{className:"text-green-400 text-xl animate-pulse font-mono",children:"åŠ è½½ä¸­..."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:231,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:230,columnNumber:7},this):s.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center px-4 py-8",children:[s.jsxDEV("div",{className:"max-w-md w-full space-y-8",children:[s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV("h1",{className:"text-4xl font-bold text-green-400 mb-2 font-mono",children:"å·¥æ—¶ç®¡ç†ç³»ç»Ÿ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:243,columnNumber:11},this),s.jsxDEV("p",{className:"text-green-300 text-lg font-mono",children:"TIMETRACK SYSTEM"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:246,columnNumber:11},this),s.jsxDEV("div",{className:"mt-4 h-1 bg-gradient-to-r from-transparent via-green-400 to-transparent"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:249,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:242,columnNumber:9},this),s.jsxDEV("div",{className:"bg-gray-900 border border-green-400 rounded-lg p-8 shadow-lg shadow-green-400/20",children:[s.jsxDEV("h2",{className:"text-2xl font-bold text-green-400 mb-6 text-center font-mono",children:"ç”¨æˆ·æ³¨å†Œ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:254,columnNumber:11},this),w&&s.jsxDEV("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-400 rounded text-red-300 text-sm",children:w},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:259,columnNumber:13},this),s.jsxDEV("form",{onSubmit:async t=>{if(t.preventDefault(),f(!0),E(""),!(e.phone&&e.password&&e.id_card&&e.name&&e.company_id&&e.role_id))return E("è¯·å¡«å†™æ‰€æœ‰å¿…å¡«å­—æ®µ"),void f(!1);if(O&&!e.production_line)return E("è¯·é€‰æ‹©ç”Ÿäº§çº¿"),void f(!1);if(e.password!==e.confirmPassword)return E("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´"),S("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´"),void f(!1);if(e.password.length<6)return E("å¯†ç é•¿åº¦è‡³å°‘6ä½"),void f(!1);if(!/^1[3-9]\d{9}$/.test(e.phone))return E("è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·ç "),void f(!1);if(!/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(e.id_card))return E("è¯·è¾“å…¥æ­£ç¡®çš„èº«ä»½è¯å·ç "),void f(!1);const s=await U({phone:e.phone,password:e.password,id_card:e.id_card,name:e.name,company_id:e.company_id,role_id:e.role_id,production_line:O?e.production_line:null});s.success?(E(""),q(!0)):E(s.error||"æ³¨å†Œå¤±è´¥"),f(!1)},className:"space-y-4",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"æ‰‹æœºå·ç  *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:267,columnNumber:15},this),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:271,columnNumber:17},this),s.jsxDEV("input",{type:"tel",name:"phone",value:e.phone,onChange:Z,className:"w-full pl-10 pr-4 py-2 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",placeholder:"è¯·è¾“å…¥æ‰‹æœºå·ç ",maxLength:11},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:272,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:270,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:266,columnNumber:13},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"èº«ä»½è¯å· *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:286,columnNumber:15},this),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:290,columnNumber:17},this),s.jsxDEV("input",{type:"text",name:"id_card",value:e.id_card,onChange:Z,className:"w-full pl-10 pr-4 py-2 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",placeholder:"è¯·è¾“å…¥èº«ä»½è¯å·ç ",maxLength:18},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:291,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:289,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:285,columnNumber:13},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"å§“å *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:305,columnNumber:15},this),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:309,columnNumber:17},this),s.jsxDEV("input",{type:"text",name:"name",value:e.name,onChange:Z,className:"w-full pl-10 pr-4 py-2 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",placeholder:"è¯·è¾“å…¥çœŸå®å§“å"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:310,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:308,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:304,columnNumber:13},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"æ‰€å±å…¬å¸ *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:325,columnNumber:15},this),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:329,columnNumber:17},this),s.jsxDEV("select",{name:"company_id",value:e.company_id,onChange:Z,className:"w-full pl-10 pr-4 py-2 bg-black border border-green-400 rounded text-green-300 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",children:[s.jsxDEV("option",{value:"",children:"è¯·é€‰æ‹©å…¬å¸"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:336,columnNumber:19},this),j.map(e=>s.jsxDEV("option",{value:e.id,children:e.name},e.id,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:338,columnNumber:21},this))]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:330,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:328,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:324,columnNumber:13},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"ç”¨æˆ·è§’è‰² *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:348,columnNumber:15},this),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:352,columnNumber:17},this),s.jsxDEV("select",{name:"role_id",value:e.role_id,onChange:Z,className:"w-full pl-10 pr-4 py-2 bg-black border border-green-400 rounded text-green-300 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",children:[s.jsxDEV("option",{value:"",children:"è¯·é€‰æ‹©è§’è‰²"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:359,columnNumber:19},this),V.map(e=>s.jsxDEV("option",{value:e.id,children:e.name},e.id,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:361,columnNumber:21},this))]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:353,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:351,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:347,columnNumber:13},this),O&&s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"ç”Ÿäº§çº¿ *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:372,columnNumber:17},this),s.jsxDEV("div",{className:"relative production-line-dropdown",children:[s.jsxDEV(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:376,columnNumber:19},this),s.jsxDEV("input",{type:"text",value:e.production_line,onChange:e=>{W(e.target.value),t(t=>({...t,production_line:e.target.value})),J(!0)},onFocus:()=>J(!0),placeholder:"æœç´¢æˆ–é€‰æ‹©ç”Ÿäº§çº¿",className:"w-full pl-10 pr-4 py-2 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:377,columnNumber:19},this),H&&s.jsxDEV("div",{className:"absolute z-20 w-full mt-1 bg-gray-900 border border-green-400 rounded-md shadow-lg max-h-48 overflow-y-auto",children:[T.filter(t=>t.toLowerCase().includes(e.production_line.toLowerCase())).slice(0,10).map(e=>s.jsxDEV("div",{onClick:()=>{t(t=>({...t,production_line:e})),W(""),J(!1)},className:"px-3 py-2 text-green-300 hover:bg-gray-700 cursor-pointer border-b border-gray-600 last:border-b-0 text-sm font-mono",children:e},e,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:397,columnNumber:25},this)),0===T.filter(t=>t.toLowerCase().includes(e.production_line.toLowerCase())).length&&s.jsxDEV("div",{className:"px-3 py-2 text-gray-400 text-sm font-mono",children:"æœªæ‰¾åˆ°åŒ¹é…çš„ç”Ÿäº§çº¿"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:412,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:390,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:375,columnNumber:17},this),0===T.length&&e.company_id&&s.jsxDEV("div",{className:"mt-1 text-yellow-400 text-xs font-mono",children:"è¯¥å…¬å¸æš‚æ— å¯ç”¨ç”Ÿäº§çº¿"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:420,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:371,columnNumber:15},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"ç™»å½•å¯†ç  *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:429,columnNumber:15},this),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:433,columnNumber:17},this),s.jsxDEV("input",{type:o?"text":"password",name:"password",value:e.password,onChange:Z,className:"w-full pl-10 pr-10 py-2 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",placeholder:"è¯·è¾“å…¥å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:434,columnNumber:17},this),s.jsxDEV("button",{type:"button",onClick:()=>g(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 hover:text-green-300",children:o?s.jsxDEV(i,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:447,columnNumber:35},this):s.jsxDEV(a,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:447,columnNumber:68},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:442,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:432,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:428,columnNumber:13},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"ç¡®è®¤å¯†ç  *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:454,columnNumber:15},this),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:458,columnNumber:17},this),s.jsxDEV("input",{type:b?"text":"password",name:"confirmPassword",value:e.confirmPassword,onChange:Z,className:"w-full pl-10 pr-10 py-2 bg-black border rounded text-green-300 placeholder-green-600 focus:outline-none focus:ring-1 font-mono text-sm ".concat(L?"border-red-400 focus:border-red-300 focus:ring-red-300":"border-green-400 focus:border-green-300 focus:ring-green-300"),placeholder:"è¯·å†æ¬¡è¾“å…¥å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:459,columnNumber:17},this),s.jsxDEV("button",{type:"button",onClick:()=>p(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 hover:text-green-300",children:b?s.jsxDEV(i,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:474,columnNumber:42},this):s.jsxDEV(a,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:474,columnNumber:75},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:469,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:457,columnNumber:15},this),L&&s.jsxDEV("div",{className:"mt-1 text-red-400 text-xs font-mono",children:L},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:478,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:453,columnNumber:13},this),s.jsxDEV("button",{type:"submit",disabled:x,className:"w-full py-3 bg-green-600 hover:bg-green-500 disabled:bg-green-800 text-black font-bold rounded-lg transition-colors duration-200 font-mono text-lg mt-6",children:x?"æ³¨å†Œä¸­...":"æ³¨å†Œ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:485,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:264,columnNumber:11},this),s.jsxDEV("div",{className:"mt-6 text-center",children:s.jsxDEV(k,{to:"/login",className:"text-green-400 hover:text-green-300 text-sm font-mono transition-colors",children:"å·²æœ‰è´¦å·ï¼Ÿç«‹å³ç™»å½•"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:496,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:495,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:253,columnNumber:9},this),s.jsxDEV("div",{className:"text-center text-green-600 text-xs font-mono",children:s.jsxDEV("p",{children:"Â© 2024 å·¥æ—¶ç®¡ç†ç³»ç»Ÿ. All rights reserved."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:507,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:506,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:240,columnNumber:7},this),s.jsxDEV(A,{isOpen:F,onClose:()=>{q(!1),K("/login")},userName:e.name,userPhone:e.phone},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:512,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:239,columnNumber:5},this)}function C(){const[e,t]=n.useState("verify"),[m,o]=n.useState({id_card:"",newPassword:"",confirmPassword:""}),[l,h]=n.useState(!1),[u,d]=n.useState(!1),[b,p]=n.useState(!1),[y,x]=n.useState(""),[f,w]=n.useState(""),[E,j]=n.useState(null),{resetPassword:D}=N(),V=v(),A=e=>{const{name:t,value:s}=e.target;if(o(e=>({...e,[t]:s})),"confirmPassword"===t||"newPassword"===t){const e="newPassword"===t?s:m.newPassword,n="confirmPassword"===t?s:m.confirmPassword;w(n&&e!==n?"ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´":"")}};return s.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:s.jsxDEV("div",{className:"max-w-md w-full space-y-8",children:[s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV("h1",{className:"text-4xl font-bold text-green-400 mb-2 font-mono",children:"å·¥æ—¶ç®¡ç†ç³»ç»Ÿ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:124,columnNumber:11},this),s.jsxDEV("p",{className:"text-green-300 text-lg font-mono",children:"TIMETRACK SYSTEM"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:127,columnNumber:11},this),s.jsxDEV("div",{className:"mt-4 h-1 bg-gradient-to-r from-transparent via-green-400 to-transparent"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:130,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:123,columnNumber:9},this),s.jsxDEV("div",{className:"bg-gray-900 border border-green-400 rounded-lg p-8 shadow-lg shadow-green-400/20",children:[s.jsxDEV("div",{className:"flex items-center mb-6",children:[s.jsxDEV("button",{onClick:()=>{"reset"===e?(t("verify"),j(null),x("")):V("/login")},className:"text-green-400 hover:text-green-300 mr-3 transition-colors",children:s.jsxDEV(g,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:140,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:136,columnNumber:13},this),s.jsxDEV("h2",{className:"text-2xl font-bold text-green-400 font-mono",children:"verify"===e?"èº«ä»½éªŒè¯":"é‡ç½®å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:142,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:135,columnNumber:11},this),y&&s.jsxDEV("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-400 rounded text-red-300 text-sm",children:y},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:148,columnNumber:13},this),"verify"===e?s.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),p(!0),x(""),!m.id_card)return x("è¯·è¾“å…¥èº«ä»½è¯å·ç "),void p(!1);if(!/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(m.id_card))return x("è¯·è¾“å…¥æ­£ç¡®çš„èº«ä»½è¯å·ç "),void p(!1);const s=await D(m.id_card);s.success&&s.user?(j(s.user),t("reset"),x("")):x(s.error||"èº«ä»½è¯å·ç éªŒè¯å¤±è´¥ï¼Œè¯·æ£€æŸ¥åé‡è¯•"),p(!1)},className:"space-y-6",children:[s.jsxDEV("div",{className:"text-center mb-6",children:s.jsxDEV("p",{className:"text-green-300 text-sm font-mono",children:"è¯·è¾“å…¥æ‚¨çš„èº«ä»½è¯å·ç è¿›è¡Œèº«ä»½éªŒè¯"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:156,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:155,columnNumber:15},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"èº«ä»½è¯å·ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:163,columnNumber:17},this),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:167,columnNumber:19},this),s.jsxDEV("input",{type:"text",name:"id_card",value:m.id_card,onChange:A,className:"w-full pl-12 pr-4 py-3 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono",placeholder:"è¯·è¾“å…¥èº«ä»½è¯å·ç ",maxLength:18},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:168,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:166,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:162,columnNumber:15},this),s.jsxDEV("button",{type:"submit",disabled:b,className:"w-full py-3 bg-green-600 hover:bg-green-500 disabled:bg-green-800 text-black font-bold rounded-lg transition-colors duration-200 font-mono text-lg",children:b?"éªŒè¯ä¸­...":"éªŒè¯èº«ä»½"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:181,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:154,columnNumber:13},this):s.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),p(!0),x(""),!m.newPassword||!m.confirmPassword)return x("è¯·å¡«å†™æ–°å¯†ç å’Œç¡®è®¤å¯†ç "),void p(!1);if(m.newPassword!==m.confirmPassword)return x("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´"),w("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´"),void p(!1);if(m.newPassword.length<6)return x("å¯†ç é•¿åº¦è‡³å°‘6ä½"),void p(!1);const t=await D(m.id_card,m.newPassword);t.success?(alert("å¯†ç é‡ç½®æˆåŠŸï¼Œè¯·ä½¿ç”¨æ–°å¯†ç ç™»å½•"),V("/login")):x(t.error||"å¯†ç é‡ç½®å¤±è´¥"),p(!1)},className:"space-y-6",children:[E&&s.jsxDEV("div",{className:"bg-green-900/30 border border-green-400 rounded p-4 mb-6",children:[s.jsxDEV("p",{className:"text-green-300 text-sm font-mono",children:["éªŒè¯æˆåŠŸï¼æ­£åœ¨ä¸ºç”¨æˆ· ",s.jsxDEV("span",{className:"text-green-400 font-bold",children:E.name},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:194,columnNumber:32},this)," é‡ç½®å¯†ç "]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:193,columnNumber:19},this),s.jsxDEV("p",{className:"text-green-400 text-xs font-mono mt-1",children:["æ‰‹æœºå·: ",E.phone]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:196,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:192,columnNumber:17},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"æ–°å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:204,columnNumber:17},this),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:208,columnNumber:19},this),s.jsxDEV("input",{type:l?"text":"password",name:"newPassword",value:m.newPassword,onChange:A,className:"w-full pl-12 pr-12 py-3 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono",placeholder:"è¯·è¾“å…¥æ–°å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:209,columnNumber:19},this),s.jsxDEV("button",{type:"button",onClick:()=>h(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 hover:text-green-300",children:l?s.jsxDEV(i,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:222,columnNumber:37},this):s.jsxDEV(a,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:222,columnNumber:70},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:217,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:207,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:203,columnNumber:15},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"ç¡®è®¤æ–°å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:229,columnNumber:17},this),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:233,columnNumber:19},this),s.jsxDEV("input",{type:u?"text":"password",name:"confirmPassword",value:m.confirmPassword,onChange:A,className:"w-full pl-12 pr-12 py-3 bg-black border rounded text-green-300 placeholder-green-600 focus:outline-none focus:ring-1 font-mono ".concat(f?"border-red-400 focus:border-red-300 focus:ring-red-300":"border-green-400 focus:border-green-300 focus:ring-green-300"),placeholder:"è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:234,columnNumber:19},this),s.jsxDEV("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 hover:text-green-300",children:u?s.jsxDEV(i,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:249,columnNumber:44},this):s.jsxDEV(a,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:249,columnNumber:77},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:244,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:232,columnNumber:17},this),f&&s.jsxDEV("div",{className:"mt-1 text-red-400 text-xs font-mono",children:f},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:253,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:228,columnNumber:15},this),s.jsxDEV("button",{type:"submit",disabled:b,className:"w-full py-3 bg-green-600 hover:bg-green-500 disabled:bg-green-800 text-black font-bold rounded-lg transition-colors duration-200 font-mono text-lg",children:b?"é‡ç½®ä¸­...":"é‡ç½®å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:260,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:190,columnNumber:13},this),s.jsxDEV("div",{className:"mt-6 text-center",children:s.jsxDEV(k,{to:"/login",className:"text-green-400 hover:text-green-300 text-sm font-mono transition-colors",children:"è¿”å›ç™»å½•"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:272,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:271,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:134,columnNumber:9},this),s.jsxDEV("div",{className:"text-center text-green-600 text-xs font-mono",children:s.jsxDEV("p",{children:"Â© 2024 å·¥æ—¶ç®¡ç†ç³»ç»Ÿ. All rights reserved."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:283,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:282,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:121,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:120,columnNumber:5},this)}const T=n.lazy(()=>p(()=>import("./Dashboard-BCx7xXuE.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),_=n.lazy(()=>p(()=>import("./pages/page-timesheet-yfy0SdtJ.js").then(e=>e.T),__vite__mapDeps([11,1,8,3,4,5,6,2,7,9,10]))),O=n.lazy(()=>p(()=>import("./pages/page-timesheet-yfy0SdtJ.js").then(e=>e.a),__vite__mapDeps([11,1,8,3,4,5,6,2,7,9,10]))),z=n.lazy(()=>p(()=>import("./pages/page-admin-DIiCL3HX.js").then(e=>e.C),__vite__mapDeps([6,1,2,3,4,5,8,9,10,7]))),I=n.lazy(()=>p(()=>import("./pages/page-admin-DIiCL3HX.js").then(e=>e.U),__vite__mapDeps([6,1,2,3,4,5,8,9,10,7]))),M=n.lazy(()=>p(()=>import("./pages/page-process-C66QNRrI.js"),__vite__mapDeps([12,1,6,2,3,4,5,8,9,10,7]))),F=n.lazy(()=>p(()=>import("./pages/page-roles-CRI_T0Ef.js").then(e=>e.R),__vite__mapDeps([13,1,6,2,3,4,5,8,9,10,7]))),q=n.lazy(()=>p(()=>import("./pages/page-roles-CRI_T0Ef.js").then(e=>e.a),__vite__mapDeps([13,1,6,2,3,4,5,8,9,10,7]))),B=n.lazy(()=>p(()=>import("./pages/page-roles-CRI_T0Ef.js").then(e=>e.b),__vite__mapDeps([13,1,6,2,3,4,5,8,9,10,7]))),W=n.lazy(()=>p(()=>import("./pages/page-approval-D6Tp2Mgj.js").then(e=>e.S),__vite__mapDeps([14,1,6,2,3,4,5,8,9,10,7]))),H=n.lazy(()=>p(()=>import("./pages/page-approval-D6Tp2Mgj.js").then(e=>e.a),__vite__mapDeps([14,1,6,2,3,4,5,8,9,10,7]))),J=n.lazy(()=>p(()=>import("./pages/page-reports-BuKKTJso.js").then(e=>e.R),__vite__mapDeps([5,1,6,2,3,4,7,8,9,10]))),U=n.lazy(()=>p(()=>import("./History-BrBCkiXu.js"),__vite__mapDeps([15,1,6,2,3,4,5,8,9,10,7]))),K=n.lazy(()=>p(()=>import("./ToastTest-HdeLWSkM.js"),__vite__mapDeps([16,1,8,3,4,5,6,2,7,9,10]))),X=()=>{const[e,t]=n.useState("æ­£åœ¨åŠ è½½..."),[m,r]=n.useState("");return n.useEffect(()=>{const e=setInterval(()=>{r(e=>e.length>=3?"":e+".")},500),s=setTimeout(()=>{t("è¯·ç¨å€™")},3e3);return()=>{clearInterval(e),clearTimeout(s)}},[]),s.jsxDEV("div",{className:"flex flex-col items-center justify-center min-h-screen bg-black px-4",children:s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV("div",{className:"mb-4",children:s.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-green-400 border-t-transparent mx-auto"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:69,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:68,columnNumber:9},void 0),s.jsxDEV("p",{className:"text-green-300 text-base font-mono",children:[e,m]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:73,columnNumber:9},void 0),s.jsxDEV("div",{className:"mt-4 w-32 mx-auto",children:s.jsxDEV("div",{className:"w-full bg-gray-800 rounded-full h-1",children:s.jsxDEV("div",{className:"bg-green-400 h-1 rounded-full animate-pulse",style:{width:"50%"}},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:80,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:79,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:78,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:66,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:65,columnNumber:5},void 0)},Z=()=>{const[e,t]=n.useState("æ­£åœ¨åŠ è½½..."),[m,r]=n.useState(!1),[i,a]=n.useState(!1);return n.useEffect(()=>{const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;e&&a(["slow-2g","2g","3g"].includes(e.effectiveType));const s=setTimeout(()=>{t("åŠ è½½æ—¶é—´è¾ƒé•¿ï¼Œè¯·ç¨å€™...")},3e3),n=setTimeout(()=>{t("ç½‘ç»œè¾ƒæ…¢ï¼Œæ­£åœ¨åŠªåŠ›åŠ è½½...")},8e3),m=setTimeout(()=>{r(!0),t("åŠ è½½è¶…æ—¶ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥")},15e3);return()=>{clearTimeout(s),clearTimeout(n),clearTimeout(m)}},[]),s.jsxDEV("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV("div",{className:"relative mb-6",children:[s.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:132,columnNumber:11},void 0),i&&s.jsxDEV("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center",children:s.jsxDEV("span",{className:"text-white text-xs",children:"!"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:135,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:134,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:131,columnNumber:9},void 0),s.jsxDEV("p",{className:"text-gray-600 mb-4 text-lg",children:e},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:141,columnNumber:9},void 0),i&&s.jsxDEV("p",{className:"text-orange-600 text-sm mb-4",children:"æ£€æµ‹åˆ°ç½‘ç»œè¿æ¥è¾ƒæ…¢ï¼ŒåŠ è½½å¯èƒ½éœ€è¦æ›´é•¿æ—¶é—´"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:145,columnNumber:11},void 0),m&&s.jsxDEV("div",{className:"space-y-3",children:[s.jsxDEV("button",{onClick:()=>{window.location.reload()},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"é‡æ–°åŠ è½½"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:153,columnNumber:13},void 0),s.jsxDEV("p",{className:"text-gray-500 text-sm",children:"å¦‚æœé—®é¢˜æŒç»­å­˜åœ¨ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åå†è¯•"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:159,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:152,columnNumber:11},void 0),s.jsxDEV("div",{className:"mt-6 w-64 mx-auto",children:s.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsxDEV("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:168,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:167,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:166,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:129,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:128,columnNumber:5},void 0)};class $ extends n.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){var e,t;if(this.state.hasError){const n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768,m=(null==(e=this.state.error)?void 0:e.message)||"",r=m.includes("fetch")||m.includes("network")||m.includes("Failed to import")||m.includes("Loading chunk"),i=m.includes("memory")||m.includes("heap");return s.jsxDEV("div",{className:"flex flex-col items-center justify-center min-h-screen px-4 ".concat(n?"bg-black":"bg-gray-50"),children:s.jsxDEV("div",{className:"max-w-md text-center ".concat(n?"text-green-300":""),children:[s.jsxDEV("div",{className:"mb-6",children:[s.jsxDEV("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ".concat(n?"bg-red-900/50 border border-red-400":"bg-red-100"),children:s.jsxDEV("svg",{className:"w-8 h-8 ".concat(n?"text-red-400":"text-red-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:225,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:224,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:221,columnNumber:15},this),s.jsxDEV("h2",{className:"text-xl font-semibold mb-2 ".concat(n?"text-green-400 font-mono":"text-gray-900"),children:"åº”ç”¨å‡ºç°é”™è¯¯"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:228,columnNumber:15},this),s.jsxDEV("p",{className:"mb-6 ".concat(n?"text-green-300 font-mono text-sm":"text-gray-600"),children:r?"ç½‘ç»œåŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•":i?"å†…å­˜ä¸è¶³ï¼Œè¯·å…³é—­å…¶ä»–åº”ç”¨åé‡è¯•":"åº”ç”¨é‡åˆ°äº†æ„å¤–é”™è¯¯ï¼Œè¯·å°è¯•åˆ·æ–°é¡µé¢"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:233,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:220,columnNumber:13},this),s.jsxDEV("div",{className:"mb-6",children:s.jsxDEV("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat(navigator.onLine?n?"bg-green-900/50 text-green-300 border border-green-400":"bg-green-100 text-green-800":n?"bg-red-900/50 text-red-300 border border-red-400":"bg-red-100 text-red-800"),children:[s.jsxDEV("div",{className:"w-2 h-2 rounded-full mr-2 ".concat(navigator.onLine?"bg-green-400":"bg-red-400")},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:250,columnNumber:17},this),navigator.onLine?"ç½‘ç»œè¿æ¥æ­£å¸¸":"ç½‘ç»œè¿æ¥æ–­å¼€"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:245,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:244,columnNumber:13},this),s.jsxDEV("div",{className:"space-y-3",children:[s.jsxDEV("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 rounded-lg transition-colors font-medium ".concat(n?"bg-green-600 hover:bg-green-500 text-black font-mono":"bg-blue-600 hover:bg-blue-700 text-white"),children:"åˆ·æ–°é¡µé¢"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:260,columnNumber:15},this),s.jsxDEV("button",{onClick:()=>this.setState({hasError:!1}),className:"w-full px-4 py-2 rounded-lg transition-colors font-medium ".concat(n?"border border-green-400 hover:bg-green-900/30 text-green-300 font-mono":"bg-gray-200 hover:bg-gray-300 text-gray-800"),children:"é‡è¯•"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:270,columnNumber:15},this),n&&s.jsxDEV("button",{onClick:()=>window.location.href="/",className:"w-full px-4 py-2 border border-gray-600 hover:bg-gray-800/30 text-gray-400 rounded-lg transition-colors font-mono",children:"è¿”å›é¦–é¡µ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:283,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:259,columnNumber:13},this),s.jsxDEV("div",{className:"mt-6 text-xs ".concat(n?"text-green-600 font-mono":"text-gray-500"),children:[s.jsxDEV("p",{children:"å¦‚æœé—®é¢˜æŒç»­å­˜åœ¨ï¼Œè¯·å°è¯•ï¼š"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:294,columnNumber:15},this),s.jsxDEV("ul",{className:"mt-2 space-y-1 text-left",children:[s.jsxDEV("li",{children:"â€¢ æ£€æŸ¥ç½‘ç»œè¿æ¥"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:296,columnNumber:17},this),s.jsxDEV("li",{children:"â€¢ æ¸…é™¤æµè§ˆå™¨ç¼“å­˜"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:297,columnNumber:17},this),n&&s.jsxDEV("li",{children:"â€¢ å…³é—­å…¶ä»–åº”ç”¨é‡Šæ”¾å†…å­˜"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:298,columnNumber:30},this),s.jsxDEV("li",{children:"â€¢ é‡å¯æµè§ˆå™¨"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:299,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:295,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:293,columnNumber:13},this),this.state.error&&s.jsxDEV("details",{className:"mt-6 text-left",children:[s.jsxDEV("summary",{className:"cursor-pointer text-sm hover:opacity-80 ".concat(n?"text-green-500 font-mono":"text-gray-500"),children:"æŸ¥çœ‹é”™è¯¯è¯¦æƒ… (å¼€å‘æ¨¡å¼)"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:306,columnNumber:17},this),s.jsxDEV("pre",{className:"mt-2 p-3 rounded text-xs overflow-auto max-h-40 ".concat(n?"bg-gray-900 text-green-300 border border-gray-700 font-mono":"bg-gray-100 text-gray-700"),children:[this.state.error.toString(),null==(t=this.state.errorInfo)?void 0:t.componentStack]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:311,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:305,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:219,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:216,columnNumber:9},this)}return this.props.children}}const Q=({children:e})=>{const t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768;return s.jsxDEV(n.Suspense,{fallback:t?s.jsxDEV(X,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:386,columnNumber:36},void 0):s.jsxDEV(Z,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:386,columnNumber:63},void 0),children:s.jsxDEV($,{children:e},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:387,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:386,columnNumber:5},void 0)};function Y(){return n.useEffect(()=>{(()=>{const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768,t=navigator.connection||navigator.mozConnection||navigator.webkitConnection,s=t&&["slow-2g","2g","3g"].includes(t.effectiveType);e?s||(setTimeout(()=>{var e,t;null==(e=T.preload)||e.call(T),null==(t=_.preload)||t.call(_)},3e3),setTimeout(()=>{var e;null==(e=O.preload)||e.call(O)},8e3)):("requestIdleCallback"in window?requestIdleCallback(()=>{var e,t,s;null==(e=T.preload)||e.call(T),null==(t=_.preload)||t.call(_),null==(s=O.preload)||s.call(O)}):setTimeout(()=>{var e,t,s;null==(e=T.preload)||e.call(T),null==(t=_.preload)||t.call(_),null==(s=O.preload)||s.call(O)},2e3),setTimeout(()=>{var e,t;null==(e=z.preload)||e.call(z),null==(t=I.preload)||t.call(I)},5e3))})()},[]),s.jsxDEV($,{children:s.jsxDEV(x,{children:s.jsxDEV(E,{basename:"",children:[s.jsxDEV(V,{position:"top-right",richColors:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:407,columnNumber:11},this),s.jsxDEV(j,{children:[s.jsxDEV(D,{path:"/login",element:s.jsxDEV(S,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:410,columnNumber:43},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:410,columnNumber:13},this),s.jsxDEV(D,{path:"/register",element:s.jsxDEV(P,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:411,columnNumber:46},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:411,columnNumber:13},this),s.jsxDEV(D,{path:"/reset-password",element:s.jsxDEV(C,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:412,columnNumber:52},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:412,columnNumber:13},this),s.jsxDEV(D,{path:"/",element:s.jsxDEV(R,{children:s.jsxDEV(w,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:417,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:416,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:415,columnNumber:13},this),s.jsxDEV(D,{path:"/dashboard",element:s.jsxDEV(R,{children:s.jsxDEV(Q,{children:s.jsxDEV(T,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:422,columnNumber:30},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:422,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:421,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:420,columnNumber:13},this),s.jsxDEV(D,{path:"/company-management",element:s.jsxDEV(R,{children:s.jsxDEV(Q,{children:s.jsxDEV(z,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:427,columnNumber:30},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:427,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:426,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:425,columnNumber:13},this),s.jsxDEV(D,{path:"/user-management",element:s.jsxDEV(R,{children:s.jsxDEV(Q,{children:s.jsxDEV(I,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:432,columnNumber:30},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:432,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:431,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:430,columnNumber:13},this),s.jsxDEV(D,{path:"/role-permissions",element:s.jsxDEV(R,{children:s.jsxDEV(Q,{children:s.jsxDEV(F,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:437,columnNumber:30},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:437,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:436,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:435,columnNumber:13},this),s.jsxDEV(D,{path:"/role-permissions/edit/:id",element:s.jsxDEV(R,{children:s.jsxDEV(Q,{children:s.jsxDEV(q,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:443,columnNumber:30},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:443,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:442,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:441,columnNumber:13},this),s.jsxDEV(D,{path:"/role-permissions/create",element:s.jsxDEV(R,{children:s.jsxDEV(Q,{children:s.jsxDEV(B,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:448,columnNumber:30},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:448,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:447,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:446,columnNumber:13},this),s.jsxDEV(D,{path:"/process-management",element:s.jsxDEV(R,{children:s.jsxDEV(Q,{children:s.jsxDEV(M,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:453,columnNumber:30},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:453,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:452,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:451,columnNumber:13},this),s.jsxDEV(D,{path:"/timesheet-record",element:s.jsxDEV(R,{children:s.jsxDEV(Q,{children:s.jsxDEV(_,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:458,columnNumber:30},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:458,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:457,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:456,columnNumber:13},this),s.jsxDEV(D,{path:"/timesheet-history",element:s.jsxDEV(R,{children:s.jsxDEV(Q,{children:s.jsxDEV(O,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:463,columnNumber:30},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:463,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:462,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:461,columnNumber:13},this),s.jsxDEV(D,{path:"/supervisor-approval",element:s.jsxDEV(L,{allowedRoles:["ç­é•¿","supervisor","è¶…çº§ç®¡ç†å‘˜","super_admin"],children:s.jsxDEV(Q,{children:s.jsxDEV(W,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:468,columnNumber:30},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:468,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:467,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:466,columnNumber:13},this),s.jsxDEV(D,{path:"/section-chief-approval",element:s.jsxDEV(L,{allowedRoles:["æ®µé•¿","section_chief","è¶…çº§ç®¡ç†å‘˜","super_admin"],children:s.jsxDEV(Q,{children:s.jsxDEV(H,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:473,columnNumber:30},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:473,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:472,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:471,columnNumber:13},this),s.jsxDEV(D,{path:"/reports",element:s.jsxDEV(R,{children:s.jsxDEV(Q,{children:s.jsxDEV(J,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:478,columnNumber:30},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:478,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:477,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:476,columnNumber:13},this),s.jsxDEV(D,{path:"/history",element:s.jsxDEV(R,{children:s.jsxDEV(Q,{children:s.jsxDEV(U,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:483,columnNumber:30},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:483,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:482,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:481,columnNumber:13},this),s.jsxDEV(D,{path:"/toast-test",element:s.jsxDEV(R,{children:s.jsxDEV(Q,{children:s.jsxDEV(K,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:488,columnNumber:30},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:488,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:487,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:486,columnNumber:13},this),s.jsxDEV(D,{path:"*",element:s.jsxDEV(w,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:495,columnNumber:37},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:495,columnNumber:12},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:408,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:406,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:405,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:404,columnNumber:5},this)}Array.from||(Array.from=function(){const e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},s=Math.pow(2,53)-1;return function(e,n,m){const r=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");const i=void 0===n?void 0:n;if(void 0!==i){if(!t(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(m=arguments[2])}const a=function(e){const t=function(e){const t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),s)}(r.length),o=t(this)?Object(new this(a)):new Array(a);let l,c=0;for(;c<a;)l=r[c],o[c]=i?void 0===m?i(l,c):i.call(m,l,c):l,c+=1;return o.length=a,o}}()),Array.prototype.includes||(Array.prototype.includes=function(e,t){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");const s=Object(this),n=parseInt(s.length)||0;if(0===n)return!1;const m=parseInt(t)||0;let r,i;for(m>=0?r=m:(r=n+m,r<0&&(r=0));r<n;){if(i=s[r],e===i||e!=e&&i!=i)return!0;r++}return!1}),String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e),s=Array.prototype.slice.call(arguments,1);for(let n=0;n<s.length;n++){const e=s[n];if(null!=e)for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t}),"undefined"==typeof Promise&&(window.Promise=class e{constructor(e){t(this,"state","pending"),t(this,"value"),t(this,"handlers",[]);try{e(this.resolve.bind(this),this.reject.bind(this))}catch(s){this.reject(s)}}resolve(e){"pending"===this.state&&(this.state="fulfilled",this.value=e,this.handlers.forEach(e=>this.handle(e)),this.handlers=[])}reject(e){"pending"===this.state&&(this.state="rejected",this.value=e,this.handlers.forEach(e=>this.handle(e)),this.handlers=[])}handle(e){"pending"===this.state?this.handlers.push(e):("fulfilled"===this.state&&"function"==typeof e.onFulfilled&&e.onFulfilled(this.value),"rejected"===this.state&&"function"==typeof e.onRejected&&e.onRejected(this.value))}then(t,s){return new e((e,n)=>{this.handle({onFulfilled:s=>{if("function"==typeof t)try{e(t(s))}catch(m){n(m)}else e(s)},onRejected:t=>{if("function"==typeof s)try{e(s(t))}catch(m){n(m)}else n(t)},resolve:e,reject:n})})}catch(e){return this.then(void 0,e)}static resolve(t){return new e(e=>e(t))}static reject(t){return new e((e,s)=>s(t))}static all(t){return new e((e,s)=>{if(0===t.length)return void e([]);const n=[];let m=0;t.forEach((r,i)=>{r.then(s=>{n[i]=s,m++,m===t.length&&e(n)}).catch(s)})})}}),"undefined"==typeof fetch&&(window.fetch=function(e,t={}){return new Promise((s,n)=>{const m=new XMLHttpRequest;m.open(t.method||"GET",e),t.headers&&Object.keys(t.headers).forEach(e=>{m.setRequestHeader(e,t.headers[e])}),m.onload=()=>{const e={ok:m.status>=200&&m.status<300,status:m.status,statusText:m.statusText,json:()=>Promise.resolve(JSON.parse(m.responseText)),text:()=>Promise.resolve(m.responseText)};s(e)},m.onerror=()=>n(new Error("Network error")),m.send(t.body)})}),"undefined"==typeof IntersectionObserver&&(window.IntersectionObserver=class{constructor(e,s={}){t(this,"callback"),t(this,"options"),t(this,"targets",[]),this.callback=e,this.options=s,setTimeout(()=>{this.checkIntersections()},100)}observe(e){this.targets.push(e)}unobserve(e){const t=this.targets.indexOf(e);t>-1&&this.targets.splice(t,1)}disconnect(){this.targets=[]}checkIntersections(){const e=this.targets.map(e=>({target:e,isIntersecting:!0,intersectionRatio:1}));e.length>0&&this.callback(e)}});new class{constructor(){this.isMobile=this.detectMobileDevice(),this.networkType=this.getNetworkType(),this.isLowEndDevice=this.detectLowEndDevice(),this.optimizationLevel=this.calculateOptimizationLevel(),this.init()}detectMobileDevice(){const e=navigator.userAgent.toLowerCase();return["mobile","android","iphone","ipad","ipod","blackberry","windows phone","opera mini"].some(t=>e.includes(t))||window.innerWidth<=768||"ontouchstart"in window}getNetworkType(){const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return e?{type:e.effectiveType||"unknown",downlink:e.downlink||0,rtt:e.rtt||0,saveData:e.saveData||!1}:"unknown"}detectLowEndDevice(){const e=navigator.hardwareConcurrency||1,t=navigator.deviceMemory||1,s=navigator.userAgent.toLowerCase(),n=["android 4","android 5","android 6"].some(e=>s.includes(e));return e<=2||t<=2||n}calculateOptimizationLevel(){let e=0;return"slow-2g"===this.networkType.type||"2g"===this.networkType.type?e+=3:"3g"===this.networkType.type?e+=2:"4g"===this.networkType.type&&(e+=1),this.isLowEndDevice&&(e+=2),this.networkType.saveData&&(e+=2),Math.min(e,5)}init(){this.isMobile&&(this.applyOptimizations(),this.setupNetworkListeners())}applyOptimizations(){switch(this.optimizationLevel){case 5:this.enableAggressiveOptimization();break;case 4:this.enableHighOptimization();break;case 3:this.enableMediumOptimization();break;case 2:this.enableLowOptimization();break;default:this.enableBasicOptimization()}}enableAggressiveOptimization(){this.disableNonCriticalFeatures(),this.minimizeResourceLoading(),this.enableTextCompression(),this.enableLazyLoading()}enableHighOptimization(){this.minimizeResourceLoading(),this.enableLazyLoading(),this.optimizeImages()}enableMediumOptimization(){this.enableLazyLoading(),this.optimizeImages()}enableLowOptimization(){this.optimizeImages()}enableBasicOptimization(){this.setupViewport()}disableNonCriticalFeatures(){const e=document.createElement("style");e.textContent="\n            *, *::before, *::after {\n                animation-duration: 0.01ms !important;\n                animation-iteration-count: 1 !important;\n                transition-duration: 0.01ms !important;\n            }\n        ",document.head.appendChild(e),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("video").forEach(e=>{e.autoplay=!1,e.preload="none"})})}minimizeResourceLoading(){document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('link[rel="stylesheet"]').forEach(e=>{e.href.includes("critical")||e.href.includes("main")||(e.media="print",e.onload=function(){this.media="all"})})})}enableTextCompression(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{var t;null==(t=e.active)||t.postMessage({type:"ENABLE_COMPRESSION",level:"aggressive"})})}enableLazyLoading(){if("IntersectionObserver"in window){const e=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const s=t.target;s.dataset.src&&(s.src=s.dataset.src,s.removeAttribute("data-src"),e.unobserve(s))}})});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("img[data-src]").forEach(t=>e.observe(t))})}}optimizeImages(){document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("img").forEach(e=>{if(e.hasAttribute("loading")||(e.loading="lazy"),window.devicePixelRatio>1){const t=Math.min(e.naturalWidth,window.innerWidth);e.style.maxWidth=t+"px"}})})}setupViewport(){let e=document.querySelector('meta[name="viewport"]');e||(e=document.createElement("meta"),e.name="viewport",document.head.appendChild(e)),e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}setupNetworkListeners(){"connection"in navigator&&navigator.connection.addEventListener("change",()=>{this.networkType=this.getNetworkType(),this.optimizationLevel=this.calculateOptimizationLevel(),this.applyOptimizations()}),window.addEventListener("online",()=>{this.handleOnlineStatus(!0)}),window.addEventListener("offline",()=>{this.handleOnlineStatus(!1)})}handleOnlineStatus(e){e?this.restoreFeatures():this.enableOfflineMode()}restoreFeatures(){document.querySelectorAll("[data-mobile-disabled]").forEach(e=>{e.removeAttribute("data-mobile-disabled"),e.style.display=""})}enableOfflineMode(){document.querySelectorAll("[data-requires-network]").forEach(e=>{e.setAttribute("data-mobile-disabled","true"),e.style.display="none"}),this.showOfflineNotification()}showOfflineNotification(){const e=document.createElement("div");e.className="mobile-offline-notification",e.innerHTML='\n            <div class="offline-content">\n                ğŸ“± ç¦»çº¿æ¨¡å¼å·²å¯ç”¨\n                <button onclick="this.parentElement.parentElement.remove()">Ã—</button>\n            </div>\n        ',e.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            background: #ff9800;\n            color: white;\n            padding: 10px;\n            text-align: center;\n            z-index: 10000;\n            font-size: 14px;\n        ",document.body.appendChild(e),setTimeout(()=>{e.parentElement&&e.remove()},5e3)}getOptimizationRecommendations(){const e=[];return"slow-2g"!==this.networkType.type&&"2g"!==this.networkType.type||e.push("æ£€æµ‹åˆ°æ…¢é€Ÿç½‘ç»œï¼Œå»ºè®®åˆ‡æ¢åˆ°WiFiæˆ–ç§»åŠ¨åˆ°ä¿¡å·æ›´å¥½çš„ä½ç½®"),this.isLowEndDevice&&e.push("æ£€æµ‹åˆ°ä½ç«¯è®¾å¤‡ï¼Œå·²å¯ç”¨æ€§èƒ½ä¼˜åŒ–æ¨¡å¼"),this.networkType.saveData&&e.push("æ£€æµ‹åˆ°æ•°æ®èŠ‚çœæ¨¡å¼ï¼Œå·²å‡å°‘èµ„æºåŠ è½½"),this.isMobile&&window.innerWidth<400&&e.push("å±å¹•è¾ƒå°ï¼Œå»ºè®®æ¨ªå±ä½¿ç”¨ä»¥è·å¾—æ›´å¥½ä½“éªŒ"),e}getStatus(){return{isMobile:this.isMobile,networkType:this.networkType,isLowEndDevice:this.isLowEndDevice,optimizationLevel:this.optimizationLevel,recommendations:this.getOptimizationRecommendations()}}};const G=new class{constructor(){t(this,"loadingState",{isLoading:!1,progress:0,retryCount:0}),t(this,"maxRetries",3),t(this,"baseTimeout",15e3),t(this,"isMobile"),t(this,"connectionType"),t(this,"loadQueue",[]),t(this,"loadedResources",new Set),this.isMobile=this.detectMobileDevice(),this.connectionType=this.getConnectionType(),this.setupProgressiveLoading()}detectMobileDevice(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768}getConnectionType(){const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return e&&e.effectiveType||"unknown"}setupProgressiveLoading(){this.isMobile&&(["slow-2g","2g","3g"].includes(this.connectionType)&&(this.maxRetries=5,this.baseTimeout=3e4),window.addEventListener("online",()=>{this.retryFailedLoads()}),document.addEventListener("visibilitychange",()=>{!document.hidden&&this.loadingState.error&&this.retryFailedLoads()}))}async preloadCriticalResources(){if(!this.isMobile)return;const e=[{url:"/src/main.tsx",type:"script",priority:"critical",timeout:this.baseTimeout},{url:"/src/App.tsx",type:"script",priority:"critical",timeout:this.baseTimeout}];await this.loadResourcesInBatches(e,2)}async loadResourcesInBatches(e,t){this.loadingState.isLoading=!0,this.loadingState.progress=0,this.loadingState.error=void 0;const s=e.length;let n=0;for(let r=0;r<e.length;r+=t){const i=e.slice(r,r+t);try{await Promise.all(i.map(e=>this.loadSingleResource(e))),n+=i.length,this.loadingState.progress=n/s*100,r+t<e.length&&await this.delay(100)}catch(m){if(this.loadingState.error="åŠ è½½å¤±è´¥: ".concat(m),this.loadingState.retryCount<this.maxRetries){this.loadingState.retryCount++,await this.delay(1e3*this.loadingState.retryCount),r-=t;continue}throw m}}this.loadingState.isLoading=!1,this.loadingState.progress=100}async loadSingleResource(e){if(!this.loadedResources.has(e.url))return new Promise((t,s)=>{const n=e.timeout||this.baseTimeout,m=setTimeout(()=>{s(new Error("èµ„æºåŠ è½½è¶…æ—¶: ".concat(e.url)))},n),r=()=>{clearTimeout(m),this.loadedResources.add(e.url)};switch(e.type){case"script":this.loadScript(e.url).then(()=>{r(),t()}).catch(s);break;case"style":this.loadStyle(e.url).then(()=>{r(),t()}).catch(s);break;case"image":this.loadImage(e.url).then(()=>{r(),t()}).catch(s);break;default:r(),t()}})}loadScript(e){return new Promise((t,s)=>{if(document.querySelector('script[src="'.concat(e,'"]')))return void t();const n=document.createElement("script");n.src=e,n.async=!0,n.crossOrigin="anonymous",n.onload=()=>t(),n.onerror=()=>s(new Error("è„šæœ¬åŠ è½½å¤±è´¥: ".concat(e))),document.head.appendChild(n)})}loadStyle(e){return new Promise((t,s)=>{if(document.querySelector('link[href="'.concat(e,'"]')))return void t();const n=document.createElement("link");n.rel="stylesheet",n.href=e,n.crossOrigin="anonymous",n.onload=()=>t(),n.onerror=()=>s(new Error("æ ·å¼åŠ è½½å¤±è´¥: ".concat(e))),document.head.appendChild(n)})}loadImage(e){return new Promise((t,s)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>t(),n.onerror=()=>s(new Error("å›¾ç‰‡åŠ è½½å¤±è´¥: ".concat(e))),n.src=e})}async retryFailedLoads(){this.loadingState.error&&this.loadingState.retryCount<this.maxRetries&&(this.loadingState.retryCount++,this.loadingState.error=void 0,await this.delay(1e3),await this.preloadCriticalResources())}delay(e){return new Promise(t=>setTimeout(t,e))}getLoadingState(){return{...this.loadingState}}cleanup(){this.loadQueue=[],this.loadedResources.clear(),this.loadingState={isLoading:!1,progress:0,retryCount:0}}async checkResourceAvailability(e){try{return(await fetch(e,{method:"HEAD",mode:"no-cors",cache:"no-cache"})).ok}catch(t){return!1}}optimizeMobileCache(){if(!this.isMobile)return;const e=document.createElement("meta");e.httpEquiv="Cache-Control",e.content="public, max-age=86400, stale-while-revalidate=604800",document.head.appendChild(e);const t=document.createElement("link");t.rel="preconnect",t.href=window.location.origin,document.head.appendChild(t)}},ee=class e{constructor(){t(this,"touchStartTime",0),t(this,"lastTouchEnd",0),t(this,"isInitialized",!1),this.initialize()}static getInstance(){return e.instance||(e.instance=new e),e.instance}initialize(){this.isInitialized||(this.detectMobileEnvironment(),this.fixTouchEvents(),this.optimizeViewport(),this.fixMobileScrolling(),this.optimizeMobilePerformance(),this.enhanceMobileNetworking(),this.addMobileErrorHandling(),this.isInitialized=!0)}detectMobileEnvironment(){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),s=/iPad|Android(?=.*\bMobile\b)/i.test(e),n=/iPad|iPhone|iPod/.test(e),m=/Android/.test(e);document.body.classList.add(t?"mobile-device":"desktop-device",s?"tablet-device":"phone-device",n?"ios-device":m?"android-device":"other-device"),window.deviceInfo={isMobile:t,isTablet:s,isIOS:n,isAndroid:m,userAgent:e}}fixTouchEvents(){document.addEventListener("touchstart",e=>{this.touchStartTime=Date.now()},{passive:!0}),document.addEventListener("touchend",e=>{const t=Date.now();this.touchStartTime,t-this.lastTouchEnd<300&&e.preventDefault(),this.lastTouchEnd=t},{passive:!1}),document.addEventListener("touchmove",e=>{e.touches.length>1&&e.preventDefault()},{passive:!1}),this.addTouchFeedback()}addTouchFeedback(){const e=document.createElement("style");e.textContent='\n      .mobile-device button,\n      .mobile-device .clickable,\n      .mobile-device [role="button"] {\n        -webkit-tap-highlight-color: rgba(0, 123, 255, 0.1);\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        user-select: none;\n        transition: transform 0.1s ease, background-color 0.1s ease;\n      }\n      \n      .mobile-device button:active,\n      .mobile-device .clickable:active,\n      .mobile-device [role="button"]:active {\n        transform: scale(0.98);\n        background-color: rgba(0, 123, 255, 0.05);\n      }\n      \n      .mobile-device input,\n      .mobile-device textarea,\n      .mobile-device select {\n        font-size: 16px; /* é˜²æ­¢iOSç¼©æ”¾ */\n        -webkit-appearance: none;\n        border-radius: 0;\n      }\n    ',document.head.appendChild(e)}optimizeViewport(){let e=document.querySelector('meta[name="viewport"]');e||(e=document.createElement("meta"),e.name="viewport",document.head.appendChild(e));const t=window.deviceInfo;let s="width=device-width, initial-scale=1.0";(null==t?void 0:t.isIOS)?s+=", viewport-fit=cover, user-scalable=no":(null==t?void 0:t.isAndroid)&&(s+=", user-scalable=no, shrink-to-fit=no"),e.content=s,window.addEventListener("orientationchange",()=>{setTimeout(()=>{window.scrollTo(0,0),this.adjustForOrientation()},100)})}adjustForOrientation(){const e=window.orientation;document.body.classList.remove("portrait","landscape"),90===Math.abs(e)?document.body.classList.add("landscape"):document.body.classList.add("portrait")}fixMobileScrolling(){const e=document.createElement("style");e.textContent="\n      .mobile-device {\n        -webkit-overflow-scrolling: touch;\n        overflow-scrolling: touch;\n      }\n      \n      .mobile-device .scroll-container {\n        -webkit-overflow-scrolling: touch;\n        overflow-scrolling: touch;\n        transform: translateZ(0);\n      }\n      \n      /* ä¿®å¤iOS Safariåº•éƒ¨å®‰å…¨åŒºåŸŸ */\n      .ios-device {\n        padding-bottom: env(safe-area-inset-bottom);\n      }\n      \n      /* ä¿®å¤Androidé”®ç›˜å¼¹å‡ºé—®é¢˜ */\n      .android-device {\n        height: 100vh;\n        height: -webkit-fill-available;\n      }\n    ",document.head.appendChild(e),this.handleVirtualKeyboard()}handleVirtualKeyboard(){let e=window.innerHeight;window.addEventListener("resize",()=>{const t=window.innerHeight;e-t>150?(document.body.classList.add("keyboard-open"),document.body.style.height="".concat(t,"px")):(document.body.classList.remove("keyboard-open"),document.body.style.height="")})}optimizeMobilePerformance(){if((navigator.deviceMemory||4)<2){const e=document.createElement("style");e.textContent="\n        .low-memory-device * {\n          animation-duration: 0.1s !important;\n          transition-duration: 0.1s !important;\n        }\n        \n        .low-memory-device .complex-animation {\n          display: none !important;\n        }\n      ",document.head.appendChild(e),document.body.classList.add("low-memory-device")}this.optimizeImageLoading(),this.enableHardwareAcceleration()}optimizeImageLoading(){const e=document.querySelectorAll("img[data-src]");if("IntersectionObserver"in window){const t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const s=e.target;s.src=s.dataset.src||"",s.removeAttribute("data-src"),t.unobserve(s)}})});e.forEach(e=>t.observe(e))}}enableHardwareAcceleration(){const e=document.createElement("style");e.textContent="\n      .mobile-device .hardware-accelerated {\n        transform: translateZ(0);\n        -webkit-transform: translateZ(0);\n        will-change: transform;\n      }\n      \n      .mobile-device .smooth-scroll {\n        -webkit-overflow-scrolling: touch;\n        overflow-scrolling: touch;\n      }\n    ",document.head.appendChild(e)}enhanceMobileNetworking(){if("connection"in navigator){const e=navigator.connection,t=()=>{const t=e.effectiveType,s=e.downlink;document.body.classList.remove("slow-network","fast-network"),"slow-2g"===t||"2g"===t||s<1?(document.body.classList.add("slow-network"),this.enableDataSavingMode()):document.body.classList.add("fast-network"),window.dispatchEvent(new CustomEvent("networkchange",{detail:{effectiveType:t,downlink:s}}))};e.addEventListener("change",t),t()}this.optimizeRequestTimeouts()}enableDataSavingMode(){document.querySelectorAll("img").forEach(e=>{e.src&&!e.dataset.originalSrc&&(e.dataset.originalSrc=e.src)}),document.querySelectorAll("video[autoplay]").forEach(e=>{e.removeAttribute("autoplay")})}optimizeRequestTimeouts(){const e=window.fetch;window.fetch=function(t,s){const n=new AbortController,m=setTimeout(()=>n.abort(),15e3),r={...s,signal:n.signal};return e(t,r).finally(()=>clearTimeout(m))}}addMobileErrorHandling(){window.addEventListener("error",e=>{var t,s;(null==(s=null==(t=e.error)?void 0:t.message)?void 0:s.includes("out of memory"))&&this.handleMemoryError()}),window.addEventListener("unhandledrejection",e=>{var t,s;(null==(s=null==(t=e.reason)?void 0:t.message)?void 0:s.includes("fetch"))&&this.handleNetworkError()})}handleMemoryError(){"caches"in window&&caches.keys().then(e=>{e.forEach(e=>{e.includes("critical")||caches.delete(e)})}),window.gc&&window.gc(),this.showMemoryWarning()}handleNetworkError(){this.showNetworkErrorToast()}showMemoryWarning(){const e=document.createElement("div");e.className="memory-warning",e.innerHTML='\n      <div style="\n        position: fixed;\n        top: 20px;\n        left: 20px;\n        right: 20px;\n        background: #ff6b6b;\n        color: white;\n        padding: 12px;\n        border-radius: 8px;\n        z-index: 10000;\n        text-align: center;\n        font-size: 14px;\n      ">\n        âš ï¸ è®¾å¤‡å†…å­˜ä¸è¶³ï¼Œå·²å¯ç”¨èŠ‚çœæ¨¡å¼\n      </div>\n    ',document.body.appendChild(e),setTimeout(()=>{e.remove()},5e3)}showNetworkErrorToast(){const e=document.createElement("div");e.className="network-error-toast",e.innerHTML='\n      <div style="\n        position: fixed;\n        bottom: 20px;\n        left: 20px;\n        right: 20px;\n        background: #f39c12;\n        color: white;\n        padding: 12px;\n        border-radius: 8px;\n        z-index: 10000;\n        text-align: center;\n        font-size: 14px;\n      ">\n        ğŸ“¶ ç½‘ç»œè¿æ¥ä¸ç¨³å®šï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®\n      </div>\n    ',document.body.appendChild(e),setTimeout(()=>{e.remove()},3e3)}recheckCompatibility(){this.detectMobileEnvironment(),this.adjustForOrientation()}getDeviceInfo(){return window.deviceInfo}};t(ee,"instance");const te=ee.getInstance(),se=new class{constructor(){t(this,"retryCount",0),t(this,"maxRetries",3),t(this,"retryDelay",2e3),t(this,"connectionCheckInterval",null),this.initializeApp(),this.setupNetworkMonitoring(),this.initializeMobileOptimizations()}async initializeMobileOptimizations(){try{te.recheckCompatibility(),G.optimizeMobileCache(),await G.preloadCriticalResources()}catch(e){}}setupNetworkMonitoring(){window.addEventListener("online",this.handleOnline.bind(this)),window.addEventListener("offline",this.handleOffline.bind(this)),window.addEventListener("mobileConnectionChange",e=>{const{type:t,networkState:s}=e.detail;switch(t){case"unstable":this.updateLoaderText("æ£€æµ‹åˆ°ç½‘ç»œä¸ç¨³å®šï¼Œæ­£åœ¨ä¼˜åŒ–è¿æ¥...");break;case"restored":this.updateLoaderText("ç½‘ç»œè¿æ¥å·²æ¢å¤")}}),this.connectionCheckInterval=setInterval(()=>{this.checkNetworkConnection()},3e4)}async checkNetworkConnection(){try{return navigator.onLine}catch(e){return navigator.onLine}}handleOnline(){this.updateLoaderText("ç½‘ç»œè¿æ¥å·²æ¢å¤ï¼Œæ­£åœ¨é‡æ–°åˆå§‹åŒ–..."),this.retryCount=0,setTimeout(()=>{this.initializeApp()},1e3)}handleOffline(){this.updateLoaderText("ç½‘ç»œè¿æ¥å·²æ–­å¼€ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®"),this.showNetworkError()}async initializeApp(){try{if(this.updateLoaderText("æ­£åœ¨åˆå§‹åŒ–å…¼å®¹æ€§æ”¯æŒ..."),(()=>{if(/iPhone|iPad|iPod/.test(navigator.userAgent)){const e=()=>{const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))};e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",()=>{setTimeout(e,100)})}/Android/.test(navigator.userAgent)&&document.addEventListener("touchstart",()=>{},{passive:!0}),"undefined"==typeof console&&(window.console={log:()=>{},warn:()=>{},error:()=>{},info:()=>{},debug:()=>{}}),window.requestAnimationFrame||(window.requestAnimationFrame=e=>window.setTimeout(e,1e3/60)),window.cancelAnimationFrame||(window.cancelAnimationFrame=e=>{clearTimeout(e)})})(),navigator,(()=>{try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}})(),CSS.supports("display","flex"),CSS.supports("display","grid"),this.updateLoaderText("æ­£åœ¨åˆå§‹åŒ–åº”ç”¨..."),!navigator.onLine)return void this.handleOfflineState();await this.preloadCriticalResources(),await this.registerServiceWorker(),this.renderApp()}catch(e){this.handleInitializationError(e)}}async preloadCriticalResources(){try{this.updateLoaderText("æ­£åœ¨åŠ è½½æ ¸å¿ƒèµ„æº...");const e=document.createElement("link");e.rel="prefetch",e.href="/timesheet-management-system/favicon.svg",document.head.appendChild(e),await new Promise(e=>setTimeout(e,100))}catch(e){}}async registerServiceWorker(){if("serviceWorker"in navigator&&"https:"===window.location.protocol)try{this.updateLoaderText("æ­£åœ¨æ³¨å†ŒæœåŠ¡å·¥ä½œè€…..."),(await navigator.serviceWorker.register("/timesheet-management-system/sw.js",{scope:"/timesheet-management-system/"})).addEventListener("updatefound",()=>{})}catch(e){}}renderApp(){try{this.updateLoaderText("æ­£åœ¨å¯åŠ¨åº”ç”¨...");const e=document.getElementById("root");if(!e)throw new Error("æ‰¾ä¸åˆ°æ ¹å®¹å™¨å…ƒç´ ");b(e).render(s.jsxDEV(n.StrictMode,{children:s.jsxDEV(Y,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/main.tsx",lineNumber:196,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/main.tsx",lineNumber:195,columnNumber:9},this)),setTimeout(()=>{window.hideInitialLoader&&window.hideInitialLoader()},500)}catch(e){this.handleInitializationError(e)}}handleOfflineState(){this.updateLoaderText("å½“å‰å¤„äºç¦»çº¿çŠ¶æ€"),this.showNetworkError(),setTimeout(()=>{try{this.renderApp()}catch(e){}},2e3)}handleInitializationError(e){var t,s,n;if(this.retryCount++,((null==(t=e.message)?void 0:t.includes("fetch"))||(null==(s=e.message)?void 0:s.includes("network"))||(null==(n=e.message)?void 0:n.includes("Failed to import")))&&this.retryCount<=this.maxRetries){this.updateLoaderText("ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œæ­£åœ¨é‡è¯•... (".concat(this.retryCount,"/").concat(this.maxRetries,")"));const e=this.retryDelay*Math.pow(1.5,this.retryCount-1);setTimeout(()=>{this.initializeApp()},e)}else this.retryCount<=this.maxRetries?(this.updateLoaderText("åˆå§‹åŒ–å¤±è´¥ï¼Œæ­£åœ¨é‡è¯•... (".concat(this.retryCount,"/").concat(this.maxRetries,")")),setTimeout(()=>{this.initializeApp()},this.retryDelay)):(this.updateLoaderText("åº”ç”¨å¯åŠ¨å¤±è´¥"),this.showFinalError(e))}updateLoaderText(e){const t=document.getElementById("loader-text");t&&(t.textContent=e)}showNetworkError(){const e=document.getElementById("error-message"),t=document.getElementById("retry-button");e&&t&&(e.textContent="ç½‘ç»œè¿æ¥å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®åé‡è¯•",e.style.display="block",t.style.display="inline-block",t.onclick=()=>{this.retryCount=0,e.style.display="none",t.style.display="none",this.initializeApp()})}showFinalError(e){const t=document.getElementById("error-message"),s=document.getElementById("retry-button");t&&s&&(t.textContent="åº”ç”¨å¯åŠ¨å¤±è´¥: ".concat(e.message||"æœªçŸ¥é”™è¯¯","ã€‚è¯·åˆ·æ–°é¡µé¢é‡è¯•ã€‚"),t.style.display="block",s.textContent="åˆ·æ–°é¡µé¢",s.style.display="inline-block",s.onclick=()=>{window.location.reload()})}cleanup(){this.connectionCheckInterval&&clearInterval(this.connectionCheckInterval),window.removeEventListener("online",this.handleOnline.bind(this)),window.removeEventListener("offline",this.handleOffline.bind(this))}};window.addEventListener("beforeunload",()=>{se.cleanup()}),window.addEventListener("error",e=>{}),window.addEventListener("unhandledrejection",e=>{});
