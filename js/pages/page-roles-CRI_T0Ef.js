import{r as e,j as m,T as s,l as t,c as n,d as r,P as a,H as i,S as o,f as l,X as u,e as c}from"../libs/lib-react-CmVvENop.js";import{u as h,h as d,s as g,P as N,S as b,D as x}from"./page-admin-DIiCL3HX.js";import{L as y,a as f,u as p}from"../vendor-BPcnth7H.js";const v=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{user:c}=h(),[b,x]=e.useState([]),[f,p]=e.useState(!0),[v,w]=e.useState(""),[E,k]=e.useState({show:!1,role:null}),[j,D]=e.useState(!1);e.useEffect(()=>{var e;if(document.title="权限管理 - 工时管理系统",c&&(null==(e=c.role)?void 0:e.permissions)){if(!d(c,N.ROLE_MANAGE))return w("您没有权限访问角色管理页面"),void p(!1);R()}},[c]);const R=async()=>{try{const{data:e,error:m}=await g.from("user_roles").select("*").order("created_at",{ascending:!1});if(m)throw m;const{data:s,error:t}=await g.from("users").select("role_id");if(t){const m=(e||[]).map(e=>({...e,user_count:0}));return void x(m)}const n=new Map;null==s||s.forEach(e=>{const m=n.get(e.role_id)||0;n.set(e.role_id,m+1)});const r=(e||[]).map(e=>({...e,user_count:n.get(e.id)||0}));x(r)}catch(e){w("获取角色列表失败，请重试")}finally{p(!1)}},V=()=>{k({show:!1,role:null})};return f?m.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:m.jsxDEV("div",{className:"text-green-400 text-xl animate-pulse font-mono",children:"加载中..."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:131,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:130,columnNumber:7},void 0):v?m.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:m.jsxDEV("div",{className:"text-center",children:[m.jsxDEV(s,{className:"w-16 h-16 text-red-400 mx-auto mb-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:142,columnNumber:11},void 0),m.jsxDEV("div",{className:"text-red-400 text-xl font-mono mb-4",children:v},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:143,columnNumber:11},void 0),m.jsxDEV(y,{to:"/dashboard",className:"px-4 py-2 bg-green-600 hover:bg-green-500 text-black font-bold rounded transition-colors font-mono",children:"返回首页"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:144,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:141,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:140,columnNumber:7},void 0):m.jsxDEV("div",{className:"min-h-screen bg-black text-green-400 p-6",children:m.jsxDEV("div",{className:"max-w-7xl mx-auto",children:[m.jsxDEV("div",{className:"mb-8",children:[m.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[m.jsxDEV("div",{className:"flex items-center",children:[m.jsxDEV(t,{className:"w-8 h-8 text-green-400 mr-3"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:162,columnNumber:15},void 0),m.jsxDEV("h1",{className:"text-4xl font-bold text-green-400 font-mono",children:"权限管理"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:163,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:161,columnNumber:13},void 0),m.jsxDEV(y,{to:"/dashboard",className:"flex items-center gap-2 px-3 py-2 sm:px-4 sm:py-2 bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-600 hover:to-gray-700 text-green-300 hover:text-green-200 rounded-lg font-mono transition-all duration-200 shadow-md hover:shadow-lg border border-gray-600 hover:border-green-500/50",children:[m.jsxDEV(n,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:169,columnNumber:15},void 0),m.jsxDEV("span",{className:"hidden sm:inline",children:"返回控制台"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:170,columnNumber:15},void 0),m.jsxDEV("span",{className:"sm:hidden",children:"返回"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:171,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:165,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:160,columnNumber:11},void 0),m.jsxDEV("div",{className:"h-1 bg-gradient-to-r from-transparent via-green-400 to-transparent"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:174,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:159,columnNumber:9},void 0),m.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[m.jsxDEV("div",{className:"flex-1",children:m.jsxDEV("div",{className:"relative",children:[m.jsxDEV(r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-green-400/60"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:181,columnNumber:15},void 0),m.jsxDEV("input",{type:"text",placeholder:"搜索角色名称...",className:"w-full bg-black border border-green-400/30 rounded px-10 py-2 text-green-400 placeholder-green-400/60 focus:outline-none focus:border-green-400"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:182,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:180,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:179,columnNumber:11},void 0),m.jsxDEV(y,{to:"/role-permissions/create",className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-500 text-black font-bold rounded transition-colors font-mono",children:[m.jsxDEV(a,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:193,columnNumber:13},void 0),"创建角色"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:189,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:178,columnNumber:9},void 0),m.jsxDEV("div",{className:"bg-gray-900 border border-green-400 rounded-lg overflow-hidden",children:0===b.length?m.jsxDEV("div",{className:"p-8 text-center",children:[m.jsxDEV(t,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:205,columnNumber:15},void 0),m.jsxDEV("p",{className:"text-gray-400 font-mono",children:"暂无角色数据"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:206,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:204,columnNumber:13},void 0):m.jsxDEV("div",{className:"overflow-x-auto",children:m.jsxDEV("table",{className:"w-full",children:[m.jsxDEV("thead",{className:"bg-green-900/30",children:m.jsxDEV("tr",{children:[m.jsxDEV("th",{className:"px-6 py-3 text-left text-sm font-medium text-green-400 uppercase tracking-wider font-mono",children:"角色名称"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:213,columnNumber:21},void 0),m.jsxDEV("th",{className:"px-6 py-3 text-left text-sm font-medium text-green-400 uppercase tracking-wider font-mono",children:"用户数量"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:216,columnNumber:21},void 0),m.jsxDEV("th",{className:"px-6 py-3 text-left text-sm font-medium text-green-400 uppercase tracking-wider font-mono",children:"创建时间"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:219,columnNumber:21},void 0),m.jsxDEV("th",{className:"px-6 py-3 text-left text-sm font-medium text-green-400 uppercase tracking-wider font-mono",children:"操作"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:222,columnNumber:21},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:212,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:211,columnNumber:17},void 0),m.jsxDEV("tbody",{className:"divide-y divide-green-800",children:b.map(e=>{return m.jsxDEV("tr",{className:"hover:bg-green-900/10 transition-colors",children:[m.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxDEV("div",{className:"flex items-center gap-2",children:[m.jsxDEV(t,{className:"w-4 h-4 text-green-400"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:232,columnNumber:27},void 0),m.jsxDEV("span",{className:"text-green-400 font-mono font-medium",children:e.name},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:233,columnNumber:27},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:231,columnNumber:25},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:230,columnNumber:23},void 0),m.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxDEV("div",{className:"flex items-center gap-1",children:[m.jsxDEV(i,{className:"w-4 h-4 text-green-400"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:238,columnNumber:27},void 0),m.jsxDEV("span",{className:"text-green-400 font-mono",children:e.user_count},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:239,columnNumber:27},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:237,columnNumber:25},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:236,columnNumber:23},void 0),m.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxDEV("span",{className:"text-green-300 font-mono text-sm",children:(s=e.created_at,new Date(s).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}))},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:243,columnNumber:25},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:242,columnNumber:23},void 0),m.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxDEV("div",{className:"flex items-center gap-2",children:[m.jsxDEV(y,{to:"/role-permissions/edit/".concat(e.id),className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-gray-700 rounded transition-colors",title:"编辑角色",children:m.jsxDEV(o,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:254,columnNumber:29},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:249,columnNumber:27},void 0),m.jsxDEV("button",{onClick:()=>(e=>{k({show:!0,role:e})})(e),className:"p-2 text-red-400 hover:text-red-300 hover:bg-gray-700 rounded transition-colors",title:"删除角色",children:m.jsxDEV(l,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:261,columnNumber:29},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:256,columnNumber:27},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:248,columnNumber:25},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:247,columnNumber:23},void 0)]},e.id,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:229,columnNumber:21},void 0);var s})},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:227,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:210,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:209,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:201,columnNumber:9},void 0),E.show&&E.role&&m.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxDEV("div",{className:"bg-gray-900 border border-red-400 rounded-lg p-6 max-w-md w-full mx-4",children:[m.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[m.jsxDEV("h3",{className:"text-xl font-bold text-red-400 font-mono",children:"确认删除角色"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:278,columnNumber:17},void 0),m.jsxDEV("button",{onClick:V,className:"text-gray-400 hover:text-gray-300 transition-colors",children:m.jsxDEV(u,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:283,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:279,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:277,columnNumber:15},void 0),m.jsxDEV("div",{className:"mb-6",children:[m.jsxDEV("p",{className:"text-green-300 font-mono mb-2",children:["您确定要删除角色 ",m.jsxDEV("span",{className:"text-red-400 font-bold",children:['"',E.role.name,'"']},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:289,columnNumber:28},void 0)," 吗？"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:288,columnNumber:17},void 0),m.jsxDEV("div",{className:"bg-gray-800 border border-gray-600 rounded p-3 mb-3",children:m.jsxDEV("p",{className:"text-green-300 font-mono text-sm",children:["使用用户数：",E.role.user_count]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:292,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:291,columnNumber:17},void 0),E.role.user_count>0&&m.jsxDEV("div",{className:"bg-red-900 border border-red-400 rounded p-3 mb-3",children:m.jsxDEV("p",{className:"text-red-300 font-mono text-sm",children:["⚠️ 该角色正被 ",E.role.user_count," 个用户使用，无法删除！"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:298,columnNumber:21},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:297,columnNumber:19},void 0),m.jsxDEV("p",{className:"text-gray-400 font-mono text-sm",children:"此操作不可撤销，请谨慎操作。"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:303,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:287,columnNumber:15},void 0),m.jsxDEV("div",{className:"flex gap-3 justify-end",children:[m.jsxDEV("button",{onClick:V,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white font-bold rounded transition-colors font-mono",disabled:j,children:"取消"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:309,columnNumber:17},void 0),m.jsxDEV("button",{onClick:async()=>{if(!E.role)return;const e=E.role;if(e.user_count>0)return w('无法删除角色 "'.concat(e.name,'"，该角色正被 ').concat(e.user_count," 个用户使用")),void k({show:!1,role:null});D(!0);try{const{error:m}=await g.from("user_roles").delete().eq("id",e.id);if(m)throw m;await R(),k({show:!1,role:null}),w("")}catch(m){w("删除角色失败，请重试")}finally{D(!1)}},disabled:j||E.role.user_count>0,className:"px-4 py-2 bg-red-600 hover:bg-red-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold rounded transition-colors font-mono",children:j?"删除中...":"确认删除"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:316,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:308,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:276,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:275,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:157,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleList.tsx",lineNumber:156,columnNumber:5},void 0)}},Symbol.toStringTag,{value:"Module"})),w=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{id:r}=f(),[a,i]=e.useState(null),[o,l]=e.useState({name:"",permissions:[]}),[v,w]=e.useState(!0),[E,k]=e.useState(!1),[j,D]=e.useState(""),{user:R,loading:V}=h(),L=p();if(e.useEffect(()=>{var e;if(V||R)return R&&(null==(e=R.role)?void 0:e.permissions)&&!d(R,N.ROLE_MANAGE)?(D("您没有权限访问角色管理功能"),void w(!1)):void 0;L("/login")},[R,V,L]),V)return m.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:m.jsxDEV("div",{className:"text-center",children:[m.jsxDEV("div",{className:"text-green-400 text-2xl font-mono mb-4",children:"加载中..."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:54,columnNumber:11},this),m.jsxDEV("div",{className:"text-green-600 font-mono",children:"正在验证用户身份"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:55,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:53,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:52,columnNumber:7},this);e.useEffect(()=>{var e;R&&(null==(e=R.role)?void 0:e.permissions)&&d(R,N.ROLE_MANAGE)&&r&&C()},[R,r]);const C=async()=>{if(r)try{const{data:e,error:m}=await g.from("user_roles").select("*").eq("id",r).single();if(m)throw m;if(!e)throw new Error("角色不存在");i(e),l({name:e.name,permissions:e.permissions||[]})}catch(e){D(e.message||"获取角色信息失败")}finally{w(!1)}};return v?m.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:m.jsxDEV("div",{className:"text-green-400 text-xl animate-pulse font-mono",children:"加载中..."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:158,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:157,columnNumber:7},this):j?m.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:m.jsxDEV("div",{className:"text-center",children:[m.jsxDEV(s,{className:"w-16 h-16 text-red-400 mx-auto mb-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:169,columnNumber:11},this),m.jsxDEV("div",{className:"text-red-400 text-xl font-mono mb-4",children:j},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:170,columnNumber:11},this),m.jsxDEV(y,{to:"/role-permissions",className:"px-4 py-2 bg-green-600 hover:bg-green-500 text-black font-bold rounded transition-colors font-mono",children:"返回角色列表"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:171,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:168,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:167,columnNumber:7},this):a?m.jsxDEV("div",{className:"min-h-screen bg-black text-green-300 p-4 sm:p-6",children:m.jsxDEV("div",{className:"max-w-4xl mx-auto",children:[m.jsxDEV("div",{className:"mb-6",children:m.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[m.jsxDEV("h1",{className:"text-xl sm:text-2xl font-bold text-green-400 font-mono truncate",children:["编辑角色 - ",a.name]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:203,columnNumber:13},this),m.jsxDEV(y,{to:"/role-permissions",className:"flex items-center text-green-400 hover:text-green-300 transition-colors flex-shrink-0 font-mono",children:[m.jsxDEV(n,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:210,columnNumber:15},this),"返回"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:206,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:202,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:201,columnNumber:9},this),j&&m.jsxDEV("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-400/60 rounded text-red-200 text-sm font-mono",children:j},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:217,columnNumber:11},this),m.jsxDEV("form",{onSubmit:async e=>{e.preventDefault(),k(!0),D("");try{if(!r)throw new Error("角色ID不存在");const{data:e}=await g.from("user_roles").select("id").eq("name",o.name).neq("id",r).single();if(e)throw new Error("角色名称已存在");const{data:m,error:s}=await g.from("user_roles").update({name:o.name,permissions:o.permissions,updated_at:(new Date).toISOString()}).eq("id",r).select("*");if(s)throw s;if(!m||0===m.length)throw new Error("更新失败：无法获取更新后的数据，请检查权限设置");L("/role-permissions")}catch(m){D(m.message||"保存失败")}finally{k(!1)}},className:"space-y-4 sm:space-y-6",children:[m.jsxDEV("div",{className:"bg-gray-900/50 border border-green-400/50 rounded p-4 sm:p-6",children:[m.jsxDEV("h2",{className:"text-lg font-bold text-green-400 font-mono mb-3 sm:mb-4",children:"基本信息"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:225,columnNumber:13},this),m.jsxDEV("div",{className:"space-y-4",children:m.jsxDEV("div",{children:[m.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"角色名称 *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:229,columnNumber:17},this),m.jsxDEV("div",{className:"relative",children:[m.jsxDEV(t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400/70 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:233,columnNumber:19},this),m.jsxDEV("input",{type:"text",value:o.name,onChange:e=>l(m=>({...m,name:e.target.value})),required:!0,className:"w-full pl-10 pr-4 py-2 sm:py-3 bg-black border border-green-400/30 rounded text-green-200 placeholder-green-700 focus:outline-none focus:border-green-400 focus:bg-gray-900/30 font-mono text-sm transition-all",placeholder:"请输入角色名称"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:234,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:232,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:228,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:227,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:224,columnNumber:11},this),a&&a.name!==b&&m.jsxDEV("div",{className:"bg-gray-900/50 border border-green-400/50 rounded p-4 sm:p-6",children:[m.jsxDEV("h2",{className:"text-lg font-bold text-green-400 font-mono mb-3 sm:mb-4",children:"权限设置"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:252,columnNumber:15},this),m.jsxDEV("div",{className:"space-y-3",children:[m.jsxDEV("div",{className:"text-green-300 font-mono text-sm mb-4",children:"选择该角色可以访问的Dashboard模块："},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:255,columnNumber:17},this),m.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:x.map(e=>m.jsxDEV("label",{className:"flex flex-col items-start gap-2 p-3 border border-green-400/20 rounded transition-colors cursor-pointer hover:bg-gray-800/30",children:[m.jsxDEV("div",{className:"flex items-center gap-2",children:[m.jsxDEV("input",{type:"checkbox",checked:o.permissions.includes(e.permission),onChange:()=>{return m=e.permission,void l(e=>({...e,permissions:e.permissions.includes(m)?e.permissions.filter(e=>e!==m):[...e.permissions,m]}));var m},className:"w-4 h-4 text-green-600 bg-black border-green-400 rounded focus:ring-green-500 focus:ring-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:263,columnNumber:25},this),m.jsxDEV("div",{className:"text-green-300 font-mono text-sm font-medium",children:e.name},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:269,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:262,columnNumber:23},this),m.jsxDEV("div",{className:"text-green-600 font-mono text-xs ml-6",children:e.description},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:273,columnNumber:23},this)]},e.id,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:261,columnNumber:21},this))},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:259,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:254,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:251,columnNumber:13},this),a&&a.name===b&&m.jsxDEV("div",{className:"bg-gray-900/50 border border-green-400/50 rounded p-4 sm:p-6",children:[m.jsxDEV("h2",{className:"text-lg font-bold text-green-400 font-mono mb-3 sm:mb-4",children:"权限设置"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:286,columnNumber:15},this),m.jsxDEV("div",{className:"p-4 bg-yellow-900/30 border border-yellow-400/60 rounded",children:[m.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[m.jsxDEV(t,{className:"w-5 h-5 text-yellow-400"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:289,columnNumber:19},this),m.jsxDEV("span",{className:"text-yellow-400 font-mono font-bold",children:"超级管理员"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:290,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:288,columnNumber:17},this),m.jsxDEV("p",{className:"text-yellow-300 font-mono text-sm",children:"超级管理员自动拥有系统所有权限，可以访问所有Dashboard模块，无需手动设置。"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:292,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:287,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:285,columnNumber:13},this),m.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[m.jsxDEV("button",{type:"submit",disabled:E,className:"flex items-center justify-center gap-2 px-4 py-2 sm:py-3 bg-green-600 hover:bg-green-500 disabled:bg-green-800 disabled:opacity-50 text-black font-medium rounded transition-all font-mono text-sm",children:[m.jsxDEV(c,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:308,columnNumber:15},this),E?"保存中...":"保存"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:303,columnNumber:13},this),m.jsxDEV(y,{to:"/role-permissions",className:"flex items-center justify-center gap-2 px-4 py-2 sm:py-3 border border-gray-500 hover:border-gray-400 hover:bg-gray-800/30 text-gray-300 font-medium rounded transition-all font-mono text-sm",children:[m.jsxDEV(u,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:315,columnNumber:15},this),"取消"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:311,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:302,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:222,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:199,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:198,columnNumber:5},this):m.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:m.jsxDEV("div",{className:"text-center",children:[m.jsxDEV(s,{className:"w-16 h-16 text-red-400 mx-auto mb-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:184,columnNumber:11},this),m.jsxDEV("div",{className:"text-red-400 text-xl font-mono mb-4",children:"角色不存在"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:185,columnNumber:11},this),m.jsxDEV(y,{to:"/role-permissions",className:"px-4 py-2 bg-green-600 hover:bg-green-500 text-black font-bold rounded transition-colors font-mono",children:"返回角色列表"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:186,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:183,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleEdit.tsx",lineNumber:182,columnNumber:7},this)}},Symbol.toStringTag,{value:"Module"})),E=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const s=p(),{user:r}=h(),[a,i]=e.useState({name:"",permissions:[]}),[o,l]=e.useState(!1),[d,N]=e.useState(null),[y,f]=e.useState(!1);return y?m.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:m.jsxDEV("div",{className:"text-center",children:m.jsxDEV("div",{className:"text-green-400 text-xl animate-pulse font-mono",children:"加载中..."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:49,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:48,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:47,columnNumber:7},this):r?m.jsxDEV("div",{className:"min-h-screen bg-black text-green-300 p-4 sm:p-6",children:m.jsxDEV("div",{className:"max-w-4xl mx-auto",children:[m.jsxDEV("div",{className:"mb-6",children:m.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[m.jsxDEV("h1",{className:"text-xl sm:text-2xl font-bold text-green-400 font-mono truncate",children:"创建角色"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:130,columnNumber:13},this),m.jsxDEV("button",{onClick:()=>s("/role-permissions"),className:"flex items-center text-green-400 hover:text-green-300 transition-colors flex-shrink-0 font-mono",children:[m.jsxDEV(n,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:137,columnNumber:15},this),"返回"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:133,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:129,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:128,columnNumber:9},this),d&&m.jsxDEV("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-400/60 rounded text-red-200 text-sm font-mono",children:d},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:144,columnNumber:11},this),m.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),a.name.trim()){l(!0),N(null);try{const{data:e}=await g.from("user_roles").select("id").eq("name",a.name.trim()).single();if(e)return N("角色名称已存在，请使用其他名称"),void l(!1);if(a.name.trim()===b)return N("超级管理员角色已存在，无法重复创建"),void l(!1);const{error:m}=await g.from("user_roles").insert({name:a.name.trim(),permissions:a.permissions});if(m)return void N("创建角色失败，请重试");N(""),s("/roles")}catch(m){N("创建角色时发生错误，请重试")}finally{l(!1)}}else N("角色名称不能为空")},className:"space-y-4 sm:space-y-6",children:[m.jsxDEV("div",{className:"bg-gray-900/50 border border-green-400/50 rounded p-4 sm:p-6",children:[m.jsxDEV("h2",{className:"text-lg font-bold text-green-400 font-mono mb-3 sm:mb-4",children:"基本信息"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:152,columnNumber:13},this),m.jsxDEV("div",{className:"space-y-4",children:m.jsxDEV("div",{children:[m.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"角色名称 *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:156,columnNumber:17},this),m.jsxDEV("div",{className:"relative",children:[m.jsxDEV(t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400/70 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:160,columnNumber:19},this),m.jsxDEV("input",{type:"text",value:a.name,onChange:e=>i(m=>({...m,name:e.target.value})),required:!0,className:"w-full pl-10 pr-4 py-2 sm:py-3 bg-black border border-green-400/30 rounded text-green-200 placeholder-green-700 focus:outline-none focus:border-green-400 focus:bg-gray-900/30 font-mono text-sm transition-all",placeholder:"请输入角色名称"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:161,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:159,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:155,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:154,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:151,columnNumber:11},this),m.jsxDEV("div",{className:"bg-gray-900/50 border border-green-400/50 rounded p-4 sm:p-6",children:[m.jsxDEV("h2",{className:"text-lg font-bold text-green-400 font-mono mb-3 sm:mb-4",children:"权限设置"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:178,columnNumber:13},this),m.jsxDEV("div",{className:"space-y-3",children:[m.jsxDEV("div",{className:"text-green-300 font-mono text-sm mb-4",children:"选择该角色可以访问的Dashboard模块："},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:181,columnNumber:15},this),m.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:x.map(e=>m.jsxDEV("label",{className:"flex flex-col items-start gap-2 p-3 border border-green-400/20 rounded transition-colors cursor-pointer hover:bg-gray-800/30",children:[m.jsxDEV("div",{className:"flex items-center gap-2",children:[m.jsxDEV("input",{type:"checkbox",checked:a.permissions.includes(e.permission),onChange:()=>{return m=e.permission,void i(e=>({...e,permissions:e.permissions.includes(m)?e.permissions.filter(e=>e!==m):[...e.permissions,m]}));var m},className:"w-4 h-4 text-green-600 bg-black border-green-400 rounded focus:ring-green-500 focus:ring-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:189,columnNumber:23},this),m.jsxDEV("div",{className:"text-green-300 font-mono text-sm font-medium",children:e.name},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:195,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:188,columnNumber:21},this),m.jsxDEV("div",{className:"text-green-600 font-mono text-xs ml-6",children:e.description},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:199,columnNumber:21},this)]},e.id,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:187,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:185,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:180,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:177,columnNumber:11},this),m.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[m.jsxDEV("button",{type:"submit",disabled:o||!a.name.trim(),className:"flex items-center justify-center gap-2 px-4 py-2 sm:py-3 bg-green-600 hover:bg-green-500 disabled:bg-green-800 disabled:opacity-50 text-black font-medium rounded transition-all font-mono text-sm",children:[m.jsxDEV(c,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:215,columnNumber:15},this),o?"创建中...":"创建角色"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:210,columnNumber:13},this),m.jsxDEV("button",{type:"button",onClick:()=>s("/role-permissions"),className:"flex items-center justify-center gap-2 px-4 py-2 sm:py-3 border border-gray-500 hover:border-gray-400 hover:bg-gray-800/30 text-gray-300 font-medium rounded transition-all font-mono text-sm",children:[m.jsxDEV(u,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:223,columnNumber:15},this),"取消"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:218,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:209,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:149,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:126,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:125,columnNumber:5},this):m.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:m.jsxDEV("div",{className:"bg-gray-900 border border-green-400 p-8 rounded-lg max-w-md w-full text-center",children:[m.jsxDEV("h2",{className:"text-xl font-semibold text-green-400 mb-2 font-mono",children:"未登录"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:61,columnNumber:11},this),m.jsxDEV("p",{className:"text-green-300 mb-6 font-mono",children:"请先登录后再访问此页面"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:60,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/RoleCreate.tsx",lineNumber:59,columnNumber:7},this)}},Symbol.toStringTag,{value:"Module"}));export{v as R,w as a,E as b};
