const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/Dashboard-BVV_2WrO.js","js/react-Bb3tvtni.js","js/dnd-BrQI_AzC.js","js/react-dom-BYvQhIM8.js","js/vendor-BzzQOOXP.js","js/supabase-BXdOPv9s.js","js/toast-BOKuuzNR.js","js/TimesheetRecord-BYgyf27i.js","js/TimesheetHistory-BRZ5uPVi.js","js/CompanyManagement-DjYXCvbI.js","js/UserManagement-CXibPIAL.js","js/ProcessManagement-xxGHco5f.js","js/excel-ChPHbVhZ.js","js/RoleList-BFj83uIs.js","js/RoleEdit-B4ocvdRe.js","js/RoleCreate-EVyi6Iqa.js","js/SupervisorApproval-46ikUGYF.js","js/SectionChiefApproval-DWjXQ7FT.js","js/Reports-BERc9o9t.js","js/History-C8oosaJD.js","js/ToastTest-DjE6PLg5.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,s,n)=>((t,s,n)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n)(t,"symbol"!=typeof s?s+"":s,n);import{r as s,j as n,W as m,b as r,d as i,P as a,L as o,E as l,e as c,X as u,U as h,C as d,f as g,h as N,A as p,S as b,i as y,k as x,l as f,B as w,m as v}from"./react-Bb3tvtni.js";import{c as E}from"./react-dom-BYvQhIM8.js";import{u as k,N as D,a as j,L as V,_ as S,B as R,b as _,c as L}from"./vendor-BzzQOOXP.js";import{c as A}from"./supabase-BXdOPv9s.js";import{T as P}from"./toast-BOKuuzNR.js";const C=A("https://agesdprmugyybtqrvqks.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFnZXNkcHJtdWd5eWJ0cXJ2cWtzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxNDY0OTIsImV4cCI6MjA3MDcyMjQ5Mn0.bfo_xb818yMd7-u6cJhDoJrqmDwcGY1nBDJIesFSfWk",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"supabase-js-web-mobile-safari-optimized"},fetch:async(e,t)=>{try{const s=new AbortController,n=setTimeout(()=>s.abort(),1e4),m=await fetch(e,{...t,signal:s.signal});return clearTimeout(n),m}catch(s){throw s}}},db:{schema:"public"},realtime:{params:{eventsPerSecond:3}}});const T={USER_READ:"user:read",USER_MANAGE:"user:manage",USER_CREATE:"user:create",USER_DELETE:"user:delete",COMPANY_READ:"company:read",COMPANY_MANAGE:"company:manage",COMPANY_CREATE:"company:create",COMPANY_DELETE:"company:delete",PROCESS_READ:"process:read",PROCESS_MANAGE:"process:manage",PROCESS_CREATE:"process:create",PROCESS_DELETE:"process:delete",ROLE_MANAGE:"role:manage",SYSTEM_CONFIG:"system:config",TIME_RECORD:"time_record",REPORTS:"reports",HISTORY:"history",PROCESS_MANAGEMENT:"process_management",USER_MANAGEMENT:"user_management",COMPANY_MANAGEMENT:"company_management",SUPERVISOR_REVIEW:"supervisor_review",MANAGER_REVIEW:"manager_review",PERMISSION_MANAGEMENT:"permission_management"},I="è¶…çº§ç®¡ç†å‘˜",O=[{id:"time_record",name:"è®°å½•å·¥æ—¶",description:"è®°å½•å’Œç®¡ç†å·¥ä½œæ—¶é—´",icon:"Clock",path:"/timesheet-record",permission:T.TIME_RECORD,color:"from-green-400 to-green-600"},{id:"reports",name:"æŸ¥çœ‹æŠ¥è¡¨",description:"æŸ¥çœ‹å·¥æ—¶ç»Ÿè®¡å’Œåˆ†ææŠ¥è¡¨",icon:"BarChart3",path:"/reports",permission:T.REPORTS,color:"from-blue-400 to-blue-600"},{id:"history",name:"å†å²è®°å½•",description:"æŸ¥çœ‹ä¸ªäººå·¥æ—¶å†å²è®°å½•",icon:"Activity",path:"/history",permission:T.HISTORY,color:"from-cyan-400 to-cyan-600"},{id:"process_management",name:"å·¥åºç®¡ç†",description:"ç®¡ç†ç”Ÿäº§å·¥åºå’Œæµç¨‹",icon:"Settings",path:"/process-management",permission:T.PROCESS_MANAGEMENT,color:"from-purple-400 to-purple-600"},{id:"user_management",name:"ç”¨æˆ·ç®¡ç†",description:"ç®¡ç†ç³»ç»Ÿç”¨æˆ·å’Œæƒé™",icon:"Users",path:"/user-management",permission:T.USER_MANAGEMENT,color:"from-orange-400 to-orange-600"},{id:"company_management",name:"å…¬å¸ç®¡ç†",description:"ç®¡ç†å…¬å¸ä¿¡æ¯å’Œéƒ¨é—¨",icon:"Building2",path:"/company-management",permission:T.COMPANY_MANAGEMENT,color:"from-teal-400 to-teal-600"},{id:"supervisor_review",name:"ç­é•¿å®¡æ ¸",description:"ç­é•¿å®¡æ ¸å·¥æ—¶è®°å½•",icon:"CheckCircle",path:"/supervisor-approval",permission:T.SUPERVISOR_REVIEW,color:"from-indigo-400 to-indigo-600"},{id:"section_chief_review",name:"æ®µé•¿å®¡æ ¸",description:"æ®µé•¿å®¡æ ¸å·¥æ—¶è®°å½•",icon:"Shield",path:"/section-chief-approval",permission:T.MANAGER_REVIEW,color:"from-pink-400 to-pink-600"},{id:"permission_management",name:"æƒé™ç®¡ç†",description:"ç®¡ç†ç”¨æˆ·è§’è‰²å’Œæƒé™",icon:"Key",path:"/role-permissions",permission:T.PERMISSION_MANAGEMENT,color:"from-red-400 to-red-600"}];async function M(e,t){try{return(await q(e)).includes(t)}catch(s){return!1}}let z=null;const F=6e5;async function q(e){try{if(z&&z.userId===e&&Date.now()-z.timestamp<F)return z.permissions;const{data:t,error:s}=await async function(e){try{return await async function(e,t=3,s=1e3){let n;for(let r=1;r<=t;r++)try{return await e()}catch(m){if(n=m,r===t)break;const e=s*Math.pow(2,r-1);await new Promise(t=>setTimeout(t,e))}throw n}(e,2,500)}catch(t){return{data:null,error:{message:"ç½‘ç»œè¿æ¥å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®æˆ–ç¨åé‡è¯•",code:"NETWORK_ERROR",details:t}}}}(async()=>await C.from("users").select("\n          id,\n          role_id,\n          user_roles (\n            id,\n            name,\n            permissions\n          )\n        ").eq("id",e).single());if(s||!t)return[];let n=[];return t.user_roles&&J(t.user_roles.name)?n=B():t.user_roles&&t.user_roles.permissions&&(n=t.user_roles.permissions),z={permissions:n,timestamp:Date.now(),userId:e},n}catch(t){return[]}}function W(e){return O.filter(t=>e.includes(t.permission))}function J(e){return"object"==typeof e&&null!==e?"è¶…çº§ç®¡ç†å‘˜"===e.name:"è¶…çº§ç®¡ç†å‘˜"===e}function U(){return O}const G=(e,t)=>{if(!e)return!1;if(J(e.role||e.user_roles))return!0;const s=e.role||e.user_roles;return!(!s||!s.permissions)&&s.permissions.includes(t)},B=()=>Object.values(T),Y=s.createContext(void 0);function H({children:e}){const[t,m]=s.useState(null),[r,i]=s.useState(!0);s.useEffect(()=>{(async()=>{try{const t=localStorage.getItem("auth_user"),s=localStorage.getItem("last_login_time");if(t&&s){const n=JSON.parse(t),r=parseInt(s),a=Date.now();if(a-r>864e5)return localStorage.removeItem("auth_user"),localStorage.removeItem("last_login_time"),m(null),void i(!1);if(!navigator.onLine)return m(n),void i(!1);try{const{data:e,error:t}=await Promise.race([C.from("users").select("\n                  *,\n                  company:companies(*),\n                  role:user_roles(*)\n                ").eq("id",n.id).eq("is_active",!0).single(),new Promise((e,t)=>setTimeout(()=>t(new Error("éªŒè¯è¶…æ—¶")),8e3))]);if(e&&!t){const t=await q(e.id),s={id:e.id,phone:e.phone,name:e.name,id_card:e.id_card,company:e.company,role:e.role,department_id:e.department_id,is_active:e.is_active,permissions:t};m(s),localStorage.setItem("auth_user",JSON.stringify(s)),localStorage.setItem("last_login_time",a.toString())}else localStorage.removeItem("auth_user"),localStorage.removeItem("last_login_time"),m(null)}catch(e){m(n)}}else m(null)}catch(t){localStorage.removeItem("auth_user"),localStorage.removeItem("last_login_time"),m(null)}finally{i(!1)}})();const e=setInterval(()=>{const e=localStorage.getItem("last_login_time");if(e){const t=parseInt(e);Date.now()-t>864e5&&(localStorage.removeItem("auth_user"),localStorage.removeItem("last_login_time"),m(null),window.location.href="/login")}},6e4),{data:{subscription:t}}=C.auth.onAuthStateChange(async(e,t)=>{"SIGNED_OUT"===e&&(m(null),localStorage.removeItem("auth_user"),localStorage.removeItem("last_login_time"))});return()=>{t.unsubscribe(),clearInterval(e)}},[]);const a=async(e,t,s=0)=>{var n,r,i,o,l,c,u,h;try{if(!navigator.onLine)return{success:!1,error:"ç½‘ç»œè¿æ¥å·²æ–­å¼€ï¼Œè¯·æ£€æŸ¥ç½‘ç»œåé‡è¯•"};const{data:s,error:n}=await Promise.race([C.from("users").select("\n            *,\n            company:companies(*),\n            role:user_roles(*)\n          ").eq("phone",e).eq("is_active",!0).single(),new Promise((e,t)=>setTimeout(()=>t(new Error("è¯·æ±‚è¶…æ—¶")),1e4))]);if(n){if("PGRST116"===n.code)return{success:!1,error:"ç”¨æˆ·ä¸å­˜åœ¨æˆ–å·²è¢«ç¦ç”¨"};throw n}if(!s)return{success:!1,error:"ç”¨æˆ·ä¸å­˜åœ¨æˆ–å·²è¢«ç¦ç”¨"};if(s.password_hash!==t)return{success:!1,error:"å¯†ç é”™è¯¯"};let r=[];s.role&&"è¶…çº§ç®¡ç†å‘˜"===s.role.name?r=Object.values(T):setTimeout(async()=>{try{const e=await q(s.id),t=JSON.parse(localStorage.getItem("auth_user")||"{}");t.id===s.id&&(t.permissions=e,localStorage.setItem("auth_user",JSON.stringify(t)),m(t))}catch(e){}},100);const i={id:s.id,phone:s.phone,name:s.name,id_card:s.id_card,company:s.company,role:s.role,department_id:s.department_id,is_active:s.is_active,permissions:r};return m(i),localStorage.setItem("auth_user",JSON.stringify(i)),localStorage.setItem("last_login_time",Date.now().toString()),{success:!0}}catch(d){const m=(null==(n=d.message)?void 0:n.includes("fetch"))||(null==(r=d.message)?void 0:r.includes("network"))||(null==(i=d.message)?void 0:i.includes("CONNECTION_CLOSED"))||(null==(o=d.message)?void 0:o.includes("ERR_NETWORK_CHANGED"))||(null==(l=d.message)?void 0:l.includes("ERR_ABORTED"))||(null==(c=d.message)?void 0:c.includes("ERR_CONNECTION_CLOSED"))||(null==(u=d.message)?void 0:u.includes("è¯·æ±‚è¶…æ—¶"))||(null==(h=d.message)?void 0:h.includes("Failed to fetch"))||"NETWORK_ERROR"===d.code||"TypeError"===d.name||!navigator.onLine;return s<5&&m?(await new Promise(e=>setTimeout(e,1e3*Math.pow(2,s))),a(e,t,s+1)):m?{success:!1,error:"ç½‘ç»œè¿æ¥ä¸ç¨³å®šï¼Œå·²é‡è¯•".concat(s,"æ¬¡ï¼Œè¯·æ£€æŸ¥ç½‘ç»œåé‡è¯•")}:{success:!1,error:d.message||"ç™»å½•å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•"}}},o={user:t,loading:r,login:a,register:async e=>{try{const{data:t,error:s}=await C.from("users").select("id").eq("id_card",e.id_card).maybeSingle();if(s&&"PGRST116"!==s.code)return{success:!1,error:"ç³»ç»Ÿé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"};const{data:n,error:m}=await C.from("users").select("id").eq("phone",e.phone).maybeSingle();if(m&&"PGRST116"!==m.code)return{success:!1,error:"ç³»ç»Ÿé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"};if(t||n){if(t)return{success:!1,error:"è¯¥èº«ä»½è¯å·å·²è¢«æ³¨å†Œ"};if(n)return{success:!1,error:"è¯¥æ‰‹æœºå·å·²è¢«æ³¨å†Œ"}}const r=crypto.randomUUID(),{error:i}=await C.from("users").insert({id:r,phone:e.phone,id_card:e.id_card,name:e.name,company_id:e.company_id,role_id:e.role_id,password_hash:e.password,production_line:e.production_line,is_active:!1});if(i)return{success:!1,error:"ç”¨æˆ·ä¿¡æ¯åˆ›å»ºå¤±è´¥"};const{data:a}=await C.from("users").select("\n          *,\n          company:companies(*),\n          role:user_roles(*)\n        ").eq("id",r).single();return{success:!0}}catch(t){return{success:!1,error:t.message||"æ³¨å†Œå¤±è´¥ï¼Œè¯·é‡è¯•"}}},logout:async()=>{try{m(null),localStorage.removeItem("auth_user"),localStorage.removeItem("last_login_time")}catch(e){m(null),localStorage.removeItem("auth_user"),localStorage.removeItem("last_login_time")}},resetPassword:async(e,t)=>{var s;try{const{data:s,error:n}=await Promise.race([C.from("users").select("id, phone, name").eq("id_card",e).eq("is_active",!0).single(),new Promise((e,t)=>setTimeout(()=>t(new Error("æŸ¥è¯¢è¶…æ—¶")),8e3))]);if(n)return"PGRST116"===n.code?{success:!1,error:"æœªæ‰¾åˆ°è¯¥èº«ä»½è¯å·å¯¹åº”çš„ç”¨æˆ·"}:{success:!1,error:"æŸ¥è¯¢ç”¨æˆ·å¤±è´¥ï¼Œè¯·é‡è¯•"};if(!s)return{success:!1,error:"æœªæ‰¾åˆ°è¯¥èº«ä»½è¯å·å¯¹åº”çš„ç”¨æˆ·"};if(!t)return{success:!0,user:{id:s.id,phone:s.phone,name:s.name}};const{error:m}=await Promise.race([C.from("users").update({password_hash:t}).eq("id",s.id),new Promise((e,t)=>setTimeout(()=>t(new Error("æ›´æ–°è¶…æ—¶")),8e3))]);return m?{success:!1,error:"å¯†ç é‡ç½®å¤±è´¥ï¼Œè¯·é‡è¯•"}:{success:!0}}catch(n){return(null==(s=n.message)?void 0:s.includes("è¶…æ—¶"))?{success:!1,error:"ç½‘ç»œè¶…æ—¶ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•"}:{success:!1,error:n.message||"å¯†ç é‡ç½®å¤±è´¥"}}},refreshUser:async()=>{if(null==t?void 0:t.id)try{const{data:e,error:s}=await C.from("users").select("\n          *,\n          company:companies(*),\n          role:user_roles(*)\n        ").eq("id",t.id).eq("is_active",!0).single();if(e&&!s){const t=await q(e.id),s={id:e.id,phone:e.phone,name:e.name,id_card:e.id_card,company:e.company,role:e.role,department_id:e.department_id,is_active:e.is_active,permissions:t};m(s),localStorage.setItem("auth_user",JSON.stringify(s))}}catch(e){}},isAuthenticated:()=>!!(t&&t.id&&t.is_active)};return n.jsxDEV(Y.Provider,{value:o,children:e},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/contexts/AuthContext.tsx",lineNumber:498,columnNumber:10},this)}function Q(){const e=s.useContext(Y);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}function X({children:e,requireAuth:t=!0}){const{user:s,loading:m,isAuthenticated:r}=Q(),i=k();return m?n.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:n.jsxDEV("div",{className:"text-green-400 text-xl animate-pulse font-mono",children:"åŠ è½½ä¸­..."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProtectedRoute.tsx",lineNumber:17,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProtectedRoute.tsx",lineNumber:16,columnNumber:7},this):t&&!r()?n.jsxDEV(D,{to:"/login",state:{from:i},replace:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProtectedRoute.tsx",lineNumber:26,columnNumber:12},this):!t&&r()?n.jsxDEV(D,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProtectedRoute.tsx",lineNumber:31,columnNumber:12},this):n.jsxDEV(n.Fragment,{children:e},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProtectedRoute.tsx",lineNumber:34,columnNumber:10},this)}function K({children:e,allowedRoles:t,fallbackPath:s="/dashboard"}){var m;const{user:r,loading:i}=Q(),a=k();if(i)return n.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:n.jsxDEV("div",{className:"text-green-400 text-xl animate-pulse font-mono",children:"åŠ è½½ä¸­..."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:22,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:21,columnNumber:7},this);if(!r)return n.jsxDEV(D,{to:"/login",state:{from:a},replace:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:31,columnNumber:12},this);const o=null==(m=r.role)?void 0:m.name;return t.some(e=>o===e||(null==o?void 0:o.toLowerCase())===e.toLowerCase())?n.jsxDEV(n.Fragment,{children:e},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:70,columnNumber:10},this):n.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:n.jsxDEV("div",{className:"text-center",children:[n.jsxDEV("div",{className:"text-red-400 text-6xl mb-4",children:"ğŸš«"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:54,columnNumber:11},this),n.jsxDEV("h1",{className:"text-2xl font-bold text-red-400 mb-2 font-mono",children:"è®¿é—®è¢«æ‹’ç»"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:55,columnNumber:11},this),n.jsxDEV("p",{className:"text-green-300 mb-6 font-mono",children:["æ‚¨æ²¡æœ‰æƒé™è®¿é—®æ­¤é¡µé¢ã€‚éœ€è¦è§’è‰²: ",t.join(", ")]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:56,columnNumber:11},this),n.jsxDEV("button",{onClick:()=>window.history.back(),className:"px-6 py-2 bg-green-600 hover:bg-green-500 text-black font-bold rounded font-mono transition-colors",children:"è¿”å›ä¸Šä¸€é¡µ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:59,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:53,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RoleProtectedRoute.tsx",lineNumber:52,columnNumber:7},this)}function Z({onRetry:e,showRetryButton:t=!1}){const[a,o]=s.useState(navigator.onLine),[l,c]=s.useState("unknown"),[u,h]=s.useState(!1);return s.useEffect(()=>{const e=()=>{o(!0),h(!0),setTimeout(()=>h(!1),3e3)},t=()=>{o(!1),h(!0)},s=()=>{if("connection"in navigator){const e=navigator.connection;e&&c(e.effectiveType||"unknown")}};if(window.addEventListener("online",e),window.addEventListener("offline",t),"connection"in navigator){const e=navigator.connection;e&&(e.addEventListener("change",s),s())}return()=>{if(window.removeEventListener("online",e),window.removeEventListener("offline",t),"connection"in navigator){const e=navigator.connection;e&&e.removeEventListener("change",s)}}},[]),!u&&a?null:n.jsxDEV("div",{className:"fixed top-4 right-4 z-50 transition-all duration-300 ".concat(u?"translate-y-0 opacity-100":"translate-y-[-100px] opacity-0"),children:n.jsxDEV("div",{className:"rounded-lg shadow-lg p-4 max-w-sm ".concat(a?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"),children:n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("div",{className:"flex-shrink-0",children:a?n.jsxDEV(m,{className:"w-5 h-5 text-green-600"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/NetworkStatus.tsx",lineNumber:75,columnNumber:15},this):n.jsxDEV(r,{className:"w-5 h-5 text-red-600"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/NetworkStatus.tsx",lineNumber:77,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/NetworkStatus.tsx",lineNumber:73,columnNumber:11},this),n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("p",{className:"text-sm font-medium",children:a?"ç½‘ç»œå·²è¿æ¥":"ç½‘ç»œè¿æ¥æ–­å¼€"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/NetworkStatus.tsx",lineNumber:81,columnNumber:13},this),a&&"unknown"!==l&&n.jsxDEV("p",{className:"text-xs opacity-75",children:["è¿æ¥ç±»å‹: ",l]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/NetworkStatus.tsx",lineNumber:85,columnNumber:15},this),!a&&n.jsxDEV("p",{className:"text-xs opacity-75",children:"è¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/NetworkStatus.tsx",lineNumber:90,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/NetworkStatus.tsx",lineNumber:80,columnNumber:11},this),!a&&t&&e&&n.jsxDEV("button",{onClick:e,className:"flex-shrink-0 p-1 rounded-full hover:bg-red-100 transition-colors",title:"é‡è¯•è¿æ¥",children:n.jsxDEV(i,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/NetworkStatus.tsx",lineNumber:101,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/NetworkStatus.tsx",lineNumber:96,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/NetworkStatus.tsx",lineNumber:72,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/NetworkStatus.tsx",lineNumber:67,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/NetworkStatus.tsx",lineNumber:64,columnNumber:5},this)}const $=({onNetworkChange:e})=>{const[t,m]=s.useState(navigator.onLine),[r,i]=s.useState(!1),[a,o]=s.useState(null);return s.useEffect(()=>{const t=()=>{m(!0),a&&(i(!0),setTimeout(()=>i(!1),3e3)),null==e||e(!0)},s=()=>{m(!1),o(new Date),i(!0),null==e||e(!1)};return window.addEventListener("online",t),window.addEventListener("offline",s),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}},[e,a]),t&&!r?null:n.jsxDEV("div",{style:{position:"fixed",top:0,left:0,right:0,zIndex:9999,padding:"8px 16px",backgroundColor:t?"#4CAF50":"#f44336",color:"white",textAlign:"center",fontSize:"14px",fontWeight:"bold",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",transform:r?"translateY(0)":"translateY(-100%)",transition:"transform 0.3s ease-in-out"},children:t?n.jsxDEV("span",{children:"âœ… ç½‘ç»œè¿æ¥å·²æ¢å¤"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/NetworkStatusMonitor.tsx",lineNumber:67,columnNumber:9},void 0):n.jsxDEV("span",{children:"âŒ ç½‘ç»œè¿æ¥å·²æ–­å¼€ - è¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/NetworkStatusMonitor.tsx",lineNumber:69,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/NetworkStatusMonitor.tsx",lineNumber:48,columnNumber:5},void 0)};function ee({message:e="æ­£åœ¨åŠ è½½...",showRetry:t=!1,onRetry:a}){const[o,l]=s.useState(e),[c,u]=s.useState(t),[h,d]=s.useState(!1),[g,N]=s.useState(0);return s.useEffect(()=>{const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;e&&d(["slow-2g","2g","3g"].includes(e.effectiveType));const t=setInterval(()=>{N(e=>e>=90?e:e+10*Math.random())},500),s=setTimeout(()=>{l("åŠ è½½æ—¶é—´è¾ƒé•¿ï¼Œè¯·ç¨å€™..."),N(60)},3e3),n=setTimeout(()=>{l("ç½‘ç»œè¾ƒæ…¢ï¼Œæ­£åœ¨åŠªåŠ›åŠ è½½..."),N(80)},8e3),m=setTimeout(()=>{u(!0),l("åŠ è½½è¶…æ—¶ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥"),N(90)},15e3);return()=>{clearInterval(t),clearTimeout(s),clearTimeout(n),clearTimeout(m)}},[]),n.jsxDEV("div",{className:"fixed inset-0 bg-white z-50 flex flex-col items-center justify-center px-4",children:[n.jsxDEV("div",{className:"text-center max-w-sm w-full",children:[n.jsxDEV("div",{className:"relative mb-8",children:[n.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:78,columnNumber:11},this),h&&n.jsxDEV("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center",children:n.jsxDEV(r,{className:"w-3 h-3 text-white"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:81,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:80,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:77,columnNumber:9},this),n.jsxDEV("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"å·¥æ—¶ç®¡ç†ç³»ç»Ÿ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:87,columnNumber:9},this),n.jsxDEV("p",{className:"text-gray-600 mb-6 text-base",children:o},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:88,columnNumber:9},this),n.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-6",children:n.jsxDEV("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:"".concat(g,"%")}},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:92,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:91,columnNumber:9},this),h&&n.jsxDEV("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3 mb-4",children:n.jsxDEV("div",{className:"flex items-center space-x-2",children:[n.jsxDEV(r,{className:"w-4 h-4 text-orange-600"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:102,columnNumber:15},this),n.jsxDEV("p",{className:"text-orange-700 text-sm",children:"æ£€æµ‹åˆ°ç½‘ç»œè¿æ¥è¾ƒæ…¢ï¼ŒåŠ è½½å¯èƒ½éœ€è¦æ›´é•¿æ—¶é—´"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:103,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:101,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:100,columnNumber:11},this),c&&n.jsxDEV("div",{className:"space-y-4",children:[n.jsxDEV("button",{onClick:()=>{a?a():window.location.reload()},className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[n.jsxDEV(i,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:117,columnNumber:15},this),n.jsxDEV("span",{children:"é‡æ–°åŠ è½½"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:118,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:113,columnNumber:13},this),n.jsxDEV("p",{className:"text-gray-500 text-sm",children:"å¦‚æœé—®é¢˜æŒç»­å­˜åœ¨ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åå†è¯•"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:120,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:112,columnNumber:11},this),!c&&n.jsxDEV("div",{className:"space-y-2",children:[n.jsxDEV("div",{className:"flex items-center justify-center space-x-2 text-gray-500 text-sm",children:[n.jsxDEV(m,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:130,columnNumber:15},this),n.jsxDEV("span",{children:"æ­£åœ¨ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ..."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:131,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:129,columnNumber:13},this),h&&n.jsxDEV("p",{className:"text-xs text-gray-400",children:"ä¸ºäº†æ›´å¥½çš„ä½“éªŒï¼Œæˆ‘ä»¬æ­£åœ¨å‹ç¼©æ•°æ®ä¼ è¾“"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:134,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:128,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:75,columnNumber:7},this),n.jsxDEV("div",{className:"absolute bottom-8 left-4 right-4 text-center",children:n.jsxDEV("p",{className:"text-xs text-gray-400",children:"é¦–æ¬¡åŠ è½½å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œåç»­è®¿é—®ä¼šæ›´å¿«"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:144,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:143,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/MobileLoadingSpinner.tsx",lineNumber:73,columnNumber:5},this)}function te(){var e,t;const[m,r]=s.useState({phone:"",password:""}),[i,d]=s.useState(!1),[g,N]=s.useState(!1),[p,b]=s.useState(""),[y,x]=s.useState(!1),[f,w]=s.useState(!1),[v,E]=s.useState([]),{login:D}=Q(),S=j(),R=(null==(t=null==(e=k().state)?void 0:e.from)?void 0:t.pathname)||"/dashboard",_=e=>{try{return atob(e)}catch(t){return""}};s.useEffect(()=>{const e=localStorage.getItem("savedUsers"),t=localStorage.getItem("savedCredentials");if(e){const t=JSON.parse(e);E(t),t.length>0&&(r(e=>({...e,phone:t[0].phone})),x(!0))}if(t)try{const e=JSON.parse(t);e.phone&&e.password&&(r({phone:e.phone,password:_(e.password)}),w(!0),x(!0))}catch(s){}},[]);const L=e=>{r({...m,[e.target.name]:e.target.value})};return n.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:n.jsxDEV("div",{className:"max-w-md w-full space-y-8",children:[n.jsxDEV("div",{className:"text-center",children:[n.jsxDEV("div",{className:"flex items-center justify-center mb-2",children:[n.jsxDEV("svg",{className:"w-16 h-16 mr-4",viewBox:"0 0 80 80",xmlns:"http://www.w3.org/2000/svg",children:[n.jsxDEV("ellipse",{cx:"40",cy:"40",rx:"38",ry:"30",fill:"black",stroke:"#22c55e",strokeWidth:"3"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:163,columnNumber:15},this),n.jsxDEV("text",{x:"40",y:"50",textAnchor:"middle",fill:"#22c55e",fontSize:"28",fontWeight:"bold",fontFamily:"Arial, sans-serif",children:"JT"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:164,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:162,columnNumber:13},this),n.jsxDEV("h1",{className:"text-4xl font-bold text-green-400 font-mono",children:"å·¥æ—¶ç®¡ç†ç³»ç»Ÿ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:166,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:161,columnNumber:11},this),n.jsxDEV("div",{className:"mt-4 h-1 bg-gradient-to-r from-transparent via-green-400 to-transparent"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:170,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:160,columnNumber:9},this),n.jsxDEV("div",{className:"bg-gray-900 border border-green-400 rounded-lg p-8 shadow-lg shadow-green-400/20",children:[n.jsxDEV("h2",{className:"text-2xl font-bold text-green-400 mb-6 text-center font-mono",children:"ç”¨æˆ·ç™»å½•"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:175,columnNumber:11},this),p&&n.jsxDEV("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-400 rounded text-red-300 text-sm",children:p},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:180,columnNumber:13},this),n.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),N(!0),b(""),!m.phone||!m.password)return b("è¯·å¡«å†™æ‰€æœ‰å¿…å¡«å­—æ®µ"),void N(!1);const t=await D(m.phone,m.password);if(t.success){if(y){const e=JSON.parse(localStorage.getItem("savedUsers")||"[]");if(e.find(e=>e.phone===m.phone)){const t=e.filter(e=>e.phone!==m.phone),s=[{phone:m.phone},...t];localStorage.setItem("savedUsers",JSON.stringify(s))}else{const t=[{phone:m.phone},...e.slice(0,4)];localStorage.setItem("savedUsers",JSON.stringify(t))}}if(f){const e={phone:m.phone,password:(s=m.password,btoa(s))};localStorage.setItem("savedCredentials",JSON.stringify(e))}else localStorage.removeItem("savedCredentials");S(R,{replace:!0})}else b(t.error||"ç™»å½•å¤±è´¥");var s;N(!1)},className:"space-y-6",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"æ‰‹æœºå·ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:188,columnNumber:15},this),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV(a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:192,columnNumber:17},this),n.jsxDEV("input",{type:"tel",name:"phone",value:m.phone,onChange:L,className:"w-full pl-12 pr-4 py-3 bg-black border border-green-400 rounded-lg text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono",placeholder:"è¯·è¾“å…¥æ‰‹æœºå·ç ",maxLength:11},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:193,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:191,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:187,columnNumber:13},this),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"ç™»å½•å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:207,columnNumber:15},this),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:211,columnNumber:17},this),n.jsxDEV("input",{type:i?"text":"password",name:"password",value:m.password,onChange:L,className:"w-full pl-12 pr-12 py-3 bg-black border border-green-400 rounded-lg text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono",placeholder:"è¯·è¾“å…¥å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:212,columnNumber:17},this),n.jsxDEV("button",{type:"button",onClick:()=>d(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 hover:text-green-300",children:i?n.jsxDEV(l,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:225,columnNumber:35},this):n.jsxDEV(c,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:225,columnNumber:68},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:220,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:210,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:206,columnNumber:13},this),n.jsxDEV("div",{className:"space-y-3",children:[n.jsxDEV("div",{className:"flex items-center",children:[n.jsxDEV("input",{type:"checkbox",id:"rememberMe",checked:y,onChange:e=>x(e.target.checked),className:"w-4 h-4 text-green-600 bg-black border-green-400 rounded focus:ring-green-500 focus:ring-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:233,columnNumber:17},this),n.jsxDEV("label",{htmlFor:"rememberMe",className:"ml-2 text-sm text-green-300 font-mono",children:"è®°ä½è´¦å·"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:240,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:232,columnNumber:15},this),n.jsxDEV("div",{className:"flex items-center",children:[n.jsxDEV("input",{type:"checkbox",id:"rememberPassword",checked:f,onChange:e=>w(e.target.checked),className:"w-4 h-4 text-green-600 bg-black border-green-400 rounded focus:ring-green-500 focus:ring-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:246,columnNumber:17},this),n.jsxDEV("label",{htmlFor:"rememberPassword",className:"ml-2 text-sm text-green-300 font-mono",children:"è®°ä½å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:253,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:245,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:231,columnNumber:13},this),n.jsxDEV("button",{type:"submit",disabled:g,className:"w-full py-3 bg-green-600 hover:bg-green-500 disabled:bg-green-800 text-black font-bold rounded-lg transition-colors duration-200 font-mono text-lg",children:g?"ç™»å½•ä¸­...":"ç™»å½•"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:260,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:185,columnNumber:11},this),v.length>0&&n.jsxDEV("div",{className:"mt-6",children:[n.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[n.jsxDEV("h3",{className:"text-green-300 text-sm font-mono",children:"å¿«é€Ÿç™»å½•"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:273,columnNumber:17},this),n.jsxDEV("button",{type:"button",onClick:()=>{localStorage.removeItem("savedUsers"),localStorage.removeItem("savedCredentials"),E([]),r({phone:"",password:""}),x(!1),w(!1)},className:"text-red-400 hover:text-red-300 text-xs font-mono flex items-center",title:"æ¸…é™¤æ‰€æœ‰ä¿å­˜çš„ç™»å½•ä¿¡æ¯",children:[n.jsxDEV(u,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:280,columnNumber:19},this),"æ¸…é™¤"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:274,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:272,columnNumber:15},this),n.jsxDEV("div",{className:"space-y-2",children:v.slice(0,3).map((e,t)=>n.jsxDEV("button",{type:"button",onClick:()=>(e=>{r(t=>({...t,phone:e}));const t=localStorage.getItem("savedCredentials");if(t)try{const s=JSON.parse(t);s.phone===e&&s.password&&(r({phone:e,password:_(s.password)}),w(!0))}catch(s){}})(e.phone),className:"w-full flex items-center p-2 bg-gray-800 hover:bg-gray-700 border border-green-400/30 rounded-lg transition-colors duration-200",children:[n.jsxDEV(h,{className:"w-4 h-4 text-green-400 mr-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:292,columnNumber:21},this),n.jsxDEV("span",{className:"text-green-300 font-mono text-sm",children:e.phone},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:293,columnNumber:21},this),m.phone===e.phone&&n.jsxDEV("span",{className:"ml-auto text-green-400 text-xs font-mono",children:"å½“å‰"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:295,columnNumber:23},this)]},e.phone,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:286,columnNumber:19},this))},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:284,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:271,columnNumber:13},this),n.jsxDEV("div",{className:"mt-6 text-center space-y-2",children:[n.jsxDEV(V,{to:"/register",className:"block text-green-400 hover:text-green-300 text-sm font-mono transition-colors",children:"è¿˜æ²¡æœ‰è´¦å·ï¼Ÿç«‹å³æ³¨å†Œ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:305,columnNumber:13},this),n.jsxDEV(V,{to:"/reset-password",className:"block text-green-400 hover:text-green-300 text-sm font-mono transition-colors",children:"å¿˜è®°å¯†ç ï¼Ÿé‡ç½®å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:311,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:304,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:174,columnNumber:9},this),n.jsxDEV("div",{className:"text-center text-green-600 text-xs font-mono",children:[n.jsxDEV("p",{children:"Â© å‰æ—çœé€šç”¨æœºæ¢°ï¼ˆé›†å›¢ï¼‰æœ‰é™è´£ä»»å…¬å¸."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:322,columnNumber:11},this),n.jsxDEV("div",{className:"mt-2 flex justify-center space-x-2",children:[n.jsxDEV("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:324,columnNumber:13},this),n.jsxDEV("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:325,columnNumber:13},this),n.jsxDEV("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:326,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:323,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:321,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:158,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Login.tsx",lineNumber:157,columnNumber:5},this)}function se({isOpen:e,onClose:t,userName:s,userPhone:m}){return e?n.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsxDEV("div",{className:"bg-gray-900 border border-green-400 rounded-lg shadow-2xl shadow-green-400/30 max-w-md w-full",children:[n.jsxDEV("div",{className:"bg-gradient-to-r from-green-900/50 to-green-800/50 border-b border-green-400/30 p-6 rounded-t-lg",children:[n.jsxDEV("div",{className:"flex items-center justify-center mb-4",children:n.jsxDEV("div",{className:"relative",children:[n.jsxDEV(d,{className:"w-16 h-16 text-green-400"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:26,columnNumber:15},this),n.jsxDEV("div",{className:"absolute inset-0 animate-ping",children:n.jsxDEV(d,{className:"w-16 h-16 text-green-400 opacity-30"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:28,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:27,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:25,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:24,columnNumber:11},this),n.jsxDEV("h2",{className:"text-2xl font-bold text-green-400 text-center font-mono",children:"æ³¨å†Œç”³è¯·æäº¤æˆåŠŸ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:32,columnNumber:11},this),n.jsxDEV("p",{className:"text-green-300 text-center text-sm font-mono mt-2",children:"REGISTRATION SUBMITTED SUCCESSFULLY"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:35,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:23,columnNumber:9},this),n.jsxDEV("div",{className:"p-6 space-y-6",children:[n.jsxDEV("div",{className:"bg-black/50 border border-green-400/30 rounded-lg p-4",children:[n.jsxDEV("h3",{className:"text-green-400 font-mono text-sm mb-3 flex items-center",children:[n.jsxDEV(g,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:45,columnNumber:15},this),"ç”³è¯·äººä¿¡æ¯"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:44,columnNumber:13},this),n.jsxDEV("div",{className:"space-y-2 text-sm",children:[n.jsxDEV("div",{className:"flex justify-between",children:[n.jsxDEV("span",{className:"text-green-300",children:"å§“åï¼š"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:50,columnNumber:17},this),n.jsxDEV("span",{className:"text-green-100 font-mono",children:s},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:51,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:49,columnNumber:15},this),n.jsxDEV("div",{className:"flex justify-between",children:[n.jsxDEV("span",{className:"text-green-300",children:"æ‰‹æœºå·ï¼š"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:54,columnNumber:17},this),n.jsxDEV("span",{className:"text-green-100 font-mono",children:m},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:55,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:53,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:48,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:43,columnNumber:11},this),n.jsxDEV("div",{className:"bg-yellow-900/20 border border-yellow-400/30 rounded-lg p-4",children:[n.jsxDEV("h3",{className:"text-yellow-400 font-mono text-sm mb-3 flex items-center",children:[n.jsxDEV(N,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:63,columnNumber:15},this),"å½“å‰çŠ¶æ€"]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:62,columnNumber:13},this),n.jsxDEV("div",{className:"space-y-3",children:[n.jsxDEV("div",{className:"flex items-center",children:[n.jsxDEV("div",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-3 animate-pulse"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:68,columnNumber:17},this),n.jsxDEV("span",{className:"text-yellow-100 text-sm",children:"è´¦å·çŠ¶æ€ï¼šå¾…æ¿€æ´»"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:69,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:67,columnNumber:15},this),n.jsxDEV("p",{className:"text-yellow-200 text-xs leading-relaxed",children:'æ‚¨çš„è´¦å·å·²æˆåŠŸåˆ›å»ºï¼Œä½†å½“å‰å¤„äº"å¾…æ¿€æ´»"çŠ¶æ€ã€‚ç³»ç»Ÿç®¡ç†å‘˜å°†åœ¨1-2ä¸ªå·¥ä½œæ—¥å†…å®¡æ ¸æ‚¨çš„ç”³è¯·ã€‚'},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:71,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:66,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:61,columnNumber:11},this),n.jsxDEV("div",{className:"bg-blue-900/20 border border-blue-400/30 rounded-lg p-4",children:[n.jsxDEV("h3",{className:"text-blue-400 font-mono text-sm mb-3",children:"åç»­æ­¥éª¤"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:79,columnNumber:13},this),n.jsxDEV("div",{className:"space-y-2 text-xs text-blue-200",children:[n.jsxDEV("div",{className:"flex items-start",children:[n.jsxDEV(p,{className:"w-3 h-3 mr-2 mt-0.5 text-blue-400 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:82,columnNumber:17},this),n.jsxDEV("span",{children:"è¯·è€å¿ƒç­‰å¾…ç³»ç»Ÿç®¡ç†å‘˜å®¡æ ¸æ¿€æ´»æ‚¨çš„è´¦å·"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:83,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:81,columnNumber:15},this),n.jsxDEV("div",{className:"flex items-start",children:[n.jsxDEV(p,{className:"w-3 h-3 mr-2 mt-0.5 text-blue-400 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:86,columnNumber:17},this),n.jsxDEV("span",{children:"è´¦å·æ¿€æ´»åï¼Œæ‚¨å°†å¯ä»¥ä½¿ç”¨æ³¨å†Œçš„æ‰‹æœºå·å’Œå¯†ç ç™»å½•ç³»ç»Ÿ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:87,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:85,columnNumber:15},this),n.jsxDEV("div",{className:"flex items-start",children:[n.jsxDEV(p,{className:"w-3 h-3 mr-2 mt-0.5 text-blue-400 flex-shrink-0"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:90,columnNumber:17},this),n.jsxDEV("span",{children:"å¦‚æœ‰ç–‘é—®ï¼Œè¯·è”ç³»ç³»ç»Ÿç®¡ç†å‘˜æˆ–ITæ”¯æŒéƒ¨é—¨"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:91,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:89,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:80,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:78,columnNumber:11},this),n.jsxDEV("div",{className:"pt-4",children:n.jsxDEV("button",{onClick:t,className:"w-full bg-green-600 hover:bg-green-500 text-white font-mono py-3 px-4 rounded-lg transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-opacity-50",children:"å‰å¾€ç™»å½•é¡µé¢"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:98,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:97,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:41,columnNumber:9},this),n.jsxDEV("div",{className:"bg-gray-800/50 border-t border-green-400/30 p-4 rounded-b-lg",children:n.jsxDEV("p",{className:"text-green-300 text-xs text-center font-mono",children:"å·¥æ—¶ç®¡ç†ç³»ç»Ÿ Â· TIMETRACK SYSTEM"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:109,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:108,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:21,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/RegistrationSuccessDialog.tsx",lineNumber:20,columnNumber:5},this):null}function ne({productionLines:e,value:t,onChange:m,placeholder:r="è¯·é€‰æ‹©ç”Ÿäº§çº¿",disabled:i=!1,className:a="",showSearch:o=!0,maxHeight:l="max-h-48"}){const[c,u]=s.useState(!1),[h,d]=s.useState(""),[g,N]=s.useState(t),p=s.useRef(null),f=s.useRef(null),w=e.filter(e=>e.toLowerCase().includes(h.toLowerCase())),v=e=>{m(e),N(e),d(""),u(!1)};return s.useEffect(()=>{const s=s=>{p.current&&!p.current.contains(s.target)&&(u(!1),e.includes(g)||(N(t),d("")))};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[g,t,e]),s.useEffect(()=>{N(t),d("")},[t]),n.jsxDEV("div",{ref:p,className:"relative ".concat(a),children:[n.jsxDEV("div",{className:"relative",children:[n.jsxDEV(b,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4 z-10"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:98,columnNumber:9},this),o?n.jsxDEV("input",{ref:f,type:"text",value:g,onChange:t=>{const s=t.target.value;d(s),N(s);const n=e.find(e=>e.toLowerCase()===s.toLowerCase());n?m(n):""===s&&m("")},onFocus:()=>u(!0),onKeyDown:e=>{"Enter"===e.key&&1===w.length?v(w[0]):"Escape"===e.key&&(u(!1),N(t),d(""))},disabled:i,placeholder:r,className:"w-full pl-10 pr-10 py-2 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:101,columnNumber:11},this):n.jsxDEV("div",{onClick:()=>!i&&u(!c),className:"w-full pl-10 pr-10 py-2 bg-black border border-green-400 rounded text-green-300 font-mono text-sm cursor-pointer flex items-center justify-between ".concat(i?"opacity-50 cursor-not-allowed":"hover:border-green-300"),children:n.jsxDEV("span",{className:t?"text-green-300":"text-green-600",children:t||r},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:119,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:113,columnNumber:11},this),n.jsxDEV(y,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4 transition-transform ".concat(c?"rotate-180":"")},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:125,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:97,columnNumber:7},this),c&&!i&&n.jsxDEV("div",{className:"absolute z-50 w-full mt-1 bg-gray-800 border border-green-400 rounded-md shadow-lg ".concat(l," overflow-y-auto"),children:[o&&h&&n.jsxDEV("div",{className:"px-3 py-2 text-green-400 text-xs border-b border-gray-700 bg-gray-900",children:[n.jsxDEV(x,{className:"inline w-3 h-3 mr-1"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:137,columnNumber:15},this),'æœç´¢: "',h,'"']},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:136,columnNumber:13},this),w.length>0?w.map((e,s)=>n.jsxDEV("div",{onClick:()=>v(e),className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-green-300 text-sm border-b border-gray-700 last:border-b-0 ".concat(e===t?"bg-gray-700 text-green-400":""),children:e},"".concat(e,"-").concat(s),!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:144,columnNumber:15},this)):n.jsxDEV("div",{className:"px-3 py-2 text-gray-400 text-sm",children:h?"æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„ç”Ÿäº§çº¿":"æš‚æ— å¯ç”¨ç”Ÿäº§çº¿"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:155,columnNumber:13},this),w.length>0&&n.jsxDEV("div",{className:"px-3 py-1 text-green-600 text-xs border-t border-gray-700 bg-gray-900",children:["å…± ",w.length," æ¡ç”Ÿäº§çº¿",h&&" (ä» ".concat(e.length," æ¡ä¸­ç­›é€‰)")]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:162,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:134,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/components/ProductionLineSelector.tsx",lineNumber:96,columnNumber:5},this)}function me(){const[e,t]=s.useState({phone:"",password:"",confirmPassword:"",id_card:"",name:"",company_id:"",role_id:"",production_line:""}),[m,r]=s.useState(!1),[i,u]=s.useState(!1),[d,N]=s.useState(!1),[p,b]=s.useState(""),[y,x]=s.useState([]),[v,E]=s.useState([]),[k,D]=s.useState(""),[S,R]=s.useState(!0),[_,L]=s.useState([]),[A,P]=s.useState(!1),[T,I]=s.useState(null),[O,M]=s.useState(!1),{register:z}=Q(),F=j();s.useEffect(()=>{(async()=>{try{const{data:e,error:t}=await C.from("companies").select("*").order("name");if(t)throw t;const{data:s,error:n}=await C.from("user_roles").select("*").neq("name","è¶…çº§ç®¡ç†å‘˜").order("name");if(n)throw n;x(e||[]),E(s||[])}catch(e){b("è·å–æ•°æ®å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{R(!1)}})()},[]);const q=async e=>{try{const{data:t,error:s}=await C.from("processes").select("production_line").eq("company_id",e).eq("is_active",!0);if(s)throw s;const n=[...new Set((null==t?void 0:t.map(e=>e.production_line))||[])];L(n)}catch(t){L([])}},W=async s=>{const{name:n,value:m}=s.target;if(t(e=>({...e,[n]:m})),"role_id"===n){const s=v.find(e=>e.id===m);I(s||null);const n=s&&("ç­é•¿"===s.name||"æ®µé•¿"===s.name);P(n||!1),n&&e.company_id&&await q(e.company_id),n||t(e=>({...e,production_line:""}))}if("company_id"===n&&A&&(await q(m),t(e=>({...e,production_line:""}))),"confirmPassword"===n||"password"===n){const t="password"===n?m:e.password,s="confirmPassword"===n?m:e.confirmPassword;D(s&&t!==s?"ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´":"")}};return S?n.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center",children:n.jsxDEV("div",{className:"text-green-400 text-xl animate-pulse font-mono",children:"åŠ è½½ä¸­..."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:210,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:209,columnNumber:7},this):n.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center px-4 py-8",children:[n.jsxDEV("div",{className:"max-w-md w-full space-y-8",children:[n.jsxDEV("div",{className:"text-center",children:[n.jsxDEV("h1",{className:"text-4xl font-bold text-green-400 mb-2 font-mono",children:"å·¥æ—¶ç®¡ç†ç³»ç»Ÿ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:222,columnNumber:11},this),n.jsxDEV("p",{className:"text-green-300 text-lg font-mono",children:"TIMETRACK SYSTEM"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:225,columnNumber:11},this),n.jsxDEV("div",{className:"mt-4 h-1 bg-gradient-to-r from-transparent via-green-400 to-transparent"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:228,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:221,columnNumber:9},this),n.jsxDEV("div",{className:"bg-gray-900 border border-green-400 rounded-lg p-8 shadow-lg shadow-green-400/20",children:[n.jsxDEV("h2",{className:"text-2xl font-bold text-green-400 mb-6 text-center font-mono",children:"ç”¨æˆ·æ³¨å†Œ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:233,columnNumber:11},this),p&&n.jsxDEV("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-400 rounded text-red-300 text-sm",children:p},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:238,columnNumber:13},this),n.jsxDEV("form",{onSubmit:async t=>{if(t.preventDefault(),N(!0),b(""),!(e.phone&&e.password&&e.id_card&&e.name&&e.company_id&&e.role_id))return b("è¯·å¡«å†™æ‰€æœ‰å¿…å¡«å­—æ®µ"),void N(!1);if(A&&!e.production_line)return b("è¯·é€‰æ‹©ç”Ÿäº§çº¿"),void N(!1);if(e.password!==e.confirmPassword)return b("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´"),D("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´"),void N(!1);if(e.password.length<6)return b("å¯†ç é•¿åº¦è‡³å°‘6ä½"),void N(!1);if(!/^1[3-9]\d{9}$/.test(e.phone))return b("è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·ç "),void N(!1);if(!/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(e.id_card))return b("è¯·è¾“å…¥æ­£ç¡®çš„èº«ä»½è¯å·ç "),void N(!1);const s=await z({phone:e.phone,password:e.password,id_card:e.id_card,name:e.name,company_id:e.company_id,role_id:e.role_id,production_line:A?e.production_line:null});s.success?(b(""),M(!0)):b(s.error||"æ³¨å†Œå¤±è´¥"),N(!1)},className:"space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"æ‰‹æœºå·ç  *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:246,columnNumber:15},this),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV(a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:250,columnNumber:17},this),n.jsxDEV("input",{type:"tel",name:"phone",value:e.phone,onChange:W,className:"w-full pl-10 pr-4 py-2 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",placeholder:"è¯·è¾“å…¥æ‰‹æœºå·ç ",maxLength:11},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:251,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:249,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:245,columnNumber:13},this),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"èº«ä»½è¯å· *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:265,columnNumber:15},this),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:269,columnNumber:17},this),n.jsxDEV("input",{type:"text",name:"id_card",value:e.id_card,onChange:W,className:"w-full pl-10 pr-4 py-2 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",placeholder:"è¯·è¾“å…¥èº«ä»½è¯å·ç ",maxLength:18},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:270,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:268,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:264,columnNumber:13},this),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"å§“å *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:284,columnNumber:15},this),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:288,columnNumber:17},this),n.jsxDEV("input",{type:"text",name:"name",value:e.name,onChange:W,className:"w-full pl-10 pr-4 py-2 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",placeholder:"è¯·è¾“å…¥çœŸå®å§“å"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:289,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:287,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:283,columnNumber:13},this),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"æ‰€å±å…¬å¸ *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:304,columnNumber:15},this),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:308,columnNumber:17},this),n.jsxDEV("select",{name:"company_id",value:e.company_id,onChange:W,className:"w-full pl-10 pr-4 py-2 bg-black border border-green-400 rounded text-green-300 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",children:[n.jsxDEV("option",{value:"",children:"è¯·é€‰æ‹©å…¬å¸"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:315,columnNumber:19},this),y.map(e=>n.jsxDEV("option",{value:e.id,children:e.name},e.id,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:317,columnNumber:21},this))]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:309,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:307,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:303,columnNumber:13},this),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"ç”¨æˆ·è§’è‰² *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:327,columnNumber:15},this),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:331,columnNumber:17},this),n.jsxDEV("select",{name:"role_id",value:e.role_id,onChange:W,className:"w-full pl-10 pr-4 py-2 bg-black border border-green-400 rounded text-green-300 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",children:[n.jsxDEV("option",{value:"",children:"è¯·é€‰æ‹©è§’è‰²"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:338,columnNumber:19},this),v.map(e=>n.jsxDEV("option",{value:e.id,children:e.name},e.id,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:340,columnNumber:21},this))]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:332,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:330,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:326,columnNumber:13},this),A&&n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"ç”Ÿäº§çº¿ *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:351,columnNumber:17},this),n.jsxDEV(ne,{productionLines:_,value:e.production_line,onChange:e=>t(t=>({...t,production_line:e})),placeholder:"è¯·é€‰æ‹©ç”Ÿäº§çº¿",showSearch:_.length>5,maxHeight:"max-h-60"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:354,columnNumber:17},this),0===_.length&&e.company_id&&n.jsxDEV("div",{className:"mt-1 text-yellow-400 text-xs font-mono",children:"è¯¥å…¬å¸æš‚æ— å¯ç”¨ç”Ÿäº§çº¿"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:363,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:350,columnNumber:15},this),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"ç™»å½•å¯†ç  *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:372,columnNumber:15},this),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:376,columnNumber:17},this),n.jsxDEV("input",{type:m?"text":"password",name:"password",value:e.password,onChange:W,className:"w-full pl-10 pr-10 py-2 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono text-sm",placeholder:"è¯·è¾“å…¥å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:377,columnNumber:17},this),n.jsxDEV("button",{type:"button",onClick:()=>r(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 hover:text-green-300",children:m?n.jsxDEV(l,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:390,columnNumber:35},this):n.jsxDEV(c,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:390,columnNumber:68},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:385,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:375,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:371,columnNumber:13},this),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-1",children:"ç¡®è®¤å¯†ç  *"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:397,columnNumber:15},this),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:401,columnNumber:17},this),n.jsxDEV("input",{type:i?"text":"password",name:"confirmPassword",value:e.confirmPassword,onChange:W,className:"w-full pl-10 pr-10 py-2 bg-black border rounded text-green-300 placeholder-green-600 focus:outline-none focus:ring-1 font-mono text-sm ".concat(k?"border-red-400 focus:border-red-300 focus:ring-red-300":"border-green-400 focus:border-green-300 focus:ring-green-300"),placeholder:"è¯·å†æ¬¡è¾“å…¥å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:402,columnNumber:17},this),n.jsxDEV("button",{type:"button",onClick:()=>u(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 hover:text-green-300",children:i?n.jsxDEV(l,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:417,columnNumber:42},this):n.jsxDEV(c,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:417,columnNumber:75},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:412,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:400,columnNumber:15},this),k&&n.jsxDEV("div",{className:"mt-1 text-red-400 text-xs font-mono",children:k},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:421,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:396,columnNumber:13},this),n.jsxDEV("button",{type:"submit",disabled:d,className:"w-full py-3 bg-green-600 hover:bg-green-500 disabled:bg-green-800 text-black font-bold rounded-lg transition-colors duration-200 font-mono text-lg mt-6",children:d?"æ³¨å†Œä¸­...":"æ³¨å†Œ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:428,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:243,columnNumber:11},this),n.jsxDEV("div",{className:"mt-6 text-center",children:n.jsxDEV(V,{to:"/login",className:"text-green-400 hover:text-green-300 text-sm font-mono transition-colors",children:"å·²æœ‰è´¦å·ï¼Ÿç«‹å³ç™»å½•"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:439,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:438,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:232,columnNumber:9},this),n.jsxDEV("div",{className:"text-center text-green-600 text-xs font-mono",children:n.jsxDEV("p",{children:"Â© 2024 å·¥æ—¶ç®¡ç†ç³»ç»Ÿ. All rights reserved."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:450,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:449,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:219,columnNumber:7},this),n.jsxDEV(se,{isOpen:O,onClose:()=>{M(!1),F("/login")},userName:e.name,userPhone:e.phone},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:455,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/Register.tsx",lineNumber:218,columnNumber:5},this)}function re(){const[e,t]=s.useState("verify"),[m,r]=s.useState({id_card:"",newPassword:"",confirmPassword:""}),[i,a]=s.useState(!1),[u,h]=s.useState(!1),[d,g]=s.useState(!1),[N,p]=s.useState(""),[b,y]=s.useState(""),[x,w]=s.useState(null),{resetPassword:E}=Q(),k=j(),D=e=>{const{name:t,value:s}=e.target;if(r(e=>({...e,[t]:s})),"confirmPassword"===t||"newPassword"===t){const e="newPassword"===t?s:m.newPassword,n="confirmPassword"===t?s:m.confirmPassword;y(n&&e!==n?"ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´":"")}};return n.jsxDEV("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:n.jsxDEV("div",{className:"max-w-md w-full space-y-8",children:[n.jsxDEV("div",{className:"text-center",children:[n.jsxDEV("h1",{className:"text-4xl font-bold text-green-400 mb-2 font-mono",children:"å·¥æ—¶ç®¡ç†ç³»ç»Ÿ"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:124,columnNumber:11},this),n.jsxDEV("p",{className:"text-green-300 text-lg font-mono",children:"TIMETRACK SYSTEM"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:127,columnNumber:11},this),n.jsxDEV("div",{className:"mt-4 h-1 bg-gradient-to-r from-transparent via-green-400 to-transparent"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:130,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:123,columnNumber:9},this),n.jsxDEV("div",{className:"bg-gray-900 border border-green-400 rounded-lg p-8 shadow-lg shadow-green-400/20",children:[n.jsxDEV("div",{className:"flex items-center mb-6",children:[n.jsxDEV("button",{onClick:()=>{"reset"===e?(t("verify"),w(null),p("")):k("/login")},className:"text-green-400 hover:text-green-300 mr-3 transition-colors",children:n.jsxDEV(v,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:140,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:136,columnNumber:13},this),n.jsxDEV("h2",{className:"text-2xl font-bold text-green-400 font-mono",children:"verify"===e?"èº«ä»½éªŒè¯":"é‡ç½®å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:142,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:135,columnNumber:11},this),N&&n.jsxDEV("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-400 rounded text-red-300 text-sm",children:N},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:148,columnNumber:13},this),"verify"===e?n.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),g(!0),p(""),!m.id_card)return p("è¯·è¾“å…¥èº«ä»½è¯å·ç "),void g(!1);if(!/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(m.id_card))return p("è¯·è¾“å…¥æ­£ç¡®çš„èº«ä»½è¯å·ç "),void g(!1);const s=await E(m.id_card);s.success&&s.user?(w(s.user),t("reset"),p("")):p(s.error||"èº«ä»½è¯å·ç éªŒè¯å¤±è´¥ï¼Œè¯·æ£€æŸ¥åé‡è¯•"),g(!1)},className:"space-y-6",children:[n.jsxDEV("div",{className:"text-center mb-6",children:n.jsxDEV("p",{className:"text-green-300 text-sm font-mono",children:"è¯·è¾“å…¥æ‚¨çš„èº«ä»½è¯å·ç è¿›è¡Œèº«ä»½éªŒè¯"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:156,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:155,columnNumber:15},this),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"èº«ä»½è¯å·ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:163,columnNumber:17},this),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:167,columnNumber:19},this),n.jsxDEV("input",{type:"text",name:"id_card",value:m.id_card,onChange:D,className:"w-full pl-12 pr-4 py-3 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono",placeholder:"è¯·è¾“å…¥èº«ä»½è¯å·ç ",maxLength:18},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:168,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:166,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:162,columnNumber:15},this),n.jsxDEV("button",{type:"submit",disabled:d,className:"w-full py-3 bg-green-600 hover:bg-green-500 disabled:bg-green-800 text-black font-bold rounded-lg transition-colors duration-200 font-mono text-lg",children:d?"éªŒè¯ä¸­...":"éªŒè¯èº«ä»½"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:181,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:154,columnNumber:13},this):n.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),g(!0),p(""),!m.newPassword||!m.confirmPassword)return p("è¯·å¡«å†™æ–°å¯†ç å’Œç¡®è®¤å¯†ç "),void g(!1);if(m.newPassword!==m.confirmPassword)return p("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´"),y("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´"),void g(!1);if(m.newPassword.length<6)return p("å¯†ç é•¿åº¦è‡³å°‘6ä½"),void g(!1);const t=await E(m.id_card,m.newPassword);t.success?(alert("å¯†ç é‡ç½®æˆåŠŸï¼Œè¯·ä½¿ç”¨æ–°å¯†ç ç™»å½•"),k("/login")):p(t.error||"å¯†ç é‡ç½®å¤±è´¥"),g(!1)},className:"space-y-6",children:[x&&n.jsxDEV("div",{className:"bg-green-900/30 border border-green-400 rounded p-4 mb-6",children:[n.jsxDEV("p",{className:"text-green-300 text-sm font-mono",children:["éªŒè¯æˆåŠŸï¼æ­£åœ¨ä¸ºç”¨æˆ· ",n.jsxDEV("span",{className:"text-green-400 font-bold",children:x.name},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:194,columnNumber:32},this)," é‡ç½®å¯†ç "]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:193,columnNumber:19},this),n.jsxDEV("p",{className:"text-green-400 text-xs font-mono mt-1",children:["æ‰‹æœºå·: ",x.phone]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:196,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:192,columnNumber:17},this),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"æ–°å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:204,columnNumber:17},this),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:208,columnNumber:19},this),n.jsxDEV("input",{type:i?"text":"password",name:"newPassword",value:m.newPassword,onChange:D,className:"w-full pl-12 pr-12 py-3 bg-black border border-green-400 rounded text-green-300 placeholder-green-600 focus:outline-none focus:border-green-300 focus:ring-1 focus:ring-green-300 font-mono",placeholder:"è¯·è¾“å…¥æ–°å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:209,columnNumber:19},this),n.jsxDEV("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 hover:text-green-300",children:i?n.jsxDEV(l,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:222,columnNumber:37},this):n.jsxDEV(c,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:222,columnNumber:70},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:217,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:207,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:203,columnNumber:15},this),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-green-300 text-sm font-mono mb-2",children:"ç¡®è®¤æ–°å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:229,columnNumber:17},this),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:233,columnNumber:19},this),n.jsxDEV("input",{type:u?"text":"password",name:"confirmPassword",value:m.confirmPassword,onChange:D,className:"w-full pl-12 pr-12 py-3 bg-black border rounded text-green-300 placeholder-green-600 focus:outline-none focus:ring-1 font-mono ".concat(b?"border-red-400 focus:border-red-300 focus:ring-red-300":"border-green-400 focus:border-green-300 focus:ring-green-300"),placeholder:"è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:234,columnNumber:19},this),n.jsxDEV("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-400 hover:text-green-300",children:u?n.jsxDEV(l,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:249,columnNumber:44},this):n.jsxDEV(c,{className:"w-5 h-5"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:249,columnNumber:77},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:244,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:232,columnNumber:17},this),b&&n.jsxDEV("div",{className:"mt-1 text-red-400 text-xs font-mono",children:b},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:253,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:228,columnNumber:15},this),n.jsxDEV("button",{type:"submit",disabled:d,className:"w-full py-3 bg-green-600 hover:bg-green-500 disabled:bg-green-800 text-black font-bold rounded-lg transition-colors duration-200 font-mono text-lg",children:d?"é‡ç½®ä¸­...":"é‡ç½®å¯†ç "},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:260,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:190,columnNumber:13},this),n.jsxDEV("div",{className:"mt-6 text-center",children:n.jsxDEV(V,{to:"/login",className:"text-green-400 hover:text-green-300 text-sm font-mono transition-colors",children:"è¿”å›ç™»å½•"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:272,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:271,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:134,columnNumber:9},this),n.jsxDEV("div",{className:"text-center text-green-600 text-xs font-mono",children:n.jsxDEV("p",{children:"Â© 2024 å·¥æ—¶ç®¡ç†ç³»ç»Ÿ. All rights reserved."},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:283,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:282,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:121,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/pages/ResetPassword.tsx",lineNumber:120,columnNumber:5},this)}const ie=s.lazy(()=>S(()=>import("./Dashboard-BVV_2WrO.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),ae=s.lazy(()=>S(()=>import("./TimesheetRecord-BYgyf27i.js"),__vite__mapDeps([7,1,6,3,4,5]))),oe=s.lazy(()=>S(()=>import("./TimesheetHistory-BRZ5uPVi.js"),__vite__mapDeps([8,1,6,3,4,5]))),le=s.lazy(()=>S(()=>import("./CompanyManagement-DjYXCvbI.js"),__vite__mapDeps([9,1,2,3,4,5,6]))),ce=s.lazy(()=>S(()=>import("./UserManagement-CXibPIAL.js"),__vite__mapDeps([10,1,6,3,4,5]))),ue=s.lazy(()=>S(()=>import("./ProcessManagement-xxGHco5f.js"),__vite__mapDeps([11,1,6,3,4,12,5]))),he=s.lazy(()=>S(()=>import("./RoleList-BFj83uIs.js"),__vite__mapDeps([13,1,4,3,5,6]))),de=s.lazy(()=>S(()=>import("./RoleEdit-B4ocvdRe.js"),__vite__mapDeps([14,1,4,3,5,6]))),ge=s.lazy(()=>S(()=>import("./RoleCreate-EVyi6Iqa.js"),__vite__mapDeps([15,1,4,3,5,6]))),Ne=s.lazy(()=>S(()=>import("./SupervisorApproval-46ikUGYF.js"),__vite__mapDeps([16,1,6,3,4,5]))),pe=s.lazy(()=>S(()=>import("./SectionChiefApproval-DWjXQ7FT.js"),__vite__mapDeps([17,1,6,3,4,5]))),be=s.lazy(()=>S(()=>import("./Reports-BERc9o9t.js"),__vite__mapDeps([18,4,1,3,6,5]))),ye=s.lazy(()=>S(()=>import("./History-C8oosaJD.js"),__vite__mapDeps([19,1,6,3,4,5]))),xe=s.lazy(()=>S(()=>import("./ToastTest-DjE6PLg5.js"),__vite__mapDeps([20,1,6,3,4]))),fe=()=>{const[e,t]=s.useState("æ­£åœ¨åŠ è½½..."),[m,r]=s.useState(!1),[i,a]=s.useState(!1);return s.useEffect(()=>{const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;e&&a(["slow-2g","2g","3g"].includes(e.effectiveType));const s=setTimeout(()=>{t("åŠ è½½æ—¶é—´è¾ƒé•¿ï¼Œè¯·ç¨å€™...")},3e3),n=setTimeout(()=>{t("ç½‘ç»œè¾ƒæ…¢ï¼Œæ­£åœ¨åŠªåŠ›åŠ è½½...")},8e3),m=setTimeout(()=>{r(!0),t("åŠ è½½è¶…æ—¶ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥")},15e3);return()=>{clearTimeout(s),clearTimeout(n),clearTimeout(m)}},[]),n.jsxDEV("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:n.jsxDEV("div",{className:"text-center",children:[n.jsxDEV("div",{className:"relative mb-6",children:[n.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:88,columnNumber:11},void 0),i&&n.jsxDEV("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center",children:n.jsxDEV("span",{className:"text-white text-xs",children:"!"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:91,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:90,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:87,columnNumber:9},void 0),n.jsxDEV("p",{className:"text-gray-600 mb-4 text-lg",children:e},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:97,columnNumber:9},void 0),i&&n.jsxDEV("p",{className:"text-orange-600 text-sm mb-4",children:"æ£€æµ‹åˆ°ç½‘ç»œè¿æ¥è¾ƒæ…¢ï¼ŒåŠ è½½å¯èƒ½éœ€è¦æ›´é•¿æ—¶é—´"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:101,columnNumber:11},void 0),m&&n.jsxDEV("div",{className:"space-y-3",children:[n.jsxDEV("button",{onClick:()=>{window.location.reload()},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"é‡æ–°åŠ è½½"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:109,columnNumber:13},void 0),n.jsxDEV("p",{className:"text-gray-500 text-sm",children:"å¦‚æœé—®é¢˜æŒç»­å­˜åœ¨ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åå†è¯•"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:115,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:108,columnNumber:11},void 0),n.jsxDEV("div",{className:"mt-6 w-64 mx-auto",children:n.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsxDEV("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:124,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:123,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:122,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:85,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:84,columnNumber:5},void 0)};class we extends s.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){var e;return this.state.hasError?n.jsxDEV("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:n.jsxDEV("div",{className:"max-w-md text-center",children:[n.jsxDEV("div",{className:"mb-6",children:[n.jsxDEV("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsxDEV("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:165,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:164,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:163,columnNumber:15},this),n.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"åº”ç”¨å‡ºç°é”™è¯¯"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:168,columnNumber:15},this),n.jsxDEV("p",{className:"text-gray-600 mb-6",children:"æŠ±æ­‰ï¼Œåº”ç”¨é‡åˆ°äº†ä¸€ä¸ªæ„å¤–é”™è¯¯ã€‚è¯·å°è¯•åˆ·æ–°é¡µé¢æˆ–ç¨åå†è¯•ã€‚"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:169,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:162,columnNumber:13},this),n.jsxDEV("div",{className:"space-y-3",children:[n.jsxDEV("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"åˆ·æ–°é¡µé¢"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:175,columnNumber:15},this),n.jsxDEV("button",{onClick:()=>this.setState({hasError:!1}),className:"w-full px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"é‡è¯•"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:181,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:174,columnNumber:13},this),this.state.error&&n.jsxDEV("details",{className:"mt-6 text-left",children:[n.jsxDEV("summary",{className:"cursor-pointer text-sm text-gray-500 hover:text-gray-700",children:"æŸ¥çœ‹é”™è¯¯è¯¦æƒ…"},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:192,columnNumber:17},this),n.jsxDEV("pre",{className:"mt-2 p-3 bg-gray-100 rounded text-xs overflow-auto max-h-40",children:[this.state.error.toString(),null==(e=this.state.errorInfo)?void 0:e.componentStack]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:195,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:191,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:161,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:160,columnNumber:9},this):this.props.children}}const ve=({children:e})=>{const t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768;return n.jsxDEV(s.Suspense,{fallback:t?n.jsxDEV(ee,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:266,columnNumber:36},void 0):n.jsxDEV(fe,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:266,columnNumber:63},void 0),children:n.jsxDEV(we,{children:e},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:267,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:266,columnNumber:5},void 0)};function Ee(){return s.useEffect(()=>{(()=>{const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768,t=navigator.connection||navigator.mozConnection||navigator.webkitConnection,s=t&&["slow-2g","2g","3g"].includes(t.effectiveType);e?s||(setTimeout(()=>{var e,t;null==(e=ie.preload)||e.call(ie),null==(t=ae.preload)||t.call(ae)},3e3),setTimeout(()=>{var e;null==(e=oe.preload)||e.call(oe)},8e3)):("requestIdleCallback"in window?requestIdleCallback(()=>{var e,t,s;null==(e=ie.preload)||e.call(ie),null==(t=ae.preload)||t.call(ae),null==(s=oe.preload)||s.call(oe)}):setTimeout(()=>{var e,t,s;null==(e=ie.preload)||e.call(ie),null==(t=ae.preload)||t.call(ae),null==(s=oe.preload)||s.call(oe)},2e3),setTimeout(()=>{var e,t;null==(e=le.preload)||e.call(le),null==(t=ce.preload)||t.call(ce)},5e3))})()},[]),n.jsxDEV(we,{children:n.jsxDEV(H,{children:n.jsxDEV(R,{basename:"",children:[n.jsxDEV($,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:287,columnNumber:11},this),n.jsxDEV(Z,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:288,columnNumber:11},this),n.jsxDEV(P,{position:"top-right",richColors:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:289,columnNumber:11},this),n.jsxDEV(_,{children:[n.jsxDEV(L,{path:"/login",element:n.jsxDEV(te,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:292,columnNumber:41},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:292,columnNumber:11},this),n.jsxDEV(L,{path:"/register",element:n.jsxDEV(me,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:293,columnNumber:44},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:293,columnNumber:11},this),n.jsxDEV(L,{path:"/reset-password",element:n.jsxDEV(re,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:294,columnNumber:50},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:294,columnNumber:11},this),n.jsxDEV(L,{path:"/",element:n.jsxDEV(X,{children:n.jsxDEV(D,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:299,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:298,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:297,columnNumber:11},this),n.jsxDEV(L,{path:"/dashboard",element:n.jsxDEV(X,{children:n.jsxDEV(ve,{children:n.jsxDEV(ie,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:304,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:304,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:303,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:302,columnNumber:11},this),n.jsxDEV(L,{path:"/company-management",element:n.jsxDEV(X,{children:n.jsxDEV(ve,{children:n.jsxDEV(le,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:309,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:309,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:308,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:307,columnNumber:11},this),n.jsxDEV(L,{path:"/user-management",element:n.jsxDEV(X,{children:n.jsxDEV(ve,{children:n.jsxDEV(ce,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:314,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:314,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:313,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:312,columnNumber:11},this),n.jsxDEV(L,{path:"/role-permissions",element:n.jsxDEV(X,{children:n.jsxDEV(ve,{children:n.jsxDEV(he,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:319,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:319,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:318,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:317,columnNumber:11},this),n.jsxDEV(L,{path:"/role-permissions/edit/:id",element:n.jsxDEV(X,{children:n.jsxDEV(ve,{children:n.jsxDEV(de,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:325,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:325,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:324,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:323,columnNumber:11},this),n.jsxDEV(L,{path:"/role-permissions/create",element:n.jsxDEV(X,{children:n.jsxDEV(ve,{children:n.jsxDEV(ge,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:330,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:330,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:329,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:328,columnNumber:11},this),n.jsxDEV(L,{path:"/process-management",element:n.jsxDEV(X,{children:n.jsxDEV(ve,{children:n.jsxDEV(ue,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:335,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:335,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:334,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:333,columnNumber:11},this),n.jsxDEV(L,{path:"/timesheet-record",element:n.jsxDEV(X,{children:n.jsxDEV(ve,{children:n.jsxDEV(ae,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:340,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:340,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:339,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:338,columnNumber:11},this),n.jsxDEV(L,{path:"/timesheet-history",element:n.jsxDEV(X,{children:n.jsxDEV(ve,{children:n.jsxDEV(oe,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:345,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:345,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:344,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:343,columnNumber:11},this),n.jsxDEV(L,{path:"/supervisor-approval",element:n.jsxDEV(K,{allowedRoles:["ç­é•¿","supervisor","è¶…çº§ç®¡ç†å‘˜","super_admin"],children:n.jsxDEV(ve,{children:n.jsxDEV(Ne,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:350,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:350,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:349,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:348,columnNumber:11},this),n.jsxDEV(L,{path:"/section-chief-approval",element:n.jsxDEV(K,{allowedRoles:["æ®µé•¿","section_chief","è¶…çº§ç®¡ç†å‘˜","super_admin"],children:n.jsxDEV(ve,{children:n.jsxDEV(pe,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:355,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:355,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:354,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:353,columnNumber:11},this),n.jsxDEV(L,{path:"/reports",element:n.jsxDEV(X,{children:n.jsxDEV(ve,{children:n.jsxDEV(be,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:360,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:360,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:359,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:358,columnNumber:11},this),n.jsxDEV(L,{path:"/history",element:n.jsxDEV(X,{children:n.jsxDEV(ve,{children:n.jsxDEV(ye,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:365,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:365,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:364,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:363,columnNumber:11},this),n.jsxDEV(L,{path:"/toast-test",element:n.jsxDEV(X,{children:n.jsxDEV(ve,{children:n.jsxDEV(xe,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:370,columnNumber:28},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:370,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:369,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:368,columnNumber:11},this),n.jsxDEV(L,{path:"*",element:n.jsxDEV(D,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:377,columnNumber:36},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:377,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:290,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:286,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:285,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/App.tsx",lineNumber:284,columnNumber:5},this)}Array.from||(Array.from=function(){const e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},s=Math.pow(2,53)-1;return function(e,n,m){const r=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");const i=void 0===n?void 0:n;if(void 0!==i){if(!t(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(m=arguments[2])}const a=function(e){const t=function(e){const t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),s)}(r.length),o=t(this)?Object(new this(a)):new Array(a);let l,c=0;for(;c<a;)l=r[c],o[c]=i?void 0===m?i(l,c):i.call(m,l,c):l,c+=1;return o.length=a,o}}()),Array.prototype.includes||(Array.prototype.includes=function(e,t){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");const s=Object(this),n=parseInt(s.length)||0;if(0===n)return!1;const m=parseInt(t)||0;let r,i;for(m>=0?r=m:(r=n+m,r<0&&(r=0));r<n;){if(i=s[r],e===i||e!=e&&i!=i)return!0;r++}return!1}),String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e),s=Array.prototype.slice.call(arguments,1);for(let n=0;n<s.length;n++){const e=s[n];if(null!=e)for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t}),"undefined"==typeof Promise&&(window.Promise=class e{constructor(e){t(this,"state","pending"),t(this,"value"),t(this,"handlers",[]);try{e(this.resolve.bind(this),this.reject.bind(this))}catch(s){this.reject(s)}}resolve(e){"pending"===this.state&&(this.state="fulfilled",this.value=e,this.handlers.forEach(e=>this.handle(e)),this.handlers=[])}reject(e){"pending"===this.state&&(this.state="rejected",this.value=e,this.handlers.forEach(e=>this.handle(e)),this.handlers=[])}handle(e){"pending"===this.state?this.handlers.push(e):("fulfilled"===this.state&&"function"==typeof e.onFulfilled&&e.onFulfilled(this.value),"rejected"===this.state&&"function"==typeof e.onRejected&&e.onRejected(this.value))}then(t,s){return new e((e,n)=>{this.handle({onFulfilled:s=>{if("function"==typeof t)try{e(t(s))}catch(m){n(m)}else e(s)},onRejected:t=>{if("function"==typeof s)try{e(s(t))}catch(m){n(m)}else n(t)},resolve:e,reject:n})})}catch(e){return this.then(void 0,e)}static resolve(t){return new e(e=>e(t))}static reject(t){return new e((e,s)=>s(t))}static all(t){return new e((e,s)=>{if(0===t.length)return void e([]);const n=[];let m=0;t.forEach((r,i)=>{r.then(s=>{n[i]=s,m++,m===t.length&&e(n)}).catch(s)})})}}),"undefined"==typeof fetch&&(window.fetch=function(e,t={}){return new Promise((s,n)=>{const m=new XMLHttpRequest;m.open(t.method||"GET",e),t.headers&&Object.keys(t.headers).forEach(e=>{m.setRequestHeader(e,t.headers[e])}),m.onload=()=>{const e={ok:m.status>=200&&m.status<300,status:m.status,statusText:m.statusText,json:()=>Promise.resolve(JSON.parse(m.responseText)),text:()=>Promise.resolve(m.responseText)};s(e)},m.onerror=()=>n(new Error("Network error")),m.send(t.body)})}),"undefined"==typeof IntersectionObserver&&(window.IntersectionObserver=class{constructor(e,s={}){t(this,"callback"),t(this,"options"),t(this,"targets",[]),this.callback=e,this.options=s,setTimeout(()=>{this.checkIntersections()},100)}observe(e){this.targets.push(e)}unobserve(e){const t=this.targets.indexOf(e);t>-1&&this.targets.splice(t,1)}disconnect(){this.targets=[]}checkIntersections(){const e=this.targets.map(e=>({target:e,isIntersecting:!0,intersectionRatio:1}));e.length>0&&this.callback(e)}});new class{constructor(){this.isMobile=this.detectMobileDevice(),this.networkType=this.getNetworkType(),this.isLowEndDevice=this.detectLowEndDevice(),this.optimizationLevel=this.calculateOptimizationLevel(),this.init()}detectMobileDevice(){const e=navigator.userAgent.toLowerCase();return["mobile","android","iphone","ipad","ipod","blackberry","windows phone","opera mini"].some(t=>e.includes(t))||window.innerWidth<=768||"ontouchstart"in window}getNetworkType(){const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return e?{type:e.effectiveType||"unknown",downlink:e.downlink||0,rtt:e.rtt||0,saveData:e.saveData||!1}:"unknown"}detectLowEndDevice(){const e=navigator.hardwareConcurrency||1,t=navigator.deviceMemory||1,s=navigator.userAgent.toLowerCase(),n=["android 4","android 5","android 6"].some(e=>s.includes(e));return e<=2||t<=2||n}calculateOptimizationLevel(){let e=0;return"slow-2g"===this.networkType.type||"2g"===this.networkType.type?e+=3:"3g"===this.networkType.type?e+=2:"4g"===this.networkType.type&&(e+=1),this.isLowEndDevice&&(e+=2),this.networkType.saveData&&(e+=2),Math.min(e,5)}init(){this.isMobile&&(this.applyOptimizations(),this.setupNetworkListeners())}applyOptimizations(){switch(this.optimizationLevel){case 5:this.enableAggressiveOptimization();break;case 4:this.enableHighOptimization();break;case 3:this.enableMediumOptimization();break;case 2:this.enableLowOptimization();break;default:this.enableBasicOptimization()}}enableAggressiveOptimization(){this.disableNonCriticalFeatures(),this.minimizeResourceLoading(),this.enableTextCompression(),this.enableLazyLoading()}enableHighOptimization(){this.minimizeResourceLoading(),this.enableLazyLoading(),this.optimizeImages()}enableMediumOptimization(){this.enableLazyLoading(),this.optimizeImages()}enableLowOptimization(){this.optimizeImages()}enableBasicOptimization(){this.setupViewport()}disableNonCriticalFeatures(){const e=document.createElement("style");e.textContent="\n            *, *::before, *::after {\n                animation-duration: 0.01ms !important;\n                animation-iteration-count: 1 !important;\n                transition-duration: 0.01ms !important;\n            }\n        ",document.head.appendChild(e),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("video").forEach(e=>{e.autoplay=!1,e.preload="none"})})}minimizeResourceLoading(){document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('link[rel="stylesheet"]').forEach(e=>{e.href.includes("critical")||e.href.includes("main")||(e.media="print",e.onload=function(){this.media="all"})})})}enableTextCompression(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{var t;null==(t=e.active)||t.postMessage({type:"ENABLE_COMPRESSION",level:"aggressive"})})}enableLazyLoading(){if("IntersectionObserver"in window){const e=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const s=t.target;s.dataset.src&&(s.src=s.dataset.src,s.removeAttribute("data-src"),e.unobserve(s))}})});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("img[data-src]").forEach(t=>e.observe(t))})}}optimizeImages(){document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("img").forEach(e=>{if(e.hasAttribute("loading")||(e.loading="lazy"),window.devicePixelRatio>1){const t=Math.min(e.naturalWidth,window.innerWidth);e.style.maxWidth=t+"px"}})})}setupViewport(){let e=document.querySelector('meta[name="viewport"]');e||(e=document.createElement("meta"),e.name="viewport",document.head.appendChild(e)),e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}setupNetworkListeners(){"connection"in navigator&&navigator.connection.addEventListener("change",()=>{this.networkType=this.getNetworkType(),this.optimizationLevel=this.calculateOptimizationLevel(),this.applyOptimizations()}),window.addEventListener("online",()=>{this.handleOnlineStatus(!0)}),window.addEventListener("offline",()=>{this.handleOnlineStatus(!1)})}handleOnlineStatus(e){e?this.restoreFeatures():this.enableOfflineMode()}restoreFeatures(){document.querySelectorAll("[data-mobile-disabled]").forEach(e=>{e.removeAttribute("data-mobile-disabled"),e.style.display=""})}enableOfflineMode(){document.querySelectorAll("[data-requires-network]").forEach(e=>{e.setAttribute("data-mobile-disabled","true"),e.style.display="none"}),this.showOfflineNotification()}showOfflineNotification(){const e=document.createElement("div");e.className="mobile-offline-notification",e.innerHTML='\n            <div class="offline-content">\n                ğŸ“± ç¦»çº¿æ¨¡å¼å·²å¯ç”¨\n                <button onclick="this.parentElement.parentElement.remove()">Ã—</button>\n            </div>\n        ',e.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            background: #ff9800;\n            color: white;\n            padding: 10px;\n            text-align: center;\n            z-index: 10000;\n            font-size: 14px;\n        ",document.body.appendChild(e),setTimeout(()=>{e.parentElement&&e.remove()},5e3)}getOptimizationRecommendations(){const e=[];return"slow-2g"!==this.networkType.type&&"2g"!==this.networkType.type||e.push("æ£€æµ‹åˆ°æ…¢é€Ÿç½‘ç»œï¼Œå»ºè®®åˆ‡æ¢åˆ°WiFiæˆ–ç§»åŠ¨åˆ°ä¿¡å·æ›´å¥½çš„ä½ç½®"),this.isLowEndDevice&&e.push("æ£€æµ‹åˆ°ä½ç«¯è®¾å¤‡ï¼Œå·²å¯ç”¨æ€§èƒ½ä¼˜åŒ–æ¨¡å¼"),this.networkType.saveData&&e.push("æ£€æµ‹åˆ°æ•°æ®èŠ‚çœæ¨¡å¼ï¼Œå·²å‡å°‘èµ„æºåŠ è½½"),this.isMobile&&window.innerWidth<400&&e.push("å±å¹•è¾ƒå°ï¼Œå»ºè®®æ¨ªå±ä½¿ç”¨ä»¥è·å¾—æ›´å¥½ä½“éªŒ"),e}getStatus(){return{isMobile:this.isMobile,networkType:this.networkType,isLowEndDevice:this.isLowEndDevice,optimizationLevel:this.optimizationLevel,recommendations:this.getOptimizationRecommendations()}}};const ke=new class{constructor(){t(this,"loadedResources",new Set),t(this,"loadQueue",[]),t(this,"loadingState",{isLoading:!1,progress:0,retryCount:0}),t(this,"maxRetries",3),t(this,"baseTimeout",15e3),t(this,"isMobile"),this.isMobile=this.detectMobile(),this.initializeOptimizations()}detectMobile(){const e=navigator.userAgent.toLowerCase();return["mobile","android","iphone","ipad","ipod","blackberry","windows phone"].some(t=>e.includes(t))||window.innerWidth<=768||"ontouchstart"in window}initializeOptimizations(){if(this.isMobile){if(this.setupResourceHints(),"connection"in navigator){const e=navigator.connection;"slow-2g"!==e.effectiveType&&"2g"!==e.effectiveType||(this.baseTimeout=3e4)}window.addEventListener("online",()=>{this.retryFailedLoads()}),document.addEventListener("visibilitychange",()=>{!document.hidden&&this.loadingState.error&&this.retryFailedLoads()})}}setupResourceHints(){const e=document.createElement("link");e.rel="dns-prefetch",e.href=window.location.origin,document.head.appendChild(e);const t=document.createElement("link");t.rel="preconnect",t.href=window.location.origin,document.head.appendChild(t)}retryFailedLoads(){this.loadingState.error&&this.loadQueue.length>0&&(this.loadingState.error=void 0,this.loadingState.retryCount=0,this.processQueue())}addResource(e){this.loadedResources.has(e.url)||(this.loadQueue.push(e),this.loadingState.isLoading||this.processQueue())}addResources(e){e.forEach(e=>this.addResource(e))}async processQueue(){if(0===this.loadQueue.length||this.loadingState.isLoading)return;this.loadingState.isLoading=!0,this.loadingState.progress=0,this.loadQueue.sort((e,t)=>{const s={critical:0,high:1,normal:2,low:3};return s[e.priority]-s[t.priority]});const e=this.loadQueue.length;let t=0;const s=this.isMobile?2:4;for(;this.loadQueue.length>0;){const m=this.loadQueue.splice(0,s);try{await Promise.all(m.map(e=>this.loadResource(e))),t+=m.length,this.loadingState.progress=t/e*100,this.isMobile&&this.loadQueue.length>0&&await this.delay(50)}catch(n){if(this.loadingState.error="åŠ è½½å¤±è´¥: ".concat(n),this.loadingState.retryCount<this.maxRetries){this.loadingState.retryCount++,await this.delay(1e3*this.loadingState.retryCount),this.loadQueue.unshift(...m);continue}break}}this.loadingState.isLoading=!1,this.loadingState.progress=100}async loadResource(e){if(this.loadedResources.has(e.url))return;const t=e.timeout||this.baseTimeout;return new Promise((s,n)=>{const m=setTimeout(()=>{n(new Error("èµ„æºåŠ è½½è¶…æ—¶: ".concat(e.url)))},t),r=()=>{clearTimeout(m)};try{switch(e.type){case"script":this.loadScript(e.url).then(()=>{r(),this.loadedResources.add(e.url),s()}).catch(e=>{r(),n(e)});break;case"style":this.loadStyle(e.url).then(()=>{r(),this.loadedResources.add(e.url),s()}).catch(e=>{r(),n(e)});break;case"image":this.loadImage(e.url).then(()=>{r(),this.loadedResources.add(e.url),s()}).catch(e=>{r(),n(e)});break;case"font":this.loadFont(e.url).then(()=>{r(),this.loadedResources.add(e.url),s()}).catch(e=>{r(),n(e)});break;default:r(),n(new Error("ä¸æ”¯æŒçš„èµ„æºç±»å‹: ".concat(e.type)))}}catch(i){r(),n(i)}})}loadScript(e){return new Promise((t,s)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onload=()=>t(),n.onerror=()=>s(new Error("è„šæœ¬åŠ è½½å¤±è´¥: ".concat(e))),document.head.appendChild(n)})}loadStyle(e){return new Promise((t,s)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,n.onload=()=>t(),n.onerror=()=>s(new Error("æ ·å¼åŠ è½½å¤±è´¥: ".concat(e))),document.head.appendChild(n)})}loadImage(e){return new Promise((t,s)=>{const n=new Image;n.onload=()=>t(),n.onerror=()=>s(new Error("å›¾ç‰‡åŠ è½½å¤±è´¥: ".concat(e))),n.src=e})}loadFont(e){return new Promise((t,s)=>{const n=document.createElement("link");n.rel="preload",n.as="font",n.type="font/woff2",n.crossOrigin="anonymous",n.href=e,n.onload=()=>t(),n.onerror=()=>s(new Error("å­—ä½“åŠ è½½å¤±è´¥: ".concat(e))),document.head.appendChild(n)})}delay(e){return new Promise(t=>setTimeout(t,e))}getLoadingState(){return{...this.loadingState}}clearLoadedResources(){this.loadedResources.clear()}resetLoadingState(){this.loadingState={isLoading:!1,progress:0,retryCount:0}}async preloadCriticalResources(){if(!this.isMobile)return;const e=[{url:"/src/main.tsx",type:"script",priority:"critical",timeout:this.baseTimeout},{url:"/src/App.tsx",type:"script",priority:"critical",timeout:this.baseTimeout}];this.addResources(e)}destroy(){window.removeEventListener("online",this.retryFailedLoads),document.removeEventListener("visibilitychange",()=>{}),this.resetLoadingState(),this.loadedResources.clear(),this.loadQueue=[]}},De=new class{constructor(){t(this,"retryCount",0),t(this,"maxRetries",3),t(this,"retryDelay",2e3),t(this,"connectionCheckInterval",null),this.initializeApp(),this.setupNetworkMonitoring(),this.initializeMobileOptimizations()}async initializeMobileOptimizations(){try{ke.optimizeMobileCache(),await ke.preloadCriticalResources()}catch(e){}}setupNetworkMonitoring(){window.addEventListener("online",this.handleOnline.bind(this)),window.addEventListener("offline",this.handleOffline.bind(this)),window.addEventListener("mobileConnectionChange",e=>{const{type:t,networkState:s}=e.detail;switch(t){case"unstable":this.updateLoaderText("æ£€æµ‹åˆ°ç½‘ç»œä¸ç¨³å®šï¼Œæ­£åœ¨ä¼˜åŒ–è¿æ¥...");break;case"restored":this.updateLoaderText("ç½‘ç»œè¿æ¥å·²æ¢å¤")}}),this.connectionCheckInterval=setInterval(()=>{this.checkNetworkConnection()},3e4)}async checkNetworkConnection(){try{return navigator.onLine}catch(e){return navigator.onLine}}handleOnline(){this.updateLoaderText("ç½‘ç»œè¿æ¥å·²æ¢å¤ï¼Œæ­£åœ¨é‡æ–°åˆå§‹åŒ–..."),this.retryCount=0,setTimeout(()=>{this.initializeApp()},1e3)}handleOffline(){this.updateLoaderText("ç½‘ç»œè¿æ¥å·²æ–­å¼€ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®"),this.showNetworkError()}async initializeApp(){try{if(this.updateLoaderText("æ­£åœ¨åˆå§‹åŒ–å…¼å®¹æ€§æ”¯æŒ..."),(()=>{if(/iPhone|iPad|iPod/.test(navigator.userAgent)){const e=()=>{const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))};e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",()=>{setTimeout(e,100)})}/Android/.test(navigator.userAgent)&&document.addEventListener("touchstart",()=>{},{passive:!0}),"undefined"==typeof console&&(window.console={log:()=>{},warn:()=>{},error:()=>{},info:()=>{},debug:()=>{}}),window.requestAnimationFrame||(window.requestAnimationFrame=e=>window.setTimeout(e,1e3/60)),window.cancelAnimationFrame||(window.cancelAnimationFrame=e=>{clearTimeout(e)})})(),navigator,(()=>{try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}})(),CSS.supports("display","flex"),CSS.supports("display","grid"),this.updateLoaderText("æ­£åœ¨åˆå§‹åŒ–åº”ç”¨..."),!navigator.onLine)return void this.handleOfflineState();await this.preloadCriticalResources(),await this.registerServiceWorker(),this.renderApp()}catch(e){this.handleInitializationError(e)}}async preloadCriticalResources(){try{this.updateLoaderText("æ­£åœ¨åŠ è½½æ ¸å¿ƒèµ„æº...");const e=document.createElement("link");e.rel="prefetch",e.href="/timesheet-management-system/favicon.svg",document.head.appendChild(e),await new Promise(e=>setTimeout(e,100))}catch(e){}}async registerServiceWorker(){if("serviceWorker"in navigator&&"https:"===window.location.protocol)try{this.updateLoaderText("æ­£åœ¨æ³¨å†ŒæœåŠ¡å·¥ä½œè€…..."),(await navigator.serviceWorker.register("/timesheet-management-system/sw.js",{scope:"/timesheet-management-system/"})).addEventListener("updatefound",()=>{})}catch(e){}}renderApp(){try{this.updateLoaderText("æ­£åœ¨å¯åŠ¨åº”ç”¨...");const e=document.getElementById("root");if(!e)throw new Error("æ‰¾ä¸åˆ°æ ¹å®¹å™¨å…ƒç´ ");E(e).render(n.jsxDEV(s.StrictMode,{children:n.jsxDEV(Ee,{},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/main.tsx",lineNumber:192,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/timesheet-management-system/timesheet-management-system/src/main.tsx",lineNumber:191,columnNumber:9},this)),setTimeout(()=>{window.hideInitialLoader&&window.hideInitialLoader()},500)}catch(e){this.handleInitializationError(e)}}handleOfflineState(){this.updateLoaderText("å½“å‰å¤„äºç¦»çº¿çŠ¶æ€"),this.showNetworkError(),setTimeout(()=>{try{this.renderApp()}catch(e){}},2e3)}handleInitializationError(e){var t,s,n;if(this.retryCount++,((null==(t=e.message)?void 0:t.includes("fetch"))||(null==(s=e.message)?void 0:s.includes("network"))||(null==(n=e.message)?void 0:n.includes("Failed to import")))&&this.retryCount<=this.maxRetries){this.updateLoaderText("ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œæ­£åœ¨é‡è¯•... (".concat(this.retryCount,"/").concat(this.maxRetries,")"));const e=this.retryDelay*Math.pow(1.5,this.retryCount-1);setTimeout(()=>{this.initializeApp()},e)}else this.retryCount<=this.maxRetries?(this.updateLoaderText("åˆå§‹åŒ–å¤±è´¥ï¼Œæ­£åœ¨é‡è¯•... (".concat(this.retryCount,"/").concat(this.maxRetries,")")),setTimeout(()=>{this.initializeApp()},this.retryDelay)):(this.updateLoaderText("åº”ç”¨å¯åŠ¨å¤±è´¥"),this.showFinalError(e))}updateLoaderText(e){const t=document.getElementById("loader-text");t&&(t.textContent=e)}showNetworkError(){const e=document.getElementById("error-message"),t=document.getElementById("retry-button");e&&t&&(e.textContent="ç½‘ç»œè¿æ¥å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®åé‡è¯•",e.style.display="block",t.style.display="inline-block",t.onclick=()=>{this.retryCount=0,e.style.display="none",t.style.display="none",this.initializeApp()})}showFinalError(e){const t=document.getElementById("error-message"),s=document.getElementById("retry-button");t&&s&&(t.textContent="åº”ç”¨å¯åŠ¨å¤±è´¥: ".concat(e.message||"æœªçŸ¥é”™è¯¯","ã€‚è¯·åˆ·æ–°é¡µé¢é‡è¯•ã€‚"),t.style.display="block",s.textContent="åˆ·æ–°é¡µé¢",s.style.display="inline-block",s.onclick=()=>{window.location.reload()})}cleanup(){this.connectionCheckInterval&&clearInterval(this.connectionCheckInterval),window.removeEventListener("online",this.handleOnline.bind(this)),window.removeEventListener("offline",this.handleOffline.bind(this))}};window.addEventListener("beforeunload",()=>{De.cleanup()}),window.addEventListener("error",e=>{}),window.addEventListener("unhandledrejection",e=>{});export{O as D,T as P,I as S,M as c,W as f,U as g,G as h,J as i,C as s,Q as u};
